@{
    ViewBag.Title = "Edit_User_Roles";
}

<h2 style="color:teal;text-align:center">Edit User Roles</h2>


@*@Scripts.Render("~/bundles/jquery")*@
@Scripts.Render("~/bundles/bootstrap")
<script src="~/Scripts/jquery.signalR-2.4.3.min.js"></script>
<script src="~/signalr/hubs" type="text/javascript"></script>
@*<script src="~/Scripts/jquery-3.6.0.js"></script>*@
@*<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>*@
<link rel="stylesheet" href="~/Content/select2.min.css">
<script type="text/javascript" src="~/Scripts/select2.min.js"></script>
<script type="text/javascript" src="~/Scripts/moment-with-locales.min.js"></script>

@*<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.10.1/dist/sweetalert2.all.min.js"></script>
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/sweetalert2@10.10.1/dist/sweetalert2.min.css'>*@



@Html.Hidden("Get", Url.Action("Get", "Customer"))
@Html.Hidden("Getmessages", Url.Action("Getmessages", "Customer"))
@Html.Hidden("Get1", Url.Action("Get1", "Customer"))

<input type="hidden" id="trigger" value="0" />
<input type="hidden" id="triggercount" value="0" />

<input type="hidden" id="trigger1" value="0" />
<input type="hidden" id="triggercount1" value="0" />
<input type="hidden" id="providerCatId" value="@ViewBag.providerCatId" />

<style>

    #link {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

        #link:hover {
            background-color: #ddd;
            color: black;
        }

    /*#link1 {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

        #link1:hover {
            background-color: #ddd;
            color: black;
        }*/
    /*.previous {
        background-color: #f1f1f1;
        color: black;
    }

        .previous:hover {
            background-color: #ddd;
            color: black;
        }

    .next {
        background-color: #04AA6D;
        color: white;
    }*/

    .round {
        background-color: teal;
        color: white;
        border-radius: 50%;
    }
</style>
<style>
    #User_list {
        max-width: 450px;
    }

    body {
        font-family: Arial;
        font-size: 10pt;
    }

    table {
        border: 1px solid #ccc;
        border-collapse: collapse;
        background-color: #fff;
        text-align: center;
    }

        table th {
            background-color: teal;
            color: white;
            font-weight: bold;
            font-size: 24px;
            text-align: center;
        }

        table th, table td {
            padding: 5px;
            border: 1px solid #ccc;
        }

        table, table table td {
            border: 0px solid #ccc;
            color: black;
            font-size: 20px;
        }

    legend.scheduler-border {
        width: inherit; /* Or auto */
        padding: 0 10px; /* To give a bit of padding on the left and right */
        border-bottom: none;
    }

    fieldset.scheduler-border {
        border: 1px groove #ddd !important;
        padding: 0 1.4em 1.4em 1.4em !important;
        margin: 0 0 1.5em 0 !important;
        -webkit-box-shadow: 1px 1px 1px 1px #700c0c;
        box-shadow: 1px 1px 1px 1px #700c0c;
    }

    .ul.pagination {
        display: inline-block;
        padding: 0;
        margin: 0;
    }

    ul.pagination li {
        display: inline;
    }

        ul.pagination li a {
            color: black;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
            transition: background-color .3s;
        }

            ul.pagination li a.active {
                background-color: #4CAF50;
                color: white;
            }

            ul.pagination li a:hover:not(.active) {
                background-color: #ddd;
            }
</style>
<br />
<br />
<fieldset class="scheduler-border">
    <legend class="scheduler-border" style="color:teal">Users Roles Data</legend>
    <div class="container" style="text-align:center;background:#e2dede;width:1115px;height:70px">
        <br />
        <p>
            @*@Html.Label("Users list")*@
            <label style="color:black;width:100px;font-size:18px;">Users list</label> &nbsp;

            @Html.DropDownList("Citydropdown1", new SelectList(ViewBag.li), "----Select User Name----", htmlAttributes: new { @class = "form-control", @id = "User_list", @Name = "User_list" })
        </p>

    </div>

    <br />
    @*<br />
        <label>Select All </label>
        <input type="checkbox" id="select_all" name="select_all" />
        <br />*@
    <table class="table" id="tblUser_Roles" cellpadding="0" cellspacing="0">
        <thead class="table-dark">

        </thead>
        <tr>
            <th>Role Name</th>
            <th>IsChecked</th>

        </tr>
        <tbody>

            <tr>
                <td style="color:cadetblue;">Select All Pages</td>
                <td>
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="select_all"><label style="background-color:white" for="select_all" class="check-box"></label></div>
                    @*<input type="checkbox" id="select_all" name="select_all" />*@
                </td>

            </tr>

            <tr id="UMC">
                <td>Upload Member Claim</td>
                <td>
                    @*<input type="checkbox" id="UploadMember_Claim" name="UploadMember_Claim" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="UploadMember_Claim"><label style="background-color:white" for="UploadMember_Claim" class="check-box"></label></div>

                </td>

            </tr>

            <tr id="MS">
                <td>Medical Services</td>
                <td>
                    @*<input type="checkbox" id="Medical_Services" name="Medical_Services" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="Medical_Services"><label style="background-color:white" for="Medical_Services" class="check-box"></label></div>
                </td>

            </tr>
            <tr id="CA">
                <td>ClaimForm Approved</td>
                <td>
                    @*<input type="checkbox" id="ClaimForm_Approved" name="ClaimForm_Approved" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="ClaimForm_Approved"><label style="background-color:white" for="ClaimForm_Approved" class="check-box"></label></div>
                </td>

            </tr>
            <tr id="A">
                <td>Approval</td>
                <td>
                    @*<input type="checkbox" id="ClaimForm_Approved" name="ClaimForm_Approved" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="Approval"><label style="background-color:white" for="Approval" class="check-box"></label></div>
                </td>

            </tr>
            <tr id="ES">
                <td>Expanded Services</td>
                <td>
                    @*<input type="checkbox" id="Expanded_Services" name="Expanded_Services" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="Expanded_Services"><label style="background-color:white" for="Expanded_Services" class="check-box"></label></div>
                </td>

            </tr>
            <tr id="PI">
                <td>Payment Inquiry</td>
                <td>
                    @*<input type="checkbox" id="Payment_Inquiry" name="Payment_Inquiry" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="Payment_Inquiry"><label style="background-color:white" for="Payment_Inquiry" class="check-box"></label></div>
                </td>

            </tr>
            <tr id="IA">
                <td>Invoices Audit</td>
                <td>
                    @*<input type="checkbox" id="Invoices_Audit" name="Invoices_Audit" />*@
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="Invoices_Audit"><label style="background-color:white" for="Invoices_Audit" class="check-box"></label></div>
                </td>
            </tr>
            <tr id="Dc">
                <td>Doctor ClaimForm</td>
                <td>
                    <div class="checkbox-wrapper-19"><input type="checkbox" id="Doctor_ClaimForm"><label style="background-color:white" for="Doctor_ClaimForm" class="check-box"></label></div>
                </td>
            </tr>

        </tbody>
    </table>
    <br />
    <br />
    <div class="btn-lg" style="text-align:center">
        <input type="submit" value="Update" id="User_role" class="btn btn-success btn-lg btn-block" />
    </div>
    <br />
    <br />
    <br />

    <div style="text-align:left;display:inline-block;position:relative">

        <a id="link" class="round" href="@Url.Action("Index","ProviderUserDatas")">@*<u>*@&laquo; Back to Main List@*</u>*@</a>
    </div>
    <div style="text-align:right;display:inline-block;padding-left:700px;position:relative">
        <a id="link" class="round" href="@Url.Action("Add_User_Roles","ProviderUserDatas")">@*<u>*@ Go to  Edit User Roles&raquo;@*</u>*@</a>
    </div>
</fieldset>


@if (ViewBag.providerCatId != null)
{
    <script type="text/javascript">

            window.onload = function () {
                if (( "@ViewBag.providerCatId" == 1) || ( "@ViewBag.providerCatId" == 5) || ( "@ViewBag.providerCatId" == 6) || ( "@ViewBag.providerCatId" == 7)) {
                    $("#UMC").hide();
                    $("#MS").hide();
                    $("#CA").hide();
                    $("#A").hide();

                }
                else {
                    $("#Dc").hide();
                }
            };
    </script>
}

<script type="text/javascript">
    $(document).ready(function () {

        $("#User_list").select2();

        $("#User_list").change(function () {
            $.get("/ProviderUserDatas/Get_User_Roless", { id: $('#User_list').val() }, function (data) {

                if (data[0] == 0) {
                    // alert(data[1][0]);
                    if (data[1][0] != false) { $("#UploadMember_Claim").prop('checked', true); }
                    else { $('#UploadMember_Claim').prop('checked', false); }

                    if (data[1][1] != false) { $("#Medical_Services").prop('checked', true); }
                    else { $('#Medical_Services').prop('checked', false); }


                    if (data[1][2] != false) { $("#ClaimForm_Approved").prop('checked', true); }
                    else { $('#ClaimForm_Approved').prop('checked', false); }

                    if (data[1][3] != false) { $("#Expanded_Services").prop('checked', true); }
                    else { $('#Expanded_Services').prop('checked', false); }

                    if (data[1][4] != false) { $("#Payment_Inquiry").prop('checked', true); }
                    else { $('#Payment_Inquiry').prop('checked', false); }

                    if (data[1][5] != false) { $("#Invoices_Audit").prop('checked', true); }
                    else { $('#Invoices_Audit').prop('checked', false); }

                    if (data[1][6] != false) { $("#Approval").prop('checked', true); }
                    else { $('#Approval').prop('checked', false); }


                    if (data[1][7] != false) { $("#Doctor_ClaimForm").prop('checked', true); }
                    else { $('#Doctor_ClaimForm').prop('checked', false); }

                    // alert("User Roles is Updated");

                }
                else {
                    // alert(data[1]);
                    //Swal.fire("Error !", data[1], "error");

                }

            })


        });
        $("body").on("click", "#User_role", function () {
            //alert($('#Cliams_Booklet').is(":checked"));
            $.get("/ProviderUserDatas/Edit_User_Roless", {
                User_list: $('#User_list').val(),
                UploadMember_Claim: $('#UploadMember_Claim').is(":checked"),
                Medical_Services: $('#Medical_Services').is(":checked"),
                ClaimForm_Approved: $('#ClaimForm_Approved').is(":checked"),
                Approval: $('#Approval').is(":checked"),
                Expanded_Services: $('#Expanded_Services').is(":checked"),
                Payment_Inquiry: $('#Payment_Inquiry').is(":checked"),
                Invoices_Audit: $('#Invoices_Audit').is(":checked"),
                Doctor_ClaimForm: $('#Doctor_ClaimForm').is(":checked")
            }, function (data) {

                if (data[0] == 0) {

                    //alert("User Roles is Edited");
                    Swal.fire("Success", "User Roles is Edited Successfully", "success");

                }
                else {
                    Swal.fire("Error !", data[1], "error");
                    //alert(data[1]);
                }



            })
        });
        $("#select_all").change(function () {

            //alert($('#select_all').is(":checked"));
            if ($('#select_all').is(":checked") != false) {
                //$("#UploadMember_Claim").prop('checked', true);
                //$("#Medical_Services").prop('checked', true);
                //$("#ClaimForm_Approved").prop('checked', true);
                //$("#Approval").prop('checked', true);
                //$("#Expanded_Services").prop('checked', true);
                //$("#Payment_Inquiry").prop('checked', true);
                //$("#Invoices_Audit").prop('checked', true);
                //$("#Doctor_ClaimForm").prop('checked', true);


                if (($('#providerCatId').val() == 1) || ($('#providerCatId').val() == 5) || ($('#providerCatId').val() == 6) || ($('#providerCatId').val() == 7)) {
                    $("#Expanded_Services").prop('checked', true);
                    $("#Payment_Inquiry").prop('checked', true);
                    $("#Invoices_Audit").prop('checked', true);
                    $("#Doctor_ClaimForm").prop('checked', true);
                }
                else {
                    $("#UploadMember_Claim").prop('checked', true);
                    $("#Medical_Services").prop('checked', true);
                    $("#ClaimForm_Approved").prop('checked', true);
                    $("#Approval").prop('checked', true);
                    $("#Expanded_Services").prop('checked', true);
                    $("#Payment_Inquiry").prop('checked', true);
                    $("#Invoices_Audit").prop('checked', true);
                }
            }
            else {
                //$("#UploadMember_Claim").prop('checked', false);
                //$("#Medical_Services").prop('checked', false);
                //$("#ClaimForm_Approved").prop('checked', false);
                //$("#Approval").prop('checked', false);
                //$("#Expanded_Services").prop('checked', false);
                //$("#Payment_Inquiry").prop('checked', false);
                //$("#Invoices_Audit").prop('checked', false);
                //$("#Doctor_ClaimForm").prop('checked', false);
                if (($('#providerCatId').val() == 1) || ($('#providerCatId').val() == 5) || ($('#providerCatId').val() == 6) || ($('#providerCatId').val() == 7)) {

                    $("#Expanded_Services").prop('checked', false);
                    $("#Payment_Inquiry").prop('checked', false);
                    $("#Invoices_Audit").prop('checked', false);
                    $("#Doctor_ClaimForm").prop('checked', false);
                }
                else {
                    $("#UploadMember_Claim").prop('checked', false);
                    $("#Medical_Services").prop('checked', false);
                    $("#ClaimForm_Approved").prop('checked', false);
                    $("#Approval").prop('checked', false);
                    $("#Expanded_Services").prop('checked', false);
                    $("#Payment_Inquiry").prop('checked', false);
                    $("#Invoices_Audit").prop('checked', false);
                }
            }
        });

    });

</script>
<script type="text/javascript">
    $(document).on('select2:open', () => {
        document.querySelector('.select2-search__field').focus();
    });
</script>


<script type="text/javascript">
    document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
            //$.connection.hub.disconnect();
            // $.connection.hub.disconnected(function () {
            //});
            $.connection.hub.stop();

             //console.log("tab out")
            // tab is changed
        } else {
            //$.connection.hub.connect();
            $.connection.hub.start().done(function () {
                 //console.log("connection started")
                //notifications.onconn();
                getData();
                getData1();
            }).fail(function (e) {
                //console.log(e);
            });
            //console.log("tab in")

            // tab is active
        }
    });

    function sleep(ms) {
        return new Promise(
            resolve => setTimeout(resolve, ms)
        );


    }
    $(function () {

        // Proxy created on the fly
        var cus = $.connection.cusHub;
        //var cus1 = $.connection.cusHub1;
        //console.log(cus)
        // Declare a function on the job hub so the server can invoke it
        cus.client.displayCustomer = function () {
            // async function a() {
            getData();
            //   await sleep(2000);
            //  getData1();
            //}
            //a();

            //getData();
            //getData1();
        };
        cus.client.data = function () {
            //async function a() {
            //    getData();
            //    await sleep(2000);
            getData1();
            //}
            //a();

            //getData();
            //getData1();
        };
        // Start the connection

        cus.client.data1 = function () {
            getData2();
        };
        // Start the connection
        $.connection.hub.start();
        getData();
        getData1();
        getData2();
        //async function aa() {
        //    getData();
        //    await sleep(2000);
        //    getData1();
        //}
        //aa();

    });

    function getData1() {
        try {

        //var $tbl = $('#tblInfo');
        $.ajax({
            url: /*"/Customer/Send_to_payy"*/ $("#Getmessages").val(),
            type: 'GET',
            datatype: 'json',
            success: function (data1) {

                $.get("/ClaimForm/getcountmessage", {/* Provider_id: $('#providerID').val(), Branch_id: $('#BranchID').val()*/ }, function (data) {
                    if (data == 0) {
                        $('#MesaageCount').removeAttr("data-count");

                    }
                    else {
                        $('#MesaageCount').attr("data-count", data);
                    }
                    // console.log(data);
                });


                $.each(data1.listCus, function (i, model) {

                });
            }
            });
        }
        catch (err) {
        }
    }

    function getData() {
        try {

        $.ajax({
            url: /*"/Customer/Send_to_payy"*/ $("#Get").val(),
            type: 'GET',
            datatype: 'json',
            success: function (data) {

                var provid = 0;
                var branchid = 0;
                if ("@Session["providerid"]" != "" &&"@Session["BranchID"]" != "") {
                     provid = parseInt("@Session["providerid"]");
                     branchid = parseInt("@Session["BranchID"]");
                }
                  var ApprovePage = 0;

                if ("@Session["ClaimForm_Approved"]" != "" ) {
                     ApprovePage = parseInt("@Session["ClaimForm_Approved"]");
                }
                //alert(provid);
                //alert(branchid);

                @*alert("@Session["providerid"]");
                alert(data.ProviderID);*@

                //$tbl.empty();
                $.get("/ClaimForm/getcountallert", {}, function (data1) {
                    if (data1 == 0) {
                        $('#NotifactionCount').removeAttr("data-count");

                    }
                    else {
                        $('#NotifactionCount').attr("data-count", data1);
                    }
                });
                $.each(data.listCus, function (i, model) {

                    //if ((provid == model.ProviderID) && (branchid == model.BranchID)) {
                    //}
                    if ((provid == model.ProviderID) && (branchid == model.BranchID) && (model.CardNumber != "0") && (model.ClaimFormNum != 0) && ($('#trigger').val() == "0") && (ApprovePage == 1)) {
                        $('#trigger').val("1");
                        $.connection.hub.disconnected(function () {
                            setTimeout(function () {
                                $.connection.hub.start();
                            }, 5000); // Restart connection after 5 seconds.
                        });
                        $.get("/ClaimForm/DeactiveAlert", {}, function (data2) {

                        //var result = confirm("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum + " \n Are you Sure you want to Go ClaimForm Approved ?");

                            @*//if (result == true) {
                            alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum );
                                //window.open('@Url.Action("ProviderClaimFormApproved", "ClaimForm")', '_self');
                        //}
                        //else {

                        //}
                            $('#trigger').val("0");*@
                                    if ("@Session["ClaimForm_Approved"]"!="") {
                                    ClaimForm_Approv = parseInt("@Session["ClaimForm_Approved"]");
                                   if (ClaimForm_Approv == 1) {
                                       var sound = new Audio('/Media/alert.mp3');
                                       sound.autoplay = true;
                                       sound.muted = false;
                                       sound.play();
                                       setTimeout(function () {
                                           snackbar.classList.add('isShown');
                                           $('#CardNumbersnackbar').text(model.CardNumber)
                                           $('#Claimformsnackbar').text(model.ClaimFormNum)
                                           setTimeout(hideSnackbar, 5000);
                                    @*var result = confirm("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum + " \n Are you Sure you want to Go ClaimForm Approved ?");
                                        if (result == true) {
                                                    window.open('@Url.Action("ProviderClaimFormApproved", "ClaimForm")', '_self');
                                       }
                                       else {

                                       }*@
                                       $('#trigger').val("0");
                                           if (data2 == 0) {
                                           $('#NotifactionCount').removeAttr("data-count");

                                       }
                                       else {
                                               $('#NotifactionCount').attr("data-count", data2);
                                           }
                                       }, 100);
                                }
                                 }

                        })
                        //alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber +"\n Claim Form Is :"+model.ClaimFormNum);

                    }
                    //$tbl.append
                    //    (
                    //    '<tr>' +
                    //        '<td>' + model.ClaimFormNum + '</td>' +
                    //        '<td>' + model.CardNumber + '</td>' +
                    //        '<td>' + model.ProviderID + '</td>' +
                    //        '<td>' + model.BranchID + '</td>' +
                    //    '<tr>'
                    //    );
                });
            }
            });
        }
        catch (err) {
        }
    }
    function getData2() {
        try {

        $.ajax({
            url: /*"/Customer/Send_to_payy"*/ $("#Get1").val(),
            type: 'GET',
            datatype: 'json',
            success: function (data) {

                var provid = 0;
                var branchid = 0;
                if ("@Session["providerid"]" != "" &&"@Session["BranchID"]" != "") {
                     provid = parseInt("@Session["providerid"]");
                     branchid = parseInt("@Session["BranchID"]");
                }
                  var ApprovePage = 0;
                  var ApprovePage1 = 0;
                  var ApprovePage2 = 0;

                if ("@Session["ClaimForm_Approved"]" != ""||"@Session["Approval"]" != ""||"@Session["Doctor_ClaimForm"]" != "" ) {
                     ApprovePage = parseInt("@Session["ClaimForm_Approved"]");
                     ApprovePage1 = parseInt("@Session["Approval"]");
                     ApprovePage2 = parseInt("@Session["Doctor_ClaimForm"]");
                }

                $.get("/ClaimForm/getcountallertSmartCard", {}, function (data1) {
                    if (data1 == 0) {
                        $('#MemberSmartCardRequestsCount').removeAttr("data-count");

                    }
                    else {
                        $('#MemberSmartCardRequestsCount').attr("data-count", data1);
                    }
                });
                $.each(data.listCus, function (i, model) {

                    //if ((provid == model.ProviderID) && (branchid == model.BranchID)) {
                    //}
                    if ((provid == model.ProviderID) && (branchid == model.BranchID) && (model.CardNumber != "0")  && ($('#trigger1').val() == "0") && (ApprovePage == 1||ApprovePage1 == 1||ApprovePage2 == 1)) {
                        $('#trigger1').val("1");
                        $.connection.hub.disconnected(function () {
                            setTimeout(function () {
                                $.connection.hub.start();
                            }, 5000); // Restart connection after 5 seconds.
                        });
                       
                        $.get("/ClaimForm/DeactiveAlertSmartCard", {}, function (data2) {

                        //var result = confirm("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum + " \n Are you Sure you want to Go ClaimForm Approved ?");

                            //if (result == true) {
                            var sound = new Audio('/Media/alert.mp3');
                            sound.play();
                            setTimeout(function () {
                                snackbarMember.classList.add('isShown');
                                $('#CardNumbersnackbarMember').text(model.CardNumber)
                                setTimeout(hideSnackbard1, 5000);
                           // alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum );
                               // window.open('@Url.Action("ProviderClaimFormApproved", "ClaimForm")', '_self');
                        //}
                        //else {

                        //}
                            $('#trigger1').val("0");
                                if (data2 == 0) {
                                $('#MemberSmartCardRequestsCount').removeAttr("data-count");

                            }
                            else {
                                    $('#MemberSmartCardRequestsCount').attr("data-count", data2);
                                }
                            }, 100);

                        })
                        //alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber +"\n Claim Form Is :"+model.ClaimFormNum);

                    }
                    //$tbl.append
                    //    (
                    //    '<tr>' +
                    //        '<td>' + model.ClaimFormNum + '</td>' +
                    //        '<td>' + model.CardNumber + '</td>' +
                    //        '<td>' + model.ProviderID + '</td>' +
                    //        '<td>' + model.BranchID + '</td>' +
                    //    '<tr>'
                    //    );
                });
            }
            });
        }
        catch (err) {
        }
    }
</script>

@*<script type="text/javascript">
        $(function () {

            // Proxy created on the fly
            var cus = $.connection.cusHub;

            // Declare a function on the job hub so the server can invoke it
            cus.client.displayCustomer = function () {
                getData1();
            };

            // Start the connection
            $.connection.hub.start();
            getData1();
        });

        function getData1() {
            //var $tbl = $('#tblInfo');
            $.ajax({
                url: /*"/Customer/Send_to_payy"*/ $("#Getmessages").val(),
                type: 'GET',
                datatype: 'json',
                success: function (data) {

                    $.get("/ClaimForm/getcountmessage", {/* Provider_id: $('#providerID').val(), Branch_id: $('#BranchID').val()*/ }, function (data) {
                        if (data == 0) {
                            $('#MesaageCount').removeAttr("data-count");

                        }
                        else {
                            $('#MesaageCount').attr("data-count", data);
                        }
                        // console.log(data);
                    });


                    $.each(data.listCus, function (i, model) {

                    });
                }
            });
        }

    </script>*@

<script>


    function refresh() {

              $.ajax({
                        type: "POST",
                        url: "/ClaimForm/CheckIfSessionValid",
                        //data: JSON.stringify(Claims_Services),
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (r) {
                            if (r == "False") {
                                window.open('@Url.Action("login", "ClaimForm")', '_self');
                            }
                            else {
                                setTimeout(refresh, 5000);
                                 }
                        }
        });

    }

    setTimeout(refresh, 1000);
</script>




<style>
    .checkbox-wrapper-19 {
        box-sizing: border-box;
        --background-color: #fff;
        --checkbox-height: 25px;
    }

    @@-moz-keyframes dothabottomcheck-19 {
        0% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) / 2);
        }
    }

    @@-webkit-keyframes dothabottomcheck-19 {
        0% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) / 2);
        }
    }

    @@keyframes dothabottomcheck-19 {
        0% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) / 2);
        }
    }

    @@keyframes dothatopcheck-19 {
        0% {
            height: 0;
        }

        50% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) * 1.2);
        }
    }

    @@-webkit-keyframes dothatopcheck-19 {
        0% {
            height: 0;
        }

        50% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) * 1.2);
        }
    }

    @@-moz-keyframes dothatopcheck-19 {
        0% {
            height: 0;
        }

        50% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) * 1.2);
        }
    }

    .checkbox-wrapper-19 input[type=checkbox] {
        display: none;
    }

    .checkbox-wrapper-19 .check-box {
        height: var(--checkbox-height);
        width: var(--checkbox-height);
        background-color: transparent;
        border: calc(var(--checkbox-height) * .1) solid #000;
        border-radius: 5px;
        position: relative;
        display: inline-block;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        -moz-transition: border-color ease 0.2s;
        -o-transition: border-color ease 0.2s;
        -webkit-transition: border-color ease 0.2s;
        transition: border-color ease 0.2s;
        cursor: pointer;
    }

        .checkbox-wrapper-19 .check-box::before,
        .checkbox-wrapper-19 .check-box::after {
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            position: absolute;
            height: 0;
            width: calc(var(--checkbox-height) * .2);
            background-color: #34b93d;
            display: inline-block;
            -moz-transform-origin: left top;
            -ms-transform-origin: left top;
            -o-transform-origin: left top;
            -webkit-transform-origin: left top;
            transform-origin: left top;
            border-radius: 5px;
            content: " ";
            -webkit-transition: opacity ease 0.5;
            -moz-transition: opacity ease 0.5;
            transition: opacity ease 0.5;
        }

        .checkbox-wrapper-19 .check-box::before {
            top: calc(var(--checkbox-height) * .72);
            left: calc(var(--checkbox-height) * .41);
            box-shadow: 0 0 0 calc(var(--checkbox-height) * .05) var(--background-color);
            -moz-transform: rotate(-135deg);
            -ms-transform: rotate(-135deg);
            -o-transform: rotate(-135deg);
            -webkit-transform: rotate(-135deg);
            transform: rotate(-135deg);
        }

        .checkbox-wrapper-19 .check-box::after {
            top: calc(var(--checkbox-height) * .37);
            left: calc(var(--checkbox-height) * .05);
            -moz-transform: rotate(-45deg);
            -ms-transform: rotate(-45deg);
            -o-transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
        }

        .checkbox-wrapper-19 input[type=checkbox]:checked + .check-box,
        .checkbox-wrapper-19 .check-box.checked {
            border-color: #34b93d;
        }

            .checkbox-wrapper-19 input[type=checkbox]:checked + .check-box::after,
            .checkbox-wrapper-19 .check-box.checked::after {
                height: calc(var(--checkbox-height) / 2);
                -moz-animation: dothabottomcheck-19 0.2s ease 0s forwards;
                -o-animation: dothabottomcheck-19 0.2s ease 0s forwards;
                -webkit-animation: dothabottomcheck-19 0.2s ease 0s forwards;
                animation: dothabottomcheck-19 0.2s ease 0s forwards;
            }

            .checkbox-wrapper-19 input[type=checkbox]:checked + .check-box::before,
            .checkbox-wrapper-19 .check-box.checked::before {
                height: calc(var(--checkbox-height) * 1.2);
                -moz-animation: dothatopcheck-19 0.4s ease 0s forwards;
                -o-animation: dothatopcheck-19 0.4s ease 0s forwards;
                -webkit-animation: dothatopcheck-19 0.4s ease 0s forwards;
                animation: dothatopcheck-19 0.4s ease 0s forwards;
            }
</style>
