
@{
    ViewBag.Title = "MedicalHistory";
}


<style>
    /*body {
        margin: 0;
        padding: 0;
        background: #262626;
    }*/
    #backring1 {
        background-color: darkgray;
    }

    .ring1 {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        width: 150px;
        height: 150px;
        background: transparent;
        border: 3px solid /*#3c3c3c*/ #9ac3b8;
        border-radius: 50%;
        text-align: center;
        line-height: 150px;
        font-family: sans-serif;
        font-size: 20px;
        color: /*#928d36*/ #fff000;
        letter-spacing: 4px;
        text-transform: uppercase;
        text-shadow: 0 0 10px #fff000;
        box-shadow: 0 0 20px rgba(0,0,0,.5);
        background-color: #11395c;
    }

        .ring1:before {
            content: '';
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            border: 3px solid transparent;
            border-top: 3px solid #fff000;
            border-right: 3px solid #fff000;
            box-shadow: 0 0 1em white, 0 0 0 1000vw #e0dedeb5;
            border-radius: 50%;
            animation: animateC1 2s linear infinite;
        }

    spana1 {
        display: block;
        position: absolute;
        top: calc(50% - 2px);
        left: 50%;
        width: 50%;
        height: 4px;
        background: transparent;
        transform-origin: left;
        animation: animate1 2s linear infinite;
    }

        spana1:before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #fff000;
            top: -6px;
            right: -8px;
            box-shadow: 0 0 20px #fff000;
        }

    @@keyframes animateC1 {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    @@keyframes animate1 {
        0% {
            transform: rotate(45deg);
        }

        100% {
            transform: rotate(405deg);
        }
    }
</style>
<style>

    #ddlCustomers {
        max-width: 550px;
    }

    #selectclist {
        max-width: 550px;
    }

    body {
        font-family: Arial;
        font-size: 10pt;
    }

    table.table1 {
        border: 1px solid #ccc;
        border-collapse: collapse;
        background-color: #fff;
    }

        table.table1 th {
            background-color: teal;
            color: white;
            font-weight: bold;
        }

        table.table1 th, table.table1 td {
            padding: 5px;
            border: 1px solid #ccc;
        }

        table.table1, table.table1 table td {
            border: 0px solid #ccc;
        }

    legend.scheduler-border {
        width: inherit; /* Or auto */
        padding: 0 10px; /* To give a bit of padding on the left and right */
        border-bottom: none;
    }

    fieldset.scheduler-border {
        border: 1px groove #ddd !important;
        padding: 0 1.4em 1.4em 1.4em !important;
        margin: 0 0 1.5em 0 !important;
        -webkit-box-shadow: 5px 5px 5px 5px #700c0c;
        box-shadow: 5px 5px 5px 5px #700c0c;
    }
</style>
<script src="https://cdn.datatables.net/plug-ins/1.10.11/sorting/date-eu.js" type="text/javascript"></script>
<h2 style="color:teal;text-align:center">Medical History</h2>

<fieldset class="scheduler-border">
    <legend class="scheduler-border" style="color:teal">Medical History Overview</legend>

    <br />
    <br />

    <table class="table1" id="tblmedicalhis" cellpadding="0" cellspacing="0">
        <thead>
            <tr>
                <th>Procedure Date</th>
                <th>Claim Number</th>
                <th>Claim Type</th>
                <th>Category</th>
                <th>Provider Name</th>
                <th>ICD Number</th>
                <th>Description</th>
                <th>Service Code</th>
                <th>Service Name</th>
                <th>Medical Act</th>
                <th>Service Qnt</th>
            </tr>
        </thead>

        <tbody>
            @foreach (var item in @ViewBag.result)
            {
                <tr>
                    <td>@item.GetType().GetProperty("ProcedureDate").GetValue(item).ToString("dd/MM/yyyy")</td>
                    <td>@item.GetType().GetProperty("ClaimFormNum").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("ServiceName").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("Expr1").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("Expr2").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("Expr3").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("Expr4").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("ServiceCode").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("ServiceName").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("ServiceItemName").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("ServiceQnt").GetValue(item)</td>

                </tr>
            }
        </tbody>
    </table>

</fieldset>
<div id="backring1">
    <div class="ring1" id="Loadingg">
        Loading
        <spana1></spana1>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {

        $("#Loadingg").hide();

        $('#tblmedicalhis').DataTable({
            paging: true,
            "ordering": true,
            "scrollCollapse": true,
            "bInfo": true,
            "columnDefs": [{ "targets": 0, "type": "date-eu" }],
            scrollX: true,
            // search: true,
        });
    })
</script>



<script>


    function refresh() {

              $.ajax({
                        type: "POST",
                        url: "/ClaimForm/CheckIfSessionValid",
                        //data: JSON.stringify(Claims_Services),
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (r) {
                            if (r == "False") {
                                window.open('@Url.Action("login", "ClaimForm")', '_self');
                            }
                            else {
                                setTimeout(refresh, 5000);
                                 }
                        }
        });

    }

    setTimeout(refresh, 1000);
</script>
