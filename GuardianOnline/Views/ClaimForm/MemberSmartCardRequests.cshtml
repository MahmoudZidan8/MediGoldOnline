
@{
    ViewBag.Title = "MemberSmartCardRequests";
}



@*@Scripts.Render("~/bundles/jquery")*@
@Scripts.Render("~/bundles/bootstrap")
<script src="~/Scripts/jquery.signalR-2.4.3.min.js"></script>
<script src="~/signalr/hubs" type="text/javascript"></script>

@*<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">*@
<script type="text/javascript" src="~/Scripts/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="~/Content/bootstrapbundle.min.css">

<script src="~/Scripts/bootstrap.min.js"></script>

@*<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>*@
<link rel="stylesheet" href="~/Content/select2.min.css">
<script type="text/javascript" src="~/Scripts/select2.min.js"></script>
<script type="text/javascript" src="~/Scripts/moment-with-locales.min.js"></script>

<input type="hidden" id="trigger" value="0" />
<input type="hidden" id="triggercount" value="0" />

<input type="hidden" id="trigger1" value="0" />
<input type="hidden" id="triggercount1" value="0" />

@Html.Hidden("Get", Url.Action("Get", "Customer"))
@Html.Hidden("Getmessages", Url.Action("Getmessages", "Customer"))
@Html.Hidden("Get1", Url.Action("Get1", "Customer"))
<input type="hidden" id="providerCatId" value="@ViewBag.providerCatId" />


<input type="hidden" id="edited_row_id" />
<input type="hidden" id="Member_DeducPerc" />


<input type="hidden" id="edited_row_id_CS" />

<input type="hidden" id="prov_cat_idd_DC" />
<input type="hidden" id="Provider_id_DC" />
<input type="hidden" id="edited_row_idDoc_DC" />
<input type="hidden" id="edited_row_id_DC" />
<input type="hidden" id="edited_row_id1_DC" />
<input type="hidden" id="edited_row_id2_DC" />
<input type="hidden" id="edited_row_id3_DC" />
<input type="hidden" id="edited_row_id4_DC" />

<input type="hidden" id="CustomerPremium_Amt_DC" value="" />
<input type="hidden" id="Customer_TotalDueAmt_DC" value="" />
<input type="hidden" id="AnnualCeilinggg_DC" value="" />
<input type="hidden" id="Member_TotalDueAmt_DC" value="" />
<input type="hidden" id="Ceiling_Amt_DC" value="" />
<input type="hidden" id="Member_TotalDueAmt_Service_DC" value="" />
<input type="hidden" id="Ceiling_Amt1_DC" value="" />
<input type="hidden" id="Member_TotalDueAmt_Service1_DC" value="" />
<input type="hidden" id="Ceiling_Amt2_DC" value="" />
<input type="hidden" id="Member_TotalDueAmt_Service2_DC" value="" />
<input type="hidden" id="Ceiling_Amt3_DC" value="" />
<input type="hidden" id="Member_TotalDueAmt_Service3_DC" value="" />
<input type="hidden" id="Ceiling_Amt4_DC" value="" />
<input type="hidden" id="Member_TotalDueAmt_Service4_DC" value="" />

<input type="hidden" id="EditDueAmt_Service_DC" value="" />

<input type="hidden" id="CheckCardNum_DC" value="1" />
<input type="hidden" id="contractNum_DC" value="" />

<input type="hidden" id="Contract_TypeID_DC" value="" />
<input type="hidden" id="Is_OverCeiling_DC" value="" />

<input type="hidden" id="Member_DeducPerc_DC" value="" />


<style>
    /*#boxx {
        background-color: white;
        color: black;
    }
        #boxx:hover {
            background-color: teal;
            color: white;
            border: 3px solid #ffe121;
        }*/


    #boxx {
        display: inline-block;
        position: relative;
        margin: 20px auto;
        width: 250px;
        height: 250px;
        background: white;
        border-radius: 75px;
        border: 3px solid #e5e5e5;
        /*border: 3px solid #ffe121;*/
        font-family: 'Montserrat', sans-serif;
        font-size: 20px;
        font-weight: lighter;
        letter-spacing: 2px;
        transition: 1s box-shadow;
    }

        #boxx:hover {
            box-shadow: 0 5px 35px 0px rgba(0,0,0,.1);
            border: 3px solid #ffffff;
        }

            #boxx:hover::before, #boxx:hover::after {
                display: block;
                content: '';
                position: absolute;
                width: 250px;
                height: 250px;
                background: #FDA8CF;
                border-radius: 75px;
                z-index: -1;
                animation: 1s clockwise infinite;
            }

            #boxx:hover:after {
                background: #F3CE5E;
                animation: 2s counterclockwise infinite;
            }

    #boxx1 {
        display: inline-block;
        position: relative;
        margin: 20px auto;
        width: 250px;
        height: 250px;
        background: white;
        border-radius: 75px;
        border: 3px solid #e5e5e5;
        /*border: 3px solid #ffe121;*/
        font-family: 'Montserrat', sans-serif;
        font-size: 20px;
        font-weight: lighter;
        letter-spacing: 2px;
        transition: 1s box-shadow;
    }

        #boxx1:hover {
            box-shadow: 0 5px 35px 0px rgba(0,0,0,.1);
            border: 3px solid #ffffff;
        }

            #boxx1:hover::before, #boxx1:hover::after {
                display: block;
                content: '';
                position: absolute;
                width: 250px;
                height: 250px;
                background: #FDA8CF;
                border-radius: 75px;
                z-index: -1;
                animation: 1s clockwise infinite;
            }

            #boxx1:hover:after {
                background: #F3CE5E;
                animation: 2s counterclockwise infinite;
            }

    #boxx_CS {
        display: inline-block;
        position: relative;
        margin: 20px auto;
        width: 250px;
        height: 250px;
        background: white;
        border-radius: 75px;
        border: 3px solid #e5e5e5;
        /*border: 3px solid #ffe121;*/
        font-family: 'Montserrat', sans-serif;
        font-size: 20px;
        font-weight: lighter;
        letter-spacing: 2px;
        transition: 1s box-shadow;
    }

        #boxx_CS:hover {
            box-shadow: 0 5px 35px 0px rgba(0,0,0,.1);
            border: 3px solid #ffffff;
        }

            #boxx_CS:hover::before, #boxx_CS:hover::after {
                display: block;
                content: '';
                position: absolute;
                width: 250px;
                height: 250px;
                background: #FDA8CF;
                border-radius: 75px;
                z-index: -1;
                animation: 1s clockwise infinite;
            }

            #boxx_CS:hover:after {
                background: #F3CE5E;
                animation: 2s counterclockwise infinite;
            }

    @@keyframes clockwise {
        0% {
            top: -5px;
            left: 0;
        }

        12% {
            top: -2px;
            left: 2px;
        }

        25% {
            top: 0;
            left: 5px;
        }

        37% {
            top: 2px;
            left: 2px;
        }

        50% {
            top: 5px;
            left: 0;
        }

        62% {
            top: 2px;
            left: -2px;
        }

        75% {
            top: 0;
            left: -5px;
        }

        87% {
            top: -2px;
            left: -2px;
        }

        100% {
            top: -5px;
            left: 0;
        }
    }

    @@keyframes counterclockwise {
        0% {
            top: -5px;
            right: 0;
        }

        12% {
            top: -2px;
            right: 2px;
        }

        25% {
            top: 0;
            right: 5px;
        }

        37% {
            top: 2px;
            right: 2px;
        }

        50% {
            top: 5px;
            right: 0;
        }

        62% {
            top: 2px;
            right: -2px;
        }

        75% {
            top: 0;
            right: -5px;
        }

        87% {
            top: -2px;
            right: -2px;
        }

        100% {
            top: -5px;
            right: 0;
        }
    }
</style>
<style>

    #link {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

        #link:hover {
            background-color: #ddd;
            color: black;
        }

    #link1_CS {
        text-decoration: none;
        display: inline-block;
        padding: 8px 16px;
    }

        #link1_CS:hover {
            background-color: #ddd;
            color: black;
        }

    .previous {
        background-color: #f1f1f1;
        color: black;
    }

        .previous:hover {
            background-color: #ddd;
            color: black;
        }

    .next {
        background-color: #04AA6D;
        color: white;
    }

    .round {
        background-color: teal;
        color: white;
        border-radius: 50%;
    }
</style>
<style>
    /*body {
            background-image:url('../Images/login.jpg');
        }*/
    /*table1 {
        border: 1px solid black;
    }*/

    #selectServicelist {
        -webkit-box-shadow: 0;
        max-width: 450px;
        width: 100%;
        min-height: 35PX;
        min-width: 420PX;
        box-shadow: 10PX;
        /*border:0;*/
        border-radius: 50PX;
        /*text-align:center;*/
        color: black;
        font-size: 17PX;
        padding-left: 10PX;
    }
    body.table789 {
        font-family: Arial;
        font-size: 10pt;
    }

    table.table789 {
        border: 1px solid #ccc;
        border-collapse: collapse;
        background-color: #fff;
    }

        table.table789 th {
            background-color: teal;
            color: white;
            font-weight: bold;
            font-size: 12pt;
        }

        table.table789 th, table.table789 td {
            padding: 5px;
            border: 1px solid #ccc;
            font-size: 12pt;
        }

        table.table789, table.table789 table td {
            border: 1px solid #ccc;
            font-size: 12pt;
        }

    body.table7899 {
        font-family: Arial;
        font-size: 11pt;
    }

    table.table7899 {
        border: 1px solid #ccc;
        border-collapse: collapse;
        background-color: #fff;
    }

        table.table7899 th {
            background-color: teal;
            color: white;
            font-weight: bold;
            font-size: 12pt;
        }

        table.table7899 th, table.table789 td {
            padding: 5px;
            border: 1px solid #ccc;
            font-size: 11pt;
            font-weight: bold;
        }

        table.table7899, table.table7899 table td {
            padding: 5px;
            border: 1px solid #ccc;
            font-size: 10pt;
        }

    #ProviderBranch {
        max-width: 450px;
    }

    #ClaimForm_Number {
        max-width: 900px;
    }

    #form_number, #Card_number, #Date_Procedure, #Date_symptoms, #ICD_Number {
        font-size: 18px;
        color: black;
        padding-left: 280px;
    }

    #providerName {
        font-size: 12px;
    }

    #ClaimForm_Number {
        font-size: 30px;
    }

    #ClaimForm_NumberLabel, #Card_numberLabel {
        font-size: 20px;
        color: black;
    }

    legend.scheduler-border {
        width: inherit; /* Or auto */
        padding: 0 10px; /* To give a bit of padding on the left and right */
        border-bottom: none;
    }

    fieldset.scheduler-border {
        border: 1px groove #ddd !important;
        padding: 0 1.4em 1.4em 1.4em !important;
        margin: 0 0 1.5em 0 !important;
        -webkit-box-shadow: 5px 5px 5px 5px #700c0c;
        box-shadow: 1px 1px 1px 1px #700c0c;
    }

    #pagination {
        width: 100%;
        text-align: center;
    }

        #pagination ul li {
            display: inline;
            margin-left: 10px;
        }
</style>
<style>

    #Card_number_CS {
        -webkit-box-shadow: 0;
        max-width: 750px;
        width: 100%;
        min-height: 35PX;
        min-width: 700PX;
        box-shadow: 50PX;
        border-radius: 15PX;
        color: black;
        font-size: 17PX;
        padding-left: 10PX;
    }

    #ClaimForm_Number_CS {
        -webkit-box-shadow: 0;
        max-width: 800px;
        width: 100%;
        min-height: 35PX;
        min-width: 800PX;
        box-shadow: 50PX;
        border-radius: 15PX;
        color: black;
        font-size: 17PX;
        padding-left: 10PX;
    }

    #selectServicelist_CS {
        -webkit-box-shadow: 0;
        max-width: 450px;
        width: 100%;
        min-height: 35PX;
        min-width: 420PX;
        box-shadow: 10PX;
        /*border:0;*/
        border-radius: 50PX;
        /*text-align:center;*/
        color: black;
        font-size: 17PX;
        padding-left: 10PX;
    }



    #ClaimForm_Number_CS {
        max-width: 900px;
    }

    #Card_number_CS, #ClaimForm_Number_CS {
        font-size: 18px;
        color: black;
        padding-left: 280px;
    }


    #Card_numberLabel_CS {
        font-size: 18px;
        color: black;
    }

    #ClaimForm_NumberLabel_CS {
        font-size: 18px;
        color: black;
    }
</style>



<style>
    #Claim_FormAmt, #Member_DeductablePercentage, #Member_Deductable, #Claim_FormAmt_DC, #Member_DeductablePercentage_DC, #Member_Deductable_DC {
        -webkit-box-shadow: 0;
        max-width: 100px;
        width: 100%;
        min-height: 35PX;
        min-width: 150PX;
        box-shadow: 10PX;
        border-radius: 15PX;
        color: black;
        font-size: 17PX;
        text-align: center;
    }

    #Member_name_DC, #Card_number_DC, #Diagnosis_DC, #ICD_Number_DC {
        -webkit-box-shadow: 0;
        max-width: 450px;
        width: 100%;
        min-height: 35PX;
        min-width: 300PX;
        box-shadow: 10PX;
        border-radius: 15PX;
        color: black;
        font-size: 17PX;
        padding-left: 10PX;
    }

    #selectServicelist_DC, #selectlabslist_DC, #selectscanlist_DC, #selectopticalcenterlist_DC, #selectphysiothrapylist_DC, #selectServicelistDoc_DC, #Service_Note_DC, #Service_Note1_DC, #Service_Note2_DC, #Service_Note3_DC, #Service_Note4_DC {
        -webkit-box-shadow: 0;
        max-width: 450px;
        width: 100%;
        min-height: 35PX;
        min-width: 420PX;
        box-shadow: 10PX;
        /*border:0;*/
        border-radius: 50PX;
        /*text-align:center;*/
        color: black;
        font-size: 17PX;
        padding-left: 10PX;
    }

    #imgfilelabel_DC {
        font-size: 18px;
        color: #000;
    }



    #Service_Note_DC {
        max-width: 550px;
    }

    #Member_name_DC, #Card_number_DC, #ICD_Number_DC, #Member_name_DC {
        font-size: 15px;
    }
</style>
<h2 style="color:teal;text-align:center">Member Smart Card Requests</h2>
<br />
<fieldset class="scheduler-border">
    <legend class="scheduler-border" style="color:teal">Member Smart Card Requests Content</legend>
    <br />
    <div>
        <div class="form-group">
            @Html.Label("Member Requests", htmlAttributes: new { @class = "control-label col-md-3", @id = "ClaimForm_NumberLabel" })
            <div class="col-md-8">
                @Html.DropDownList("c1", new SelectList(ViewBag.lis), "--Select ClaimForm Number--", htmlAttributes: new { @class = "form-control", @id = "ClaimForm_Number", @Name = "ClaimForm_Number" })
                @*@Html.Editor("c1", new { htmlAttributes = new { @class = "form-control", @id = "ClaimForm_Number", required = "required" } })*@
                @Html.ValidationMessage("c1", "", new { @class = "text-danger" })
            </div>
        </div>
        <br />
        <br />
        <div style="text-align:center;padding-top:50px;padding-left:100px">

            <button type="button"
                    @*onclick="show()"*@ id="btnID" class="btn btn-primary btn-lg" style="width:250px;height:50px;font-size:18px">
                Show Member Request
            </button>
            <button type="button"
                    @*onclick="show()"*@ id="btnCancelID" class="btn btn-danger btn-lg" style="width:250px;height:50px;font-size:18px">
                Cancel Member Request
            </button>
        </div>
        <br />
        <!-- img element without src attribute -->
        <div style="text-align:center;" id="imgpost">
            @*<img id="image" src="" style="width:900px;height:900px;border:1px solid darkblue" />*@


            <div class="parent" @*style="padding-left:15px"*@>
                <div id="boxx" class='child'>
                    <a id="Medical_Servicess">

                        <div @*class="thumbnail"*@>

                            <img src="~/Images/medicalservices.jpg" width="170" height="110" />
                            <br />
                            <div class="caption" style="text-align:center">
                                <h1 style="color:#0e7211 ;font:bold">Click Here</h1>
                                <h5 style="color:#000000;font:bold">Show Medical Services</h5>
                            </div>
                        </div>
                    </a>
                </div>
                <div id="boxx1" class='child1'>
                    <a id="Approvalll">

                        <div @*class="thumbnail"*@>

                            <img src="~/Images/imgApproval.png" width="170" height="110" />
                            <br />
                            <div class="caption" style="text-align:center">
                                <h1 style="color:#0e7211 ;font:bold">Click Here</h1>
                                <h5 style="color:#000000;font:bold">Show Approval</h5>
                            </div>
                        </div>
                    </a>
                </div>

            </div>



        </div>

    </div>



</fieldset>

<div id="ApprovalSection">

    <fieldset class="scheduler-border">
        <h2 style="color:teal;text-align:center">Approval</h2>

        <legend class="scheduler-border" style="color:teal">Member Validation</legend>
        <br />
        <div>
            <div class="form-group">
                @Html.Label("Card Number", htmlAttributes: new { @class = "control-label col-md-2", @id = "Card_numberLabel" })
                <div class="col-md-10">
                    @Html.Editor("c1", new { htmlAttributes = new { @class = "form-control", @id = "Card_number", @Name = "Card_number", required = "required", @readonly = "readonly" } })
                    @Html.ValidationMessage("c1", "", new { @class = "text-danger" })
                </div>
            </div>
            <br />
            <br />
            <div style="text-align:center;padding-top:30px">
                <button type="button" id="Check_CardNumber" class="btn btn-primary btn-lg" style="width:200px;height:50px;font-size:18px">
                    <span class="glyphicon glyphicon-search"></span>&nbsp;
                    Check Approval
                </button>
            </div>
            <br />

        </div>
        <table class="table789" id="Member_Info_Table" cellpadding="0" cellspacing="0">
            <thead>
                <tr>
                    <th>Member Name</th>
                    <th>Customer Name</th>
                    <th>Card Number</th>
                    <th>Contract Number</th>
                    <th>Plan</th>
                    <th>Active Date</th>
                    <th>Activity Status</th>
                    <th>Deactive Date</th>
                    <th>Member Birth Date</th>
                    <th>Member Age</th>
                    <th>Sex Type</th>
                </tr>
            </thead>

            <tbody></tbody>

        </table>

        <br />

    </fieldset>

    <fieldset class="scheduler-border" @*style="background-color:lightgray"*@ id="Expended_services">
        <legend class="scheduler-border" style="color:teal">Approval waiting</legend>
        <div id="claim_services2">
            <table class="table7899" id="Claim_Services2" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>Approve Service</th>
                        <th>ClaimForm Number</th>
                        <th>Item Id</th>
                        <th>Service Name</th>
                        <th>Service Price</th>
                        <th>Service Qnt</th>
                        <th>Service Amt</th>
                        <th>Requested Price</th>
                        <th>Note</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody></tbody>
            </table>
            <br />
            <div class="modal" id="myModal">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">Claim Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">

                            <div id="Add_Claim_Serviceee">
                                <table id="table1" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>


                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Service Name")
                                        </td>
                                        <td style="width: 250px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "serv_name", @Name = "serv_name", @*,@Value = "1.00"*@/**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                /**/
                                                                @readonly = "readonly"
                                                            }
                                                        })
                                        </td>
                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity", @Name = "quntity"  , @readonly = "readonly"}
                                    })

                                        </td>

                                    </tr>
                                    <tr>



                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Price")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "SystemPrice", @Name = "SystemPrice",
                                            @readonly = "readonly"}
                                    })

                                        </td>


                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Service Amt")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "Service_Amt", @Name = "Service_Amt",
                                            @readonly = "readonly"}
                                    })

                                        </td>

                                    </tr>
                                    <tr>

                                        <td style="width: 120px;font-size:14px">
                                            @Html.Label("Requested Price")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "Requested_Price", @Name = "Requested_Price"
                                                    @*, @readonly = "readonly"*@}
                                            })

                                        </td>

                                        <td style="width: 120px;font-size:14px">
                                            @Html.Label("Requested Amt")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "Requested_Amt", @Name = "Requested_Amt",
                                            @readonly = "readonly"}
                                    })

                                        </td>

                                    </tr>
                                </table>
                                
                                <table id="table1" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>
                                        <td style="width: 150px;font-size:14px">
                                            @Html.Label("Service Modification")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv">
                                                <input list="Service_List" type="text" id="selectServicelist" size="400" name="ServicelIST" class="deletable" style="max-width:400px">
                                                <datalist id="Service_List"></datalist>

                                                @*@Html.DropDownList("Citydropdown1", new SelectList(ViewBag.provider_categor), "----Select Service Name----", htmlAttributes: new { @class = "form-control", @id = "selectServicelist", @Name = "ServicelIST" })*@
                                            </div>

                                        </td>
                                    </tr>
                                </table>
                                <br />
                                <br />
                                <div></div>
                                <div></div>


                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE" class="btn btn-primary btn-lg" />

                                </div>
                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>
            <br />
        </div>


        <label for="Notess">Notes : </label>
        @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control deletable", @size =135, @id = "Notess", @Name = "Notess", @readonly = "readonly"}
      })

    </fieldset>
    <fieldset class="scheduler-border" @*style="background-color:green"*@ id="Expended_Invoice">
        <legend class="scheduler-border" style="color:teal">Approval Member Invoice</legend>
        <br />

        <label style="color:red">Approval Amt : </label>
        <input type="text" size="20" id="Claim_FormAmt" name="Claim_FormAmt" value="0" readonly>&nbsp;&nbsp;&nbsp;&nbsp;
        <label style="color:red">Member Deductable Percentage : </label>
        <input type="text" size="20" id="Member_DeductablePercentage" name="Member_DeductablePercentage" value="0" readonly>&nbsp;&nbsp;&nbsp;&nbsp;
        <label style="color:red">Member Deductable : </label>
        <input type="text" size="20" id="Member_Deductable" name="Member_Deductable" value="0" readonly>&nbsp;&nbsp;&nbsp;&nbsp;

    </fieldset>
    <div style="text-align:center;" id="Approve_Claim">
        <button type="button" id="Approve_ClaimForm" class="btn btn-primary btn-lg">
            Accept Approval
        </button>
    </div>

    <div class="alert alert-danger active btn-lg" role="alert" id="memberNotApproval">
        <div style="text-align:center">
            <a> A Member Have not Any Approval From CMC in Tristar , Please Contact With CMC !</a>
        </div>
    </div>

    <br />
    <br />
    <br />
    <br />
</div>
<div id="ClaimServiceSection">

    <br />
    <fieldset class="scheduler-border">
        <h2 style="color:teal;text-align:center">Claim Services</h2>

        <legend class="scheduler-border" style="color:teal">Member Validation</legend>

        <div>
            <div class="form-group">
                @Html.Label("Card Number", htmlAttributes: new { @class = "control-label col-md-2", @id = "Card_numberLabel_CS" })
                <div class="col-md-10">
                    @Html.Editor("c1", new { htmlAttributes = new { @class = "form-control", @id = "Card_number_CS", @Name = "Card_number_CS", required = "required", @readonly = "readonly" } })
                    @Html.ValidationMessage("c1", "", new { @class = "text-danger" })
                </div>
            </div>
            <br />
            <br />
            <div>

            </div>
            <div style="text-align:center;padding-top:30px">
                <button type="button" id="Check_CardNumber_CS" class="btn btn-primary btn-lg" style="width:200px;height:50px;font-size:18px">
                    <span class="glyphicon glyphicon-search"></span>&nbsp;
                    Check Validation
                </button>
            </div>
            <br />

        </div>
        <table class="table789" id="Member_Info_Table_CS" cellpadding="0" cellspacing="0">
            <thead>
                <tr>
                    <th>Member Name</th>
                    <th>Customer Name</th>
                    <th>Card Number</th>
                    <th>Contract Number</th>
                    <th>Plan</th>
                    <th>Active Date</th>
                    <th>Activity Status</th>
                    <th>Deactive Date</th>
                    <th>Member Birth Date</th>
                    <th>Member Age</th>
                    <th>Sex Type</th>
                </tr>
            </thead>

            <tbody></tbody>

        </table>

        <br />

    </fieldset>
    <br />
    <fieldset class="scheduler-border" id="ClaimForm_image_CS">
        <legend class="scheduler-border" style="color:teal">Member ClaimForm Image Content</legend>

        <div>
            @*<div class="form-group">
                    @Html.Label("ClaimForm Number", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.Editor("c1", new { htmlAttributes = new { @class = "form-control", @id = "ClaimForm_Number", required = "required" } })
                        @Html.ValidationMessage("c1", "", new { @class = "text-danger" })
                    </div>
                </div>
                <br />
                <br />
                <div style="text-align:center">
                    <button type="button"
                            @*onclick="show()"@ id="btnID" class="btn btn-primary">
                        Show ClaimForm Image
                    </button>
                </div>*@

            <table class="table7899" id="ClaimFormTable_CS" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th style="text-align:center">Serial</th>
                        <th style="text-align:center">ClaimForm Number</th>
                        <th style="text-align:center"></th>
                        <th style="text-align:center"></th>
                    </tr>
                </thead>

                <tbody></tbody>
            </table>

            <br />
            <!-- img element without src attribute -->
            <div style="text-align:center;" id="imgpost_CS">
                @*<img id="image" src="" style="width:900px;height:900px;border:1px solid darkblue" />*@
                <div class="row justify-content-center" @*style="padding-left:50px"*@>

                    <div class="col-sm-4 col-md-2" @*style="padding-left:15px"*@>
                        <div id="boxx_CS">
                            <a id="image_CS" href="" @*src=""*@ @*style="width:900px;height:900px;border:1px solid darkblue"*@ target="_blank">

                                <div @*class="thumbnail"*@>

                                    <img src="~/Images/ClaimFormImg.jpg" width="200" height="110" />
                                    <br />
                                    <div class="caption" style="text-align:center">
                                        <h1 style="color:#ffe121 ;font:bold">Click Here</h1>
                                        <h5 style="color:#000000;font:bold">Show ClaimForm Image</h5>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <div style="text-align:right;" id="button_open_div_CS">
                <button type="button" id="button_open_CS" class="btn btn-success">
                    Open Image
                </button>
            </div>

            <div style="text-align:right;" id="button_Close_div_CS">
                <button type="button" id="button_Close_CS" class="btn btn-danger">
                    Close Image
                </button>
            </div>

            <div style="text-align:center">
                <a id="link1_CS" class="round" @*href="@Url.Action("UploadMemberClaim","ClaimForm")"*@>@*<u>*@Upload New ClaimForm Image@*</u>*@</a>
            </div>
        </div>



    </fieldset>
    <br />
    <fieldset class="scheduler-border" style="background-color:lightgray" id="Expended_services_CS">
        <legend class="scheduler-border" style="color:teal">Approval Services Waiting</legend>
        <div id="claim_services2_CS">
            <br />
            <table class="table7899" id="Claim_Services2_CS" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th style="text-align:center">Serial</th>
                        <th style="text-align:center">Service Name</th>
                        <th style="text-align:center">Service Qnt</th>
                    </tr>
                </thead>

                <tbody></tbody>
            </table>


        </div>


    </fieldset>

    <br />
    <fieldset class="scheduler-border" style="background-color:red" id="Expended_services_Stoped_CS">
        <legend class="scheduler-border" style="color:black">Approval Services Stopped</legend>
        <div id="claim_services2_Stoped_CS">
            <br />
            <table class="table7899" id="Claim_Services2_Stoped_CS" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th style="text-align:center">Serial</th>
                        <th style="text-align:center">Service Name</th>
                        <th style="text-align:center">Service Qnt</th>
                        <th style="text-align:center">Refuse Note</th>

                    </tr>
                </thead>

                <tbody></tbody>
            </table>


        </div>


    </fieldset>

    <br />
    <fieldset class="scheduler-border" style="background-color:green" id="Expended_services_Done_CS">
        <legend class="scheduler-border" style="color:black">Approval Service Done</legend>
        <div id="claim_services2_Done_CS">
            <br />
            <table class="table7899" id="Claim_Services2_Done_CS" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th style="text-align:center">Serial</th>
                        <th style="text-align:center">Service Name</th>
                        <th style="text-align:center">Service Qnt</th>
                        <th style="text-align:center">Note</th>

                    </tr>
                </thead>

                <tbody></tbody>
            </table>


        </div>


    </fieldset>
    <br />
    <fieldset class="scheduler-border" id="Provider_services_CS">
        <legend class="scheduler-border" style="color:teal">Provider Services</legend>
        <div id="claim_services1_CS">
            <br />
            <div class="form-group">
                @Html.Label("ClaimForm Number", htmlAttributes: new { @class = "control-label col-md-3", @id = "ClaimForm_NumberLabel_CS" })
                <div class="col-md-9">
                    @Html.Editor("c1", new { htmlAttributes = new { @class = "form-control deletable", @id = "ClaimForm_Number_CS", required = "required" } })
                    @Html.ValidationMessage("c1", "", new { @class = "text-danger" })
                </div>
            </div>
            <br />
            <br />
            <br />
            <input type="submit" value="Add New Service" data-bs-toggle="modal" data-bs-target="#myModal_CS" id="Add_New_Claim_Service_CS" class="btn btn-primary btn-lg" />
            <br />
            <br />
            <table class="table7899" id="Claim_Services_CS" cellpadding="0" cellspacing="0">
                <thead style="text-align:center">
                    <tr>
                        <th style="text-align:center">Serial</th>
                        <th style="text-align:center">Service Name</th>
                        <th style="text-align:center">Service Price</th>
                        <th style="text-align:center">Service Qnt</th>
                        <th style="text-align:center">Requested Price</th>
                        <th style="text-align:center"></th>
                        <th style="text-align:center"></th>
                    </tr>
                </thead>

                <tbody></tbody>
            </table>

            <br />
            <div class="modal" id="myModal_CS">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">Claim Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">

                            <div id="Add_Claim_Serviceee_CS">
                                <table id="table1_CS" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>

                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv_CS">
                                                <input list="Service_List_CS" type="text" id="selectServicelist_CS" size="400" name="ServicelIST_CS" class="deletable" style="max-width:400px">
                                                <datalist id="Service_List_CS"></datalist>

                                                @*@Html.DropDownList("Citydropdown1", new SelectList(ViewBag.provider_categor), "----Select Service Name----", htmlAttributes: new { @class = "form-control", @id = "selectServicelist_CS", @Name = "ServicelIST_CS" })*@
                                            </div>

                                        </td>
                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Price")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "SystemPrice_CS", @Name = "SystemPrice_CS",
                                           @Value = "1.00" , @readonly = "readonly"}
                                    })

                                        </td>
                                    </tr>
                                    <tr>

                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Requested Price")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "Requested_Price_CS", @Name = "Requested_Price_CS",
                                           @Value = "1.00" @*, @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity_CS", @Name = "quntity_CS" ,@Value = "1.00" @*, @readonly = "readonly"*@}
                                    })

                                        </td>
                                    </tr>
                                </table>
                                <br />
                                <br />
                                <div></div>
                                <div></div>

                                <div style="font-size: 50px;text-align:center" id="New_Claim_Service_CS">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceE_CS" class="btn btn-primary btn-lg" />

                                </div>
                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service_CS">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE_CS" class="btn btn-primary btn-lg" />

                                </div>
                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>
            <br />
            <div></div>
            <div></div>
            <div style="font-size: 15px;text-align:center" id="diagnosis_CS">
                <input type="submit" value="Request Approval" id="Doctor_Add_claim_CS" class="btn btn-primary btn-lg" @*style="width:150px;height:50px"*@ />

            </div>
        </div>


    </fieldset>

</div>

<div id="DoctorSection">
    <p>

        &nbsp;
        &nbsp;
        &nbsp;
        <a id="Medical_History_DC" class="btn btn-warning">
            <span class="glyphicon glyphicon-book"></span>
            Medical History
        </a>
    </p>
    <fieldset class="scheduler-border">
        <h2 style="color:teal;text-align:center">ADD ClaimForm</h2>

        <legend class="scheduler-border" style="color:teal">ClaimForm Data Content</legend>

        <table class="table147" cellpadding="0" cellspacing="0">
            <tr>

                <td style="width: 150px;font-size:15px">
                    @Html.Label("Member Name")
                </td>
                <td style="width: 350px">
                    <input list="Members_List_DC" type="text" id="Member_name_DC" name="Member_name_DC" size="400" style="max-width:400px" readonly>
                    <datalist id="Members_List_DC"></datalist>
                </td>

                <td style="width: 150px;font-size:15px">
                    @Html.Label("Card Number")
                </td>
                <td style="width: 350px">
                    @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control ", @size = 400, @id = "Card_number_DC", @Name = "Card_number_DC", @readonly = "readonly" } })
                </td>


                <td></td>
                <td></td>
                <td></td>
            </tr>

        </table>

        <br />
        <table class="table789" id="Member_Info_Table_DC" cellpadding="0" cellspacing="0">
            <thead>
                <tr>
                    <th>Member Name</th>
                    <th>Customer Name</th>
                    <th>Card Number</th>
                    <th>Contract Number</th>
                    <th>Plan</th>
                    <th>Active Date</th>
                    <th>Activity Status</th>
                    <th>Deactive Date</th>
                    <th>Contract Start Date</th>
                    <th>Contract End Date</th>
                    <th>Sex Type</th>
                </tr>
            </thead>

            <tbody></tbody>


        </table>


        <br />
        <table class="table369">

            <tr>

                <td style="width: 170px;font-size:15px">
                    @Html.Label("Diagnosis")
                </td>
                <td style="width: 250px;font-size:15px">
                    <input list="Diagnosis_List_DC" type="text" id="Diagnosis_DC" name="Diagnosis_DC" size="400" class="deletable" style="max-width:400px">
                    <datalist id="Diagnosis_List_DC"></datalist>

                </td>
                <td style="width: 170px;font-size:15px">

                    @Html.Label("ICD Number")
                </td>
                <td style="width: 250px;font-size:15px">

                    @Html.Editor("Citydropdown4", new { htmlAttributes = new { @class = "form-control deletable", @size = 400, @id = "ICD_Number_DC", @Name = "ICD_Number_DC" } })

                </td>


            </tr>
            <tr></tr>


        </table>
        <br />

    </fieldset>

    <fieldset class="scheduler-border" id="Provider_services_DC">
        <legend class="scheduler-border" style="color:teal">Doctor Services</legend>
        <div id="claim_services1_DC">

            <input type="submit" value="Add New Service" data-bs-toggle="modal" data-bs-target="#myModaldoc_DC" id="Add_New_Claim_ServiceDoc_DC" class="btn btn-primary btn-lg" />
            <br />
            <table class="table7899" id="Claim_ServicesDoc_DC" cellpadding="0" cellspacing="0">
                <thead style="text-align:center">
                    <tr>
                        <th style="text-align:center">Serial</th>
                        <th style="text-align:center">Service Name</th>
                        <th style="text-align:center">Service Price</th>
                        <th style="text-align:center">Service Qnt</th>
                        <th style="text-align:center">Requested Price</th>
                        <th style="text-align:center"></th>
                        <th style="text-align:center"></th>
                    </tr>
                </thead>

                <tbody>


                    @{var claimitemselect = ViewBag.providerServices;
                        var ii = 0; }
                    @*var counts = claimitemselect.Count; }
                        @for (var i = 0; i < counts; i++)*@
                    @if (claimitemselect != null)
                    {

                        ii = ii + 1;

                        <tr>
                            <td>@ii</td>
                            <td>@claimitemselect.GetType().GetProperty("ServiceName").GetValue(claimitemselect)</td>
                            <td>@claimitemselect.GetType().GetProperty("Price").GetValue(claimitemselect)</td>
                            <td>1.00</td>
                            <td>@claimitemselect.GetType().GetProperty("Price").GetValue(claimitemselect)</td>
                            <td>
                                <input type="button" onclick="editedDoc_DC(this)" data-bs-toggle="modal" data-bs-target="#myModaldoc_DC" value="Edit" class="btn btn-success" />
                            </td>
                            <td>
                                <input type="button" onclick="RemovedDoc_DC(this)" value="Remove" class="btn btn-danger" />
                            </td>
                        </tr>



                    }
                </tbody>
            </table>

            <br />
            <div class="modal" id="myModaldoc_DC">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">Claim Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">

                            <div id="Add_Claim_ServiceeeDoc_DC">
                                <table id="table1_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>

                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdocdiv_DC">
                                                <input list="Service_Listdoc_DC" type="text" id="selectServicelistDoc_DC" size="400" name="selectServicelistDoc_DC" class="deletable" style="max-width:400px">
                                                <datalist id="Service_Listdoc_DC"></datalist>

                                                @*@Html.DropDownList("Citydropdown1", new SelectList(ViewBag.provider_categor), "----Select Service Name----", htmlAttributes: new { @class = "form-control", @id = "selectServicelist", @Name = "ServicelIST" })*@
                                            </div>

                                        </td>
                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Price")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "SystemPrice_DC", @Name = "SystemPrice_DC",
                                           @Value = "1.00" , @readonly = "readonly"}
                                    })

                                        </td>
                                    </tr>
                                    <tr>

                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Requested Price")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "Requested_Price_DC", @Name = "Requested_Price_DC",
                                           @Value = "1.00" @*, @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 100px;font-size:14px">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntityDoc_DC", @Name = "quntityDoc_DC",
                                           @Value = "1.00" @*, @readonly = "readonly"*@}
                                })

                                        </td>
                                    </tr>
                                </table>
                                <br />
                                <br />
                                <div></div>
                                <div></div>

                                <div style="font-size: 50px;text-align:center" id="New_Claim_ServiceDoc_DC">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceEDoc_DC" class="btn btn-primary btn-lg" />

                                </div>
                                <div style="font-size: 50px;text-align:center" id="edit_Claim_ServiceDoc_DC">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceEDoc_DC" class="btn btn-primary btn-lg" />

                                </div>
                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
        <div class="form-group">
            @Html.Label("ClaimForm Image", htmlAttributes: new { @class = "control-label col-md-2", @id = "imgfilelabel_DC" })
            <div class="col-md-10">
                <input type="file" id="imgfile_DC" name="imgfile_DC" class="form-control icon-file_upload" required />
            </div>
        </div>
        <br />
        <br />

    </fieldset>

    <br />
    <fieldset class="scheduler-border" @*style="background-color:green"*@ id="Expended_Invoice_DC">
        <legend class="scheduler-border" style="color:teal">Approval Member Invoice</legend>
        <br />

        <label style="color:red">Invoice Amt</label>
        <input type="text" size="20" id="Claim_FormAmt_DC" name="Claim_FormAmt_DC" value="0" readonly>&nbsp;&nbsp;&nbsp;&nbsp;
        <label style="color:red">Deductable Percentage</label>
        <input type="text" size="20" id="Member_DeductablePercentage_DC" name="Member_DeductablePercentage_DC" value="0" readonly>&nbsp;&nbsp;&nbsp;&nbsp;
        <label style="color:red">Member Deductable</label>
        <input type="text" size="20" id="Member_Deductable_DC" name="Member_Deductable_DC" value="0" readonly>&nbsp;&nbsp;&nbsp;&nbsp;

    </fieldset>
    <br />

    <br />

    <fieldset class="scheduler-border" id="provider_role_DC">
        <legend class="scheduler-border" style="color:teal">Provider apperance</legend>
        <br />
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

        </div>
        <div class="form-check form-check-inline">

            <label>Select All </label>
            @*<input type="checkbox" id="select_all_DC" name="select_all_DC" />*@
            <div class="checkbox-wrapper-19"><input type="checkbox" id="select_all_DC" name="select_all_DC" /><label style="background-color:white" for="select_all_DC" class="check-box"></label></div>

        </div>

        @*<br />*@


        <div class="form-check form-check-inline">

            <label style="font-size:20px">pharmacy</label>
            @*<input type="checkbox" id="pharmacy" name="pharmacy" />*@
            <div class="checkbox-wrapper-19"><input type="checkbox" id="pharmacy_DC" name="pharmacy_DC" /><label style="background-color:white" for="pharmacy_DC" class="check-box"></label></div>

        </div>
        <div class="form-check form-check-inline">

            <label style="font-size:20px">labs</label>
            @*<input type="checkbox" id="labs" name="labs" />*@
            <div class="checkbox-wrapper-19"><input type="checkbox" id="labs_DC" name="labs_DC" /><label style="background-color:white" for="labs_DC" class="check-box"></label></div>

        </div>
        <div class="form-check form-check-inline">

            <label style="font-size:20px">scan</label>
            @*<input type="checkbox" id="scan" name="scan" />*@
            <div class="checkbox-wrapper-19"><input type="checkbox" id="scan_DC" name="scan_DC" /><label style="background-color:white" for="scan_DC" class="check-box"></label></div>

        </div>

        <div class="form-check form-check-inline">

            <label style="font-size:20px">optical center</label>
            @*<input type="checkbox" id="opticalcenter" name="opticalcenter" />*@
            <div class="checkbox-wrapper-19"><input type="checkbox" id="opticalcenter_DC" name="opticalcenter_DC" /><label style="background-color:white" for="opticalcenter_DC" class="check-box"></label></div>

        </div>
        <div class="form-check form-check-inline">

            <label style="font-size:20px">physiothrapy</label>
            @*<input type="checkbox" id="physiothrapy" name="physiothrapy" />*@
            <div class="checkbox-wrapper-19"><input type="checkbox" id="physiothrapy_DC" name="physiothrapy_DC" /><label style="background-color:white" for="physiothrapy_DC" class="check-box"></label></div>

        </div>

    </fieldset>
    <br />
    <fieldset class="scheduler-border" id="pharmacy_role_DC">
        <legend class="scheduler-border" style="color:teal">pharmacy</legend>

        <div id="claim_services1_DC">

            <input type="submit" value="Add New Claim Service" data-bs-toggle="modal" data-bs-target="#myModal_DC" id="Add_New_Claim_Service_DC" class="btn btn-primary btn-lg" />

            <br />
            <br />
            <table class="table7899" id="Claim_Services_DC" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>Serial</th>
                        <th>Service Name</th>
                        <th>Service Qnt</th>
                        <th>Service Note</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody></tbody>

            </table>

            <br />
            <div class="modal" id="myModal_DC">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">pharmacy Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div id="Add_Claim_Serviceee_DC">
                                <table id="table1_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>

                                        <td style="width: 100px;font-size:13px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv_DC">
                                                <input list="drugs_List_DC" type="text" id="selectServicelist_DC" size="400" name="ServicelIST_DC" class="deletable" style="max-width:400px">
                                                <datalist id="drugs_List_DC"></datalist>

                                            </div>

                                        </td>



                                    </tr>
                                </table>
                                <table id="table2_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">

                                    <tr>

                                        <td style="width: 100px;color:red;font-size:13px ">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity_DC", @Name = "quntity_DC",
                                           @Value = "1.00"@*, @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 150px;color:red;font-size:13px">
                                            @Html.Label("Service Note")
                                        </td>
                                        <td style="width: 400px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control deletable",
                                           @size = 50, @id = "Service_Note_DC", @Name = "Service_Note_DC"@*, @readonly = "readonly"*@}
                                })
                                        </td>

                                    </tr>

                                </table>
                                <br />

                                <br />
                                <div></div>
                                <div></div>
                                <div style="font-size: 50px;text-align:center" id="New_Claim_Service_DC">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceE_DC" class="btn btn-success btn-lg" />

                                </div>

                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service_DC">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE_DC" class="btn btn-primary btn-lg" />

                                </div>


                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>
            <br />
            @*<div></div>
                <div></div>
                <div style="font-size: 15px;text-align:center" id="diagnosis">
                    <input type="submit" value="ADD Claim" id="Doctor_Add_claim_DC" class="btn btn-primary" style="width:150px;height:50px" />

                </div>*@

        </div>
    </fieldset>
    <br />

    <fieldset class="scheduler-border" id="labs_role_DC">
        <legend class="scheduler-border" style="color:teal">labs</legend>

        <div id="claim_services2_DC">
            @*<div style="font-size: 30px" id="diagnosis">

                    <span class="label-as-badge label label-success">Approval Services</span>
                </div>*@
            <input type="submit" value="Add New Claim Service" data-bs-toggle="modal" data-bs-target="#myModal1_DC" id="Add_New_Claim_Service1_DC" class="btn btn-primary btn-lg" />

            <br />
            <br />
            <table class="table7899" id="Claim_Services1_DC" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>Serial</th>
                        <th>Service Name</th>
                        <th>Service Qnt</th>
                        <th>Service Note</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody></tbody>

            </table>

            <br />
            <div class="modal" id="myModal1_DC">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">lab Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div id="Add_Claim_Serviceee1_DC">
                                <table id="table1_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>

                                        <td style="width: 100px;font-size:13px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv_DC">
                                                <input list="labs_List_DC" type="text" id="selectlabslist_DC" size="400" name="selectlabslist_DC" class="deletable" style="max-width:400px">
                                                <datalist id="labs_List_DC"></datalist>

                                            </div>

                                        </td>


                                    </tr>
                                </table>
                                <table id="table2_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">

                                    <tr>

                                        <td style="width: 100px;color:red;font-size:13px ">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity1_DC", @Name = "quntity1_DC",
                                           @Value = "1.00"@*, @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 150px;color:red;font-size:13px">
                                            @Html.Label("Service Note")
                                        </td>
                                        <td style="width: 400px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control deletable",
                                           @size = 50, @id = "Service_Note1_DC", @Name = "Service_Note1_DC"@*, @readonly = "readonly"*@}
                                })
                                        </td>

                                    </tr>

                                </table>
                                <br />

                                <br />
                                <div></div>
                                <div></div>

                                <div style="font-size: 50px;text-align:center" id="New_Claim_Service1_DC">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceE1_DC" class="btn btn-success btn-lg" />

                                </div>

                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service1_DC">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE1_DC" class="btn btn-primary btn-lg" />

                                </div>


                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </fieldset>
    <br />

    <fieldset class="scheduler-border" id="scan_role_DC">
        <legend class="scheduler-border" style="color:teal">scan</legend>


        <div id="claim_services3_DC">

            <input type="submit" value="Add New Claim Service" data-bs-toggle="modal" data-bs-target="#myModal3_DC" id="Add_New_Claim_Service3_DC" class="btn btn-primary btn-lg" />

            <br />
            <br />
            <table class="table7899" id="Claim_Services3_DC" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>Serial</th>
                        <th>Service Name</th>
                        <th>Service Qnt</th>
                        <th>Service Note</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody></tbody>

            </table>

            <br />
            <div class="modal" id="myModal3_DC">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">Scan Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div id="Add_Claim_Serviceee2_DC">
                                <table id="table1_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>


                                        <td style="width: 100px;font-size:13px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv_DC">
                                                <input list="scan_List_DC" type="text" id="selectscanlist_DC" size="400" name="selectscanlist_DC" class="deletable" style="max-width:400px">
                                                <datalist id="scan_List_DC"></datalist>

                                            </div>

                                        </td>

                                    </tr>
                                </table>
                                <table id="table2_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">

                                    <tr>

                                        <td style="width: 100px;color:red;font-size:13px ">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity2_DC", @Name = "quntity2_DC",
                                           @Value = "1.00"@*, @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 150px;color:red;font-size:13px">
                                            @Html.Label("Service Note")
                                        </td>
                                        <td style="width: 400px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control deletable",
                                           @size = 50, @id = "Service_Note2_DC", @Name = "Service_Note2_DC"@*, @readonly = "readonly"*@}
                                })
                                        </td>

                                    </tr>

                                </table>
                                <br />

                                <br />
                                <div></div>
                                <div></div>

                                <div style="font-size: 50px;text-align:center" id="New_Claim_Service2_DC">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceE2_DC" class="btn btn-success btn-lg" />

                                </div>

                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service2_DC">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE2_DC" class="btn btn-primary btn-lg" />

                                </div>

                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </fieldset>
    <br />

    <fieldset class="scheduler-border" id="opticalcenter_role_DC">
        <legend class="scheduler-border" style="color:teal">optical center</legend>


        <div id="claim_services4_DC">

            <input type="submit" value="Add New Claim Service" data-bs-toggle="modal" data-bs-target="#myModal4_DC" id="Add_New_Claim_Service4_DC" class="btn btn-primary btn-lg" />

            <br />
            <br />
            <table class="table7899" id="Claim_Services4_DC" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>Serial</th>
                        <th>Service Name</th>
                        <th>Service Qnt</th>
                        <th>Service Note</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody></tbody>

            </table>

            <br />
            <div class="modal" id="myModal4_DC">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">optical Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div id="Add_Claim_Serviceee3_DC">
                                <table id="table1_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>


                                        <td style="width: 100px;font-size:13px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv_DC">
                                                <input list="opticalcenter_List_DC" type="text" id="selectopticalcenterlist_DC" size="400" name="selectopticalcenterlist_DC" class="deletable" style="max-width:400px">
                                                <datalist id="opticalcenter_List_DC"></datalist>

                                            </div>

                                        </td>


                                    </tr>
                                </table>
                                <table id="table2_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">

                                    <tr>

                                        <td style="width: 100px;color:red;font-size:13px ">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity3_DC", @Name = "quntity3_DC",
                                           @Value = "1.00"@*,@Value = "1.00", @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 150px;color:red;font-size:13px">
                                            @Html.Label("Service Note")
                                        </td>
                                        <td style="width: 400px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control deletable",
                                           @size = 50, @id = "Service_Note3_DC", @Name = "Service_Note3_DC"@*, @readonly = "readonly"*@}
                                })
                                        </td>

                                    </tr>

                                </table>
                                <br />

                                <br />
                                <div></div>
                                <div></div>
                                <div style="font-size: 50px;text-align:center" id="New_Claim_Service3_DC">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceE3_DC" class="btn btn-success btn-lg" />

                                </div>

                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service3_DC">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE3_DC" class="btn btn-primary btn-lg" />

                                </div>


                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </fieldset>

    <br />

    <fieldset class="scheduler-border" id="physiothrapy_role_DC">
        <legend class="scheduler-border" style="color:teal">physiothrapy</legend>


        <div id="claim_services5_DC">

            <input type="submit" value="Add New Claim Service" data-bs-toggle="modal" data-bs-target="#myModal5_DC" id="Add_New_Claim_Service5_DC" class="btn btn-primary btn-lg" />

            <br />
            <br />
            <table class="table7899" id="Claim_Services5_DC" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>Serial</th>
                        <th>Service Name</th>
                        <th>Service Qnt</th>
                        <th>Service Note</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody></tbody>

            </table>

            <br />
            <div class="modal" id="myModal5_DC">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h2 class="modal-title">physiothrapy Services</h2>
                            <button type="button" class="btn-close btn-danger" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div id="Add_Claim_Serviceee4_DC">
                                <table id="table1_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">
                                    <tr>


                                        <td style="width: 100px;font-size:13px">
                                            @Html.Label("Service list")
                                        </td>
                                        <td style="width: 250px">
                                            <div id="selectServicelistdiv_DC">
                                                <input list="physiothrapy_List_DC" type="text" id="selectphysiothrapylist_DC" size="400" name="selectphysiothrapylist_DC" class="deletable" style="max-width:400px">
                                                <datalist id="physiothrapy_List_DC"></datalist>

                                            </div>

                                        </td>


                                    </tr>
                                </table>
                                <table id="table2_DC" cellpadding="10" cellspacing="10" style="border-collapse:collapse;margin-top:20px">

                                    <tr>

                                        <td style="width: 100px;color:red;font-size:13px ">
                                            @Html.Label("Quntity")
                                        </td>
                                        <td style="width: 150px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control", @id = "quntity4_DC", @Name = "quntity4_DC",
                                           @Value = "1.00"@*, @readonly = "readonly"*@}
                                })

                                        </td>

                                        <td style="width: 150px;color:red;font-size:13px">
                                            @Html.Label("Service Note")
                                        </td>
                                        <td style="width: 400px">
                                            @Html.Editor("Citydropdown1", new { htmlAttributes = new { @class = "form-control deletable",
                                           @size = 50, @id = "Service_Note4_DC", @Name = "Service_Note4_DC"@*, @readonly = "readonly"*@}
                                })
                                        </td>

                                    </tr>

                                </table>
                                <br />

                                <br />
                                <div></div>
                                <div></div>

                                <div style="font-size: 50px;text-align:center" id="New_Claim_Service4_DC">
                                    <input type="submit" value="New Claim Service" id="New_Claim_ServiceE4_DC" class="btn btn-success btn-lg" />

                                </div>

                                <div style="font-size: 50px;text-align:center" id="edit_Claim_Service4_DC">
                                    <input type="submit" value="Edit Claim Service" id="edit_Claim_ServiceE4_DC" class="btn btn-primary btn-lg" />

                                </div>


                            </div>
                            <br />
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </fieldset>
    <div></div>
    <div style="font-size: 15px;text-align:center" id="Doctor_Add_claimdiv_DC">
        <input type="submit" value="Request ClaimForm" id="Doctor_Add_claim_DC" class="btn btn-primary" style="width:150px;height:50px" />

    </div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />

</div>
<br />
<br />
<div style="text-align:left;display:inline-block;position:relative">
    <a id="link" class="round" href="@Url.Action("DoctorHome","ClaimForm")">@*<u>*@&laquo; Back to Main Home@*</u>*@</a>
</div>
<div style="text-align:right;display:inline-block;padding-left:700px;position:relative">
    <a id="link" class="round" href="@Url.Action("Print_CancelAPProval","ClaimForm")">@*<u>*@ Go to Print Cancel APProval &raquo;@*</u>*@</a>
</div>
<br />
@if (ViewBag.providerServices != null && ViewBag.providerServices != "")
{
    <script type="text/javascript">

    window.onload = function () {

        $('#Claim_FormAmt_DC').val("@ViewBag.providerServices.GetType().GetProperty("Price").GetValue(claimitemselect)");

    };
    </script>
}
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />


@*eror messages*@
@if (ViewBag.Member_Requestt != null && ViewBag.Member_Requestt != "")
{
    <script type="text/javascript">

            window.onload = function () {
                //alert("@ViewBag.ErorMessage");

                $.when(
                  $('#ClaimForm_Number').val("@ViewBag.Member_Requestt").change()
                ).then(function () {
                    $('#btnID').click();
                    $('#ClaimForm_Number_CS').val("@ViewBag.claim_formnumberqq");

                var Cmc_Triger = 2;
                $.get("/ClaimForm/Get_ClaimFormImage", { id: "@ViewBag.claim_formnumberqq", CmcTriger: Cmc_Triger }, function (data) {
                    if (data != "") {
                        let image = document.getElementById("image_CS");
                        //src = "~/Images/medicalservices.jpg"
                        //alert(data);
                        //image.src = data[0];
                        image.href = data[0];
                        //"../Images/medicalservices.jpg";
                        // "https://media.geeksforgeeks.org/wp-content/uploads/20210915115837/gfg3.png"

                        //document.getElementById("btnID")
                        //    .style.display = "none";
                        //document.getElementById("image").style.display = "true";
                        if (data[1].length != 0) {

                            $("#Expended_services_CS").show();

                            var t = $('#Claim_Services2_CS').DataTable();
                            t.rows().remove().draw();
                            serialll = 0;
                            for (var i = 0; i < data[1].length; i++) {

                                serialll++;
                                t.row.add([serialll, data[1][i].ServiceName
                                    , data[1][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 })
                                ]).draw()
                                    ;

                            }
                        }
                        if (data[2].length != 0) {

                            $("#Expended_services_Stoped_CS").show();

                            var t = $('#Claim_Services2_Stoped_CS').DataTable();
                            t.rows().remove().draw();
                            serialll = 0;
                            for (var i = 0; i < data[2].length; i++) {

                                serialll++;
                                t.row.add([serialll, data[2][i].ServiceName
                                    , data[2][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 }), data[2][i].Refuse_Note
                                ]).draw()
                                    ;

                            }

                        }
                        if (data[3].length != 0) {

                            $("#Expended_services_Done_CS").show();

                            var t = $('#Claim_Services2_Done_CS').DataTable();
                            t.rows().remove().draw();
                            serialll = 0;
                            for (var i = 0; i < data[3].length; i++) {

                                serialll++;
                                t.row.add([serialll, data[3][i].ServiceName
                                    , data[3][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 }), data[3][i].Refuse_Note
                                ]).draw()
                                    ;

                            }

                        }
                        $("#imgpost_CS").show();
                        $("#button_open_div_CS").hide();
                        $("#button_Close_div_CS").show();



                    }
                    else {
                        Swal.fire("Warning !", "ClaimForm Number is not Approved", "warning");

                        //alert("ClaimForm Number is not Approved")
                        //document.getElementById("image").style.display = "none";
                        $("#imgpost_CS").hide();
                        $("#button_open_div_CS").hide();
                        $("#button_Close_div_CS").hide();

                        $("#Expended_services_CS").hide();
                        $("#Expended_services_Stoped_CS").hide();
                        $("#Expended_services_Done_CS").hide();
                        var t = $('#Claim_Services2_CS').DataTable();
                        t.rows().remove().draw();
                    }
                })


                    });
                @*$('#Check_CardNumber').click();

                $('#ClaimForm_Number').val("@ViewBag.claim_formnumberqq");*@


            };
    </script>
}

<script>
    //function show() {

    /* Get image and change value
    of src attribute */
    $("#imgpost").hide();
    $("#ApprovalSection").hide();
    $("#ClaimServiceSection").hide();
    $("#DoctorSection").hide();

    $("#ClaimForm_Number").select2();

    $("body").on("click", "#btnID", function () {
        $("#imgpost").hide();
        $("#ApprovalSection").hide();
        $("#ClaimServiceSection").hide();
        $("#DoctorSection").hide();

        var MemberReques = $('#ClaimForm_Number').val();
        if (MemberReques == "" || MemberReques == "whatever") {
            Swal.fire("Warning !", "Please Select Member Requests is Requierd", "warning");
        }
        else {
            var myArray = MemberReques.split(" ## ");
            var CardNumber = myArray[0];
            var EntryDate = myArray[1];
            var SmartCardRequestID = myArray[2];
            if (($('#providerCatId').val() == 1) || ($('#providerCatId').val() == 5) || ($('#providerCatId').val() == 6) || ($('#providerCatId').val() == 7)) {
                $("#DoctorSection").show();
                //$.when(
                    $('#Card_number_DC').val(CardNumber).change();

                //)
                //    .then(function () {
                //        $('#Card_number_DC').change();

                //    });
            }
            else {
                $("#imgpost").show();

                $.get("/ClaimForm/CheckApprovalExist", { Card_Number: CardNumber }, function (data) {
                    if (data != 0) {
                        $("#ApprovalSection").show();

                        $.when(
                            $('#Card_number').val(CardNumber)

                        )
                            .then(function () {
                                $('#Check_CardNumber').click();

                            });

                    }
                    else {

                        $("#ClaimServiceSection").show();

                $.when(
                    $('#Card_number_CS').val(CardNumber)

                        )
                            .then(function () {
                                $('#Check_CardNumber_CS').click();

                            });

                    }


                })


            }
            //alert(CardNumber);
            //alert(EntryDate);
            //alert(SmartCardRequestID);
        }
    });

    $("body").on("click", "#btnCancelID", function () {

        Swal.fire({
            title: "Confirm",
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Are you Sure you want to Cancel Member Request ?",
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {

        $("#imgpost").hide();
        $("#ApprovalSection").hide();
        $("#ClaimServiceSection").hide();
        $("#DoctorSection").hide();


        var MemberReques = $('#ClaimForm_Number').val();
        if (MemberReques == "" || MemberReques == "whatever") {
            Swal.fire("Warning !", "Please Select Member Requests is Requierd", "warning");
        }
        else {
            var myArray = MemberReques.split(" ## ");
            var CardNumber = myArray[0];
            var EntryDate = myArray[1];
            var SmartCardRequestID = myArray[2];
              $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: CardNumber, Smart_CardRequestID: SmartCardRequestID }, function (data) {
                    window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                })

        }

                }
            });


    });


    $("body").on("click", "#boxx", function () {
        $("#ApprovalSection").hide();
        //$("#ClaimServiceSection").hide();

        var MemberReques = $('#ClaimForm_Number').val();
        if (MemberReques == "" || MemberReques == "whatever") {
            Swal.fire("Warning !", "Please Select Member Requests is Requierd", "warning");
        }
        else {
            var myArray = MemberReques.split(" ## ");
            var CardNumber = myArray[0];
            var EntryDate = myArray[1];
            var SmartCardRequestID = myArray[2];


            //$("#ApprovalSection").show();

            //$.when(
            //    $('#Card_number').val(CardNumber)

            //)
            //    .then(function () {
            //        $('#Check_CardNumber').click();

            //    });


            $("#ClaimServiceSection").show();

            $.when(
                $('#Card_number_CS').val(CardNumber)

            )
                .then(function () {
                    $('#Check_CardNumber_CS').click();

                });



        }
    });


    $("body").on("click", "#boxx1", function () {
        //$("#ApprovalSection").hide();
        $("#ClaimServiceSection").hide();

        var MemberReques = $('#ClaimForm_Number').val();
        if (MemberReques == "" || MemberReques == "whatever") {
            Swal.fire("Warning !", "Please Select Member Requests is Requierd", "warning");
        }
        else {
            var myArray = MemberReques.split(" ## ");
            var CardNumber = myArray[0];
            var EntryDate = myArray[1];
            var SmartCardRequestID = myArray[2];


            $("#ApprovalSection").show();

            $.when(
                $('#Card_number').val(CardNumber)

            )
                .then(function () {
                    $('#Check_CardNumber').click();

                });


            //$("#ClaimServiceSection").show();

            //$.when(
            //    $('#Card_number_CS').val(CardNumber)

            //)
            //    .then(function () {
            //        $('#Check_CardNumber_CS').click();

            //    });



        }
    });


</script>




<script type="text/javascript">
    document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
            //$.connection.hub.disconnect();
            // $.connection.hub.disconnected(function () {
            //});
            $.connection.hub.stop();

             //console.log("tab out")
            // tab is changed
        } else {
            //$.connection.hub.connect();
            $.connection.hub.start().done(function () {
                 //console.log("connection started")
                //notifications.onconn();
                getData();
                getData1();
            }).fail(function (e) {
                //console.log(e);
            });
            //console.log("tab in")

            // tab is active
        }
    });

    function sleep(ms) {
        return new Promise(
            resolve => setTimeout(resolve, ms)
        );


    }
    $(function () {
        // Proxy created on the fly
        var cus = $.connection.cusHub;
        //var cus1 = $.connection.cusHub1;
        //console.log(cus)
        // Declare a function on the job hub so the server can invoke it
        cus.client.displayCustomer = function () {
            // async function a() {
            getData();
            //   await sleep(2000);
            //  getData1();
            //}
            //a();

            //getData();
            //getData1();
        };
        cus.client.data = function () {
            //async function a() {
            //    getData();
            //    await sleep(2000);
            getData1();
            //}
            //a();

            //getData();
            //getData1();
        };
        cus.client.data1 = function () {
            getData2();
        };
        // Start the connection
        $.connection.hub.start();
        getData();
        getData1();
        getData2();
        //async function aa() {
        //    getData();
        //    await sleep(2000);
        //    getData1();
        //}
        //aa();


    });
    function getData1() {
        try {

        //var $tbl = $('#tblInfo');
        $.ajax({
            url: /*"/Customer/Send_to_payy"*/ $("#Getmessages").val(),
            type: 'GET',
            datatype: 'json',
            success: function (data1) {

                $.get("/ClaimForm/getcountmessage", {/* Provider_id: $('#providerID').val(), Branch_id: $('#BranchID').val()*/ }, function (data) {
                    setBadgeCount('MesaageCount', data);
                    // console.log(data);
                });


                $.each(data1.listCus, function (i, model) {

                });
            }
            });
        }
        catch (err) {
        }
    }

    function getData() {
        try {

        $.ajax({
            url: /*"/Customer/Send_to_payy"*/ $("#Get").val(),
            type: 'GET',
            datatype: 'json',
            success: function (data) {

                var provid = 0;
                var branchid = 0;
                if ("@Session["providerid"]" != "" &&"@Session["BranchID"]" != "") {
                     provid = parseInt("@Session["providerid"]");
                     branchid = parseInt("@Session["BranchID"]");
                }
                  var ApprovePage = 0;

                if ("@Session["ClaimForm_Approved"]" != "" ) {
                     ApprovePage = parseInt("@Session["ClaimForm_Approved"]");
                }
                //alert(provid);
                //alert(branchid);

                @*alert("@Session["providerid"]");
                alert(data.ProviderID);*@

                //$tbl.empty();
                $.get("/ClaimForm/getcountallert", {}, function (data1) {
                    setBadgeCount('NotifactionCount', data1);
                });
                $.each(data.listCus, function (i, model) {

                    //if ((provid == model.ProviderID) && (branchid == model.BranchID)) {
                    //}
                    if ((provid == model.ProviderID) && (branchid == model.BranchID) && (model.CardNumber != "0") && (model.ClaimFormNum != 0) && ($('#trigger').val() == "0") && (ApprovePage == 1)) {
                        $('#trigger').val("1");
                        $.connection.hub.disconnected(function () {
                            setTimeout(function () {
                                $.connection.hub.start();
                            }, 5000); // Restart connection after 5 seconds.
                        });

                        $.get("/ClaimForm/DeactiveAlert", {}, function (data2) {

                        //var result = confirm("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum + " \n Are you Sure you want to Go ClaimForm Approved ?");

                            //if (result == true) {
                            var sound = new Audio('/Media/alert.mp3');
                            sound.play();
                            setTimeout(function () {
                                snackbar.classList.add('isShown');
                                $('#CardNumbersnackbar').text(model.CardNumber)
                                $('#Claimformsnackbar').text(model.ClaimFormNum)
                                setTimeout(hideSnackbar, 5000);
                           // alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum );
                               // window.open('@Url.Action("ProviderClaimFormApproved", "ClaimForm")', '_self');
                        //}
                        //else {

                        //}
                            $('#trigger').val("0");
                                setBadgeCount('NotifactionCount', data2);
                            }, 100);

                        })
                        //alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber +"\n Claim Form Is :"+model.ClaimFormNum);

                    }
                    //$tbl.append
                    //    (
                    //    '<tr>' +
                    //        '<td>' + model.ClaimFormNum + '</td>' +
                    //        '<td>' + model.CardNumber + '</td>' +
                    //        '<td>' + model.ProviderID + '</td>' +
                    //        '<td>' + model.BranchID + '</td>' +
                    //    '<tr>'
                    //    );
                });
            }
            });
        }
        catch (err) {
        }
    }
    function getData2() {
        try {

        $.ajax({
            url: /*"/Customer/Send_to_payy"*/ $("#Get1").val(),
            type: 'GET',
            datatype: 'json',
            success: function (data) {

                var provid = 0;
                var branchid = 0;
                if ("@Session["providerid"]" != "" &&"@Session["BranchID"]" != "") {
                     provid = parseInt("@Session["providerid"]");
                     branchid = parseInt("@Session["BranchID"]");
                }
                  var ApprovePage = 0;
                  var ApprovePage1 = 0;
                  var ApprovePage2 = 0;

                if ("@Session["ClaimForm_Approved"]" != ""||"@Session["Approval"]" != ""||"@Session["Doctor_ClaimForm"]" != "" ) {
                     ApprovePage = parseInt("@Session["ClaimForm_Approved"]");
                     ApprovePage1 = parseInt("@Session["Approval"]");
                     ApprovePage2 = parseInt("@Session["Doctor_ClaimForm"]");
                }

                $.get("/ClaimForm/getcountallertSmartCard", {}, function (data1) {
                    setBadgeCount('MemberSmartCardRequestsCount', data1);
                });
                $.each(data.listCus, function (i, model) {

                    //if ((provid == model.ProviderID) && (branchid == model.BranchID)) {
                    //}
                    if ((provid == model.ProviderID) && (branchid == model.BranchID) && (model.CardNumber != "0")  && ($('#trigger1').val() == "0") && (ApprovePage == 1||ApprovePage1 == 1||ApprovePage2 == 1)) {
                        $('#trigger1').val("1");
                        $.connection.hub.disconnected(function () {
                            setTimeout(function () {
                                $.connection.hub.start();
                            }, 5000); // Restart connection after 5 seconds.
                        });
                        $.get("/ClaimForm/AddRealtimeApprovalSmartCard", { Card_Number: model.CardNumber, Provider_ID: model.ProviderID, Branch_ID: model.BranchID }, function (data) {

                            if (data != "") {
                                var select = document.getElementById("ClaimForm_Number"), data;
                                var triggger = 1;
                                for (i = 0; i < select.options.length; i++) {
                                    if (select.options[i].value == data) {
                                        triggger = 0;
                                    }

                                }
                                if (triggger == 1) {
                                    var opt = document.createElement("option");
                                    txt = document.createTextNode(data);
                                    opt.appendChild(txt);
                                    opt.setAttribute("value", data);
                                    select.insertBefore(opt, select.lastChild);
                                }
                            }


                        })
                        $.get("/ClaimForm/DeactiveAlertSmartCard", {}, function (data2) {

                        //var result = confirm("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum + " \n Are you Sure you want to Go ClaimForm Approved ?");

                            //if (result == true) {
                            var sound = new Audio('/Media/alert.mp3');
                            sound.play();
                            setTimeout(function () {
                                snackbarMember.classList.add('isShown');
                                $('#CardNumbersnackbarMember').text(model.CardNumber)
                                setTimeout(hideSnackbard1, 5000);
                           // alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber + "\n Claim Form Is :" + model.ClaimFormNum );
                               // window.open('@Url.Action("ProviderClaimFormApproved", "ClaimForm")', '_self');
                        //}
                        //else {

                        //}
                            $('#trigger1').val("0");
                                setBadgeCount('MemberSmartCardRequestsCount', data2);
                            }, 100);

                        })
                        //alert("You Currently Reiceve Approval From CMC \n For Card Number is : " + model.CardNumber +"\n Claim Form Is :"+model.ClaimFormNum);

                    }
                    //$tbl.append
                    //    (
                    //    '<tr>' +
                    //        '<td>' + model.ClaimFormNum + '</td>' +
                    //        '<td>' + model.CardNumber + '</td>' +
                    //        '<td>' + model.ProviderID + '</td>' +
                    //        '<td>' + model.BranchID + '</td>' +
                    //    '<tr>'
                    //    );
                });
            }
            });
        }
        catch (err) {
        }
    }
</script>

<script>


    function refresh() {

              $.ajax({
                        type: "POST",
                        url: "/ClaimForm/CheckIfSessionValid",
                        //data: JSON.stringify(Claims_Services),
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (r) {
                            if (r == "False") {
                                window.open('@Url.Action("login", "ClaimForm")', '_self');
                            }
                            else {
                                setTimeout(refresh, 5000);
                                 }
                        }
        });

    }

    setTimeout(refresh, 1000);
</script>


@*Approval Section scripts*@

<script>


    $("body").on("click", "#edit_Claim_ServiceE", function () {


        var Row_id = $('#edited_row_id').val();
        var t = $('#Claim_Services2').DataTable();
        //if ($('#serv_name').val() != "") {
        //    t.cell(Row_id, 1).data($('#serv_name').val()).draw();
        //}
        //if ($('#Service_Price').val() != "") {
        //    t.cell(Row_id, 2).data($('#Service_Price').val()).draw();
        //}
        //if ($('#quntity').val() != "") {
        //    t.cell(Row_id, 3).data($('#quntity').val()).draw();
        //}
        //if ($('#Service_Amt').val() != "") {
        //    t.cell(Row_id, 4).data($('#Service_Amt').val()).draw();
        //}
        //t.cell(Row_id, 5).data($('#Refuse_Note').val()).draw();
        if ($('#serv_name').val() != "") {
            t.cell(Row_id, 3).data($('#serv_name').val()).draw();
        }
        if ($('#SystemPrice').val() != "") {
            t.cell(Row_id, 4).data($('#SystemPrice').val()).draw();

        }
        if ($('#Service_Amt').val() != "") {
            t.cell(Row_id, 6).data($('#Service_Amt').val()).draw();
        }
        //t.cell(Row_id, 5).data($('#Refuse_Note').val()).draw();
       
        if ($('#Requested_Amt').val() != "") {
            t.cell(Row_id, 7).data($('#Requested_Amt').val()).draw();
        }
        Swal.fire("Success !", "Claim Service is updated.", "success");
        var i = 0;
        var count = 0;
        var deduct = $('#Member_DeducPerc').val();
        $("#Claim_Services2 TBODY TR").each(function () {
            if ($('#IsACTIVE1' + i).is(":checked") == true) {
                var duepayment = $(this).find("TD").eq(7).html();
                var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                count = count + lastDue;
            }
            i = i + 1;

        });
        var Member_Deductableamt = count * deduct / 100;
        $('#Claim_FormAmt').val(count);
        $('#Member_Deductable').val(Member_Deductableamt);


        var Claimitemid = t.cell(Row_id, 2).data();
        $.get("/ClaimForm/UpdateServiceModificationName", { Claimitem_id: Claimitemid, service_name: $('#serv_name').val() }, function (data) {

        })
    });

    //$("#Card_number").change(function () {
    $("body").on("click", "#Check_CardNumber", function () {
        $("#Member_Info_Table").hide();
        $.get("/ClaimForm/Get_Member_info", { id: $('#Card_number').val() }, function (data) {

            if (data.length != 0) {
                $("#Member_Info_Table").show();

                //if (data[4] != "Stopped") {
                    //$("#imgpost").show();
                    //$("#button_open_div").hide();
                    //$("#button_Close_div").show();

                    $("#ClaimForm_image").show();
                    //$("#Expended_services").show();
                    $("#Provider_services").show();
                //}
                //else {

                //    $("#imgpost").hide();
                //    $("#button_open_div").hide();
                //    $("#button_Close_div").hide();

                //    $("#ClaimForm_image").hide();
                //    $("#Provider_services").hide();
                //    $("#Member_Info_Table").hide();

                //    $("#Expended_services").hide();
                //    $("#Expended_services_Stoped").hide();
                //    $("#Expended_services_Done").hide();

                //}

                $("#Member_Info_Table").find("tr:not(:first)").remove();
                var tBody = $("#Member_Info_Table > TBODY")[0];

                //Add Row.
                var row = tBody.insertRow(-1);
                var cell = $(row.insertCell(-1));
                cell.html(data[0]);
                cell = $(row.insertCell(-1));
                cell.html(data[1]);
                cell = $(row.insertCell(-1));
                cell.html(data[2]);
                cell = $(row.insertCell(-1));
                cell.html(data[3]);
                cell = $(row.insertCell(-1));
                cell.html(data[4]);
                var ActiveDate = moment(data[5]);
                cell = $(row.insertCell(-1));
                cell.html(ActiveDate.format("DD-MM-YYYY"));
                cell = $(row.insertCell(-1));
                //cell.html(data[6]);
                if (data[18] == "1") {
                    cell.html("Stopped");
                    cell.css('color', 'red');
                    $("#imgpost").hide();
                    $("#button_open_div").hide();
                    $("#button_Close_div").hide();

                    $("#ClaimForm_image").hide();
                    $("#Provider_services").hide();
                    //$("#Member_Info_Table").hide();

                    $("#Expended_services").hide();
                    $("#Expended_services_Stoped").hide();
                    $("#Expended_services_Done").hide();

                }
                else {
                    if (data[6] == "Stopped") {
                        cell.html("Stopped");
                        cell.css('color', 'red');
                    }
                    else {
                        cell.html(data[6]);
                        cell.css('color', 'Green');
                    }
                }
                var DeActive_Date = moment(data[7]);
                var Cancel_Date = moment(data[21]);
                cell = $(row.insertCell(-1));
                var aaaa = DeActive_Date.format("DD-MM-YYYY");;
                var bbbb = Cancel_Date.format("DD-MM-YYYY");;
                if ((data[7] != null && aaaa != "01-01-0001") || (data[21] != null && bbbb != "01-01-0001") || (data[22] == "0")) {
                    if (data[7] != null && aaaa != "01-01-0001") {
                        cell.html(DeActive_Date.format("DD-MM-YYYY"));
                    }
                    else if (data[21] != null && bbbb != "01-01-0001") {
                        cell.html(Cancel_Date.format("DD-MM-YYYY"));
                    }
                    else {
                        cell.html("");
                    }

                    $("#imgpost").hide();
                    $("#button_open_div").hide();
                    $("#button_Close_div").hide();

                    $("#ClaimForm_image").hide();
                    $("#Provider_services").hide();
                    //$("#Member_Info_Table").hide();

                    $("#Expended_services").hide();
                    $("#Expended_services_Stoped").hide();
                    $("#Expended_services_Done").hide();

                }
                else {

                    if (data[18] == "1") {
                        var contractend_Date = moment(data[17]);
                        //cell = $(row.insertCell(-1));
                        var aaa2 = contractend_Date.format("DD-MM-YYYY");;
                        if (data[17] != null && aaa2 != "01-01-0001") {
                            cell.html(contractend_Date.format("DD-MM-YYYY"));
                            $("#imgpost").hide();
                            $("#button_open_div").hide();
                            $("#button_Close_div").hide();

                            $("#ClaimForm_image").hide();
                            $("#Provider_services").hide();
                            //$("#Member_Info_Table").hide();

                            $("#Expended_services").hide();
                            $("#Expended_services_Stoped").hide();
                            $("#Expended_services_Done").hide();

                        }
                    }
                    else {
                        cell.html('');
                    }
                    //cell.html('');

                }


                var memberbirth_Date = moment(data[8]);
                cell = $(row.insertCell(-1));
                var aaa = memberbirth_Date.format("DD-MM-YYYY");;
                if (data[8] != null && aaa != "01-01-0001") {
                    cell.html(memberbirth_Date.format("DD-MM-YYYY"));
                }
                else {
                    cell.html('');

                }

                cell = $(row.insertCell(-1));
                cell.html(data[9]);
                cell = $(row.insertCell(-1));
                cell.html(data[10]);

            }

            else {

                var errortext = $('#Card_number').val() + "  is not Correct <br> Please Enter Card Number Again";
                Swal.fire("Warning !", errortext, "warning");

                //alert($('#Card_number').val() + " is not Correct Please Enter Card Number Again")
                $("#Member_Info_Table").hide();
                $("#imgpost").hide();
                $("#button_open_div").hide();
                $("#button_Close_div").hide();

                $("#ClaimForm_image").hide();
                //$("#Expended_services").hide();
                $("#Provider_services").hide();
                $("#Expended_services").hide();
                $("#Expended_services_Stoped").hide();
                $("#Expended_services_Done").hide();

            }
        })
        $.get("/ClaimForm/Get_Approvals", { id: $('#Card_number').val() }, function (data) {
                if (data != "") {

                    if (data[0].length != 0) {
                        $("#memberNotApproval").hide();
                        $("#Expended_services").show();
                        $("#Expended_Invoice").show();
                        $("#Approve_Claim").show();

                        var t = $('#Claim_Services2').DataTable();
                        t.rows().remove().draw();
                        serialll = 0;
                        for (var i = 0; i < data[0].length; i++) {

                            serialll++;
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal' onclick='edited(this);'>Edit</button>";
                            var id = "IsACTIVE1" + i;
                            var checkbox = "<div class='checkbox-wrapper-19'><input type='checkbox' id='" + id + "' ></input><label style='background-color: white' for=" + id +" class='check-box'></label></div>";

                            t.row.add([checkbox, data[0][i].ClaimFormNum, data[0][i].ClaimItemID, data[0][i].ServiceName
                                , data[0][i].Price.toLocaleString('en-US', { minimumFractionDigits: 2 })
                                , data[0][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 })
                                , data[0][i].ServiceAmt.toLocaleString('en-US', { minimumFractionDigits: 2 })
                                , data[0][i].RequestedPrice.toLocaleString('en-US', { minimumFractionDigits: 2 })
                                , data[0][i].Refuse_Note, btnEdit
                            ]).draw()
                                ;
                            // $('td:eq(0)',1).css('color', 'blue');
                            //$('#Claim_FormAmt').val(data[3]);
                            $('#Claim_FormAmt').val(0);
                            $('#Member_DeductablePercentage').val(data[1] + " %");
                            //$('#Member_Deductable').val(data[2]);
                            $('#Member_Deductable').val(0);


                            $('#Member_DeducPerc').val(data[1]);
                            $('#Notess').val("");


                        }
                    }
                    //$("#Card_number").val($('#Card_number').val()).change();

                }
                else {

                    // Swal.fire("warning !", "A Member Have not any Approval ", "warning");
                    $("#memberNotApproval").show();

                    $("#Expended_services").hide();
                    $("#Expended_Invoice").hide();
                    $("#Approve_Claim").hide();

                    var t = $('#Claim_Services2').DataTable();
                    t.rows().remove().draw();
                }
            })


    });

    $("body").on("click", "#link1", function () {
        var Card_numberee = $('#Card_number').val();
        window.open('@Url.Action("UploadMemberClaim", "ClaimForm")' + '?Card_numbere=' + Card_numberee, '_self');
           //href="Url.Action("UploadMemberClaim","ClaimForm", new { id = ViewBag.CardNumber })"
        });


    $("#Member_Info_Table").hide();
    $("#Expended_services").hide();
    $("#Expended_Invoice").hide();
    $("#Approve_Claim").hide();
    $("#memberNotApproval").hide();

    $('#Claim_Services2').DataTable({
        paging: false,
        ordering: false,
    });
    $("#Requested_Price").change(function () {
        var quntityy = parseFloat(($('#quntity').val()).replace(/,/g, ''));
        var Service_Pricee1 = parseFloat(($('#Requested_Price').val()).replace(/,/g, ''));

        if ($('#Requested_Price').val() == "" || isNaN($('#Requested_Price').val())) {
            Service_Pricee1 = 1;
            $('#Requested_Price').val(Service_Pricee1.toLocaleString('en-US', { minimumFractionDigits: 2 }));
        }
        else {
            $('#Requested_Price').val(Service_Pricee1.toLocaleString('en-US', { minimumFractionDigits: 2 }));
        }

        var Due_am = quntityy * Service_Pricee1;
        $('#Requested_Amt').val(Due_am.toLocaleString('en-US', { minimumFractionDigits: 2 }));

    });

    $("body").on("click", "#Claim_Services2", async function () {
        await sleep(20);
        var trigger = 0;
        var i = 0;
        var count = 0;
        var ClaimFormNum = 0;
        var claimItemIDD=0 ;
        var deduct = $('#Member_DeducPerc').val();

        $.when(
            $("#Claim_Services2 TBODY TR").each(function () {
                if ($('#IsACTIVE1' + i).is(":checked") == true) {
                    var duepayment = $(this).find("TD").eq(7).html();
                    var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                    count = count + lastDue;
                    if (trigger == 0) {
                        ClaimFormNum = $(this).find("TD").eq(1).html();
                        trigger = 1;
                        claimItemIDD = $(this).find("TD").eq(2).html();
                    }
                    var ClaimFormNumnew = $(this).find("TD").eq(1).html();
                    if (ClaimFormNumnew != ClaimFormNum) {
                        count = count - lastDue;
                        $('#IsACTIVE1' + i).prop('checked', false);
                    }
                }
                i = i + 1;

        })
        )
            .then(function () {
                $.get("/ClaimForm/Get_Deduct_Claimform", { id: claimItemIDD }, function (data) {
                    //alert(data);

                    if (data != "qq") {
                        $('#Member_DeductablePercentage').val(data[0] + " %");
                        $('#Member_DeducPerc').val(data[0]);
                        deduct = data[0];
                        //if (deduct == 0) {
                        //    $('#Member_Deductable').val(0);
                        //}
                        var Member_Deductableamt = count * deduct / 100;
                        $('#Claim_FormAmt').val(count);
                        $('#Member_Deductable').val(Member_Deductableamt);
                        $('#Notess').val(data[1]);

                    }
                    else /*if (trigger == 0)*/ {
                        $('#Claim_FormAmt').val(0);
                        $('#Member_DeductablePercentage').val(0 + " %");
                        $('#Member_Deductable').val(0);
                        $('#Member_DeducPerc').val(0);
                        $('#Notess').val("");

                    }

                })
            });

    })

    //////////////////////////
    function edited(button) {
        $("#Add_Claim_Serviceee").show();
        $("#edit_Claim_Service").show();
        //$("#New_Claim_Service").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex - 1;
        //var Service_Name = row1data[2].innerHTML;
        $('#edited_row_id').val(rowindexx);
        //alert(data);
        //alert(data.ServiceQnt);
        var roww = $(button).closest("TR").find("td");
        $("#serv_name").val(roww[3].innerHTML);
        $('#SystemPrice').val(roww[4].innerHTML);
        $('#quntity').val(roww[5].innerHTML);
        $('#Service_Amt').val(roww[6].innerHTML);
        var Requested_P = (parseFloat((roww[7].innerHTML).replace(/,/g, '')) / parseFloat((roww[5].innerHTML).replace(/,/g, ''))).toLocaleString('en-US', { minimumFractionDigits: 2 });
        $('#Requested_Price').val(Requested_P);
        $('#Requested_Amt').val(roww[7].innerHTML);





    }

</script>

<script type="text/javascript">
    $(document).ready(function () {

        $("body").on("click", "#Approve_ClaimForm", function () {
            Swal.fire({
                title: "Confirm",
                imageUrl: "/Images/Quationimg.jpg",
                imageWidth: 550,
                imageHeight: 225,
                text: "Are you Sure you want to Accept Approval ?",
                showCancelButton: true,
                confirmButtonText: "Confirm",
                cancelButtonColor: "#700c0c"

            }).then((result) => {

                if (result.isConfirmed) {

                var Claims_Services = new Array();
                var i = 0;
                var j = 0;
                    $("#Claim_Services2 TBODY TR").each(function () {
                    var row = $(this);
                    var Claim_Service = {};
                        var dt = $('#Claim_Services2').DataTable();
                    if (dt != null) {
                        if (dt.rows().count() > 0) {
                            if ($('#IsACTIVE1' + i).is(":checked") == true) {
                                Claim_Service.ClaimFormNumber = row.find("TD").eq(1).text();
                                Claim_Service.ClaimItemIDd = row.find("TD").eq(2).text();
                                Claim_Service.ServiceName = row.find("TD").eq(3).text();
                                Claim_Service.ServicePrice = parseFloat((row.find("TD").eq(4).text()).replace(/,/g, ''));
                                Claim_Service.ServiceQnt = parseFloat((row.find("TD").eq(5).text()).replace(/,/g, ''));
                                Claim_Service.ServiceAmt = parseFloat((row.find("TD").eq(6).text()).replace(/,/g, ''));
                                Claim_Service.RequestedPrice = parseFloat((row.find("TD").eq(7).text()).replace(/,/g, ''));
                                Claims_Services.push(Claim_Service);
                                j = j + 1;

                            }
                            i = i + 1;
                        }
                    }
                    });
                   if (j == 0) {
                       Swal.fire("Warning !", "Please Select At Least One Service To Accept Approval. ", "warning");
                   }
                   else {
                    $.ajax({
                        type: "POST",
                        url: "/ClaimForm/Provider_Accept_Approve",
                        data: JSON.stringify(Claims_Services),
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (r) {
                            if (r == "0") {
                                Swal.fire("Warning !", "Approval is Accepted From Another Provider <br> You Can not Accept This Approval <br> Contact With CMC Please", "warning").then(function () {
                                    $('#Check_CardNumber').click();
                                });
                                }
                            else {

                                Swal.fire("Success", "Approval is Accepted.<br>Approval Amt is :  " + r[2] + "<br> Member Deductable Percentage is :  " + r[0] + " % <br> Member Deductable is :  " + r[1] + "     ", "success").then(function () {
                                        var ClaimID = r[3];
                                        window.open('@Url.Action("GenerateReport_PrintInvoice", "ClaimForm")?typeOfReport=PDF' + '&ClaimId=' + ClaimID, '_blank');

                                        var MemberReques = $('#ClaimForm_Number').val();
                                        if (MemberReques == "" || MemberReques == "whatever") {
                                            $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: $('#Card_number').val(), Smart_CardRequestID: "" }, function (data) {
                                                window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                                            })
                                        }
                                        else {
                                            var myArray = MemberReques.split(" ## ");
                                            var CardNumber = myArray[0];
                                            var EntryDate = myArray[1];
                                            var SmartCardRequestID = myArray[2];

                                            $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: CardNumber, Smart_CardRequestID: SmartCardRequestID }, function (data) {
                                                window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                                            })


                                        }

                                });
                                 }
                        }
                    });
                }

                    }
                });


        });

    });


</script>

<style>
    .checkbox-wrapper-19 {
        box-sizing: border-box;
        --background-color: #fff;
        --checkbox-height: 25px;
    }

    @@-moz-keyframes dothabottomcheck-19 {
        0% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) / 2);
        }
    }

    @@-webkit-keyframes dothabottomcheck-19 {
        0% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) / 2);
        }
    }

    @@keyframes dothabottomcheck-19 {
        0% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) / 2);
        }
    }

    @@keyframes dothatopcheck-19 {
        0% {
            height: 0;
        }

        50% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) * 1.2);
        }
    }

    @@-webkit-keyframes dothatopcheck-19 {
        0% {
            height: 0;
        }

        50% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) * 1.2);
        }
    }

    @@-moz-keyframes dothatopcheck-19 {
        0% {
            height: 0;
        }

        50% {
            height: 0;
        }

        100% {
            height: calc(var(--checkbox-height) * 1.2);
        }
    }

    .checkbox-wrapper-19 input[type=checkbox] {
        display: none;
    }

    .checkbox-wrapper-19 .check-box {
        height: var(--checkbox-height);
        width: var(--checkbox-height);
        background-color: transparent;
        border: calc(var(--checkbox-height) * .1) solid #000;
        border-radius: 5px;
        position: relative;
        display: inline-block;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        -moz-transition: border-color ease 0.2s;
        -o-transition: border-color ease 0.2s;
        -webkit-transition: border-color ease 0.2s;
        transition: border-color ease 0.2s;
        cursor: pointer;
    }

        .checkbox-wrapper-19 .check-box::before,
        .checkbox-wrapper-19 .check-box::after {
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            position: absolute;
            height: 0;
            width: calc(var(--checkbox-height) * .2);
            background-color: #34b93d;
            display: inline-block;
            -moz-transform-origin: left top;
            -ms-transform-origin: left top;
            -o-transform-origin: left top;
            -webkit-transform-origin: left top;
            transform-origin: left top;
            border-radius: 5px;
            content: " ";
            -webkit-transition: opacity ease 0.5;
            -moz-transition: opacity ease 0.5;
            transition: opacity ease 0.5;
        }

        .checkbox-wrapper-19 .check-box::before {
            top: calc(var(--checkbox-height) * .72);
            left: calc(var(--checkbox-height) * .41);
            box-shadow: 0 0 0 calc(var(--checkbox-height) * .05) var(--background-color);
            -moz-transform: rotate(-135deg);
            -ms-transform: rotate(-135deg);
            -o-transform: rotate(-135deg);
            -webkit-transform: rotate(-135deg);
            transform: rotate(-135deg);
        }

        .checkbox-wrapper-19 .check-box::after {
            top: calc(var(--checkbox-height) * .37);
            left: calc(var(--checkbox-height) * .05);
            -moz-transform: rotate(-45deg);
            -ms-transform: rotate(-45deg);
            -o-transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
        }

        .checkbox-wrapper-19 input[type=checkbox]:checked + .check-box,
        .checkbox-wrapper-19 .check-box.checked {
            border-color: #34b93d;
        }

            .checkbox-wrapper-19 input[type=checkbox]:checked + .check-box::after,
            .checkbox-wrapper-19 .check-box.checked::after {
                height: calc(var(--checkbox-height) / 2);
                -moz-animation: dothabottomcheck-19 0.2s ease 0s forwards;
                -o-animation: dothabottomcheck-19 0.2s ease 0s forwards;
                -webkit-animation: dothabottomcheck-19 0.2s ease 0s forwards;
                animation: dothabottomcheck-19 0.2s ease 0s forwards;
            }

            .checkbox-wrapper-19 input[type=checkbox]:checked + .check-box::before,
            .checkbox-wrapper-19 .check-box.checked::before {
                height: calc(var(--checkbox-height) * 1.2);
                -moz-animation: dothatopcheck-19 0.4s ease 0s forwards;
                -o-animation: dothatopcheck-19 0.4s ease 0s forwards;
                -webkit-animation: dothatopcheck-19 0.4s ease 0s forwards;
                animation: dothatopcheck-19 0.4s ease 0s forwards;
            }
</style>


@*Claim Service Section Scripts*@


@*eror messages*@
@if (ViewBag.card_numberqq != null && ViewBag.card_numberqq != "")
{
    <script type="text/javascript">

            window.onload = function () {
                //alert("@ViewBag.ErorMessage");
                $('#Card_number_CS').val("@ViewBag.card_numberqq");
                $('#Check_CardNumber_CS').click();

                $('#ClaimForm_Number_CS').val("@ViewBag.claim_formnumberqq");

                var Cmc_Triger = 2;
                $.get("/ClaimForm/Get_ClaimFormImage", { id: "@ViewBag.claim_formnumberqq", CmcTriger: Cmc_Triger }, function (data) {
                    if (data != "") {
                        let image = document.getElementById("image_CS");
                        //src = "~/Images/medicalservices.jpg"
                        //alert(data);
                        //image.src = data[0];
                        image.href = data[0];
                        //"../Images/medicalservices.jpg";
                        // "https://media.geeksforgeeks.org/wp-content/uploads/20210915115837/gfg3.png"

                        //document.getElementById("btnID")
                        //    .style.display = "none";
                        //document.getElementById("image").style.display = "true";
                        if (data[1].length != 0) {

                            $("#Expended_services_CS").show();

                            var t = $('#Claim_Services2_CS').DataTable();
                            t.rows().remove().draw();
                            serialll = 0;
                            for (var i = 0; i < data[1].length; i++) {

                                serialll++;
                                t.row.add([serialll, data[1][i].ServiceName
                                    , data[1][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 })
                                ]).draw()
                                    ;

                            }
                        }
                        if (data[2].length != 0) {

                            $("#Expended_services_Stoped_CS").show();

                            var t = $('#Claim_Services2_Stoped_CS').DataTable();
                            t.rows().remove().draw();
                            serialll = 0;
                            for (var i = 0; i < data[2].length; i++) {

                                serialll++;
                                t.row.add([serialll, data[2][i].ServiceName
                                    , data[2][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 }), data[2][i].Refuse_Note
                                ]).draw()
                                    ;

                            }

                        }
                        if (data[3].length != 0) {

                            $("#Expended_services_Done_CS").show();

                            var t = $('#Claim_Services2_Done_CS').DataTable();
                            t.rows().remove().draw();
                            serialll = 0;
                            for (var i = 0; i < data[3].length; i++) {

                                serialll++;
                                t.row.add([serialll, data[3][i].ServiceName
                                    , data[3][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 }), data[3][i].Refuse_Note
                                ]).draw()
                                    ;

                            }

                        }
                        $("#imgpost_CS").show();
                        $("#button_open_div_CS").hide();
                        $("#button_Close_div_CS").show();



                    }
                    else {
                        Swal.fire("Warning !", "ClaimForm Number is not Approved", "warning");

                        //alert("ClaimForm Number is not Approved")
                        //document.getElementById("image").style.display = "none";
                        $("#imgpost_CS").hide();
                        $("#button_open_div_CS").hide();
                        $("#button_Close_div_CS").hide();

                        $("#Expended_services_CS").hide();
                        $("#Expended_services_Stoped_CS").hide();
                        $("#Expended_services_Done_CS").hide();
                        var t = $('#Claim_Services2_CS').DataTable();
                        t.rows().remove().draw();
                    }
                })



            };
    </script>
}

<script>


    //$("#Card_number").change(function () {
    $("body").on("click", "#Check_CardNumber_CS", function () {

        $("#imgpost_CS").hide();
        $("#button_open_div_CS").hide();
        $("#button_Close_div_CS").hide();

        $("#ClaimForm_image_CS").hide();
        $("#Expended_services_CS").hide();
        $("#Expended_services_Stoped_CS").hide();
        $("#Expended_services_Done_CS").hide();
        $("#Provider_services_CS").hide();
        $("#Member_Info_Table_CS").hide();

        @*@ViewBag.CardNumber = $('#Card_number').val();
        alert("@ViewBag.CardNumber");*@
        $.get("/ClaimForm/Get_Member_info", { id: $('#Card_number_CS').val() }, function (data) {

            if (data.length != 0) {
                if (data[1] == "Wellness Plus" || data[1] == "Wellness Plus DMV") {
                    //alert(data[1]);
                    Swal.fire("Warning !", $('#Card_number_CS').val() + " is not Correct <br> User Can not Accessed For this  Card Number <br> Please Contact With CMC", "warning");

                }
                else {
                    $("#Member_Info_Table_CS").show();

                    //if (data[4] != "Stopped") {
                    //$("#imgpost_CS").show();
                    //$("#button_open_div_CS").hide();
                    //$("#button_Close_div_CS").show();

                    $("#ClaimForm_image_CS").show();
                    //$("#Expended_services_CS").show();
                    $("#Provider_services_CS").show();
                    //}
                    //else {

                    //    $("#imgpost_CS").hide();
                    //    $("#button_open_div_CS").hide();
                    //    $("#button_Close_div_CS").hide();

                    //    $("#ClaimForm_image").hide();
                    //    $("#Provider_services_CS").hide();
                    //    $("#Member_Info_Table").hide();

                    //    $("#Expended_services_CS").hide();
                    //    $("#Expended_services_Stoped_CS").hide();
                    //    $("#Expended_services_Done_CS").hide();

                    //}

                    $("#Member_Info_Table_CS").find("tr:not(:first)").remove();
                    var tBody = $("#Member_Info_Table_CS > TBODY")[0];

                    //Add Row.
                    var row = tBody.insertRow(-1);
                    var cell = $(row.insertCell(-1));
                    cell.html(data[0]);
                    cell = $(row.insertCell(-1));
                    cell.html(data[1]);
                    cell = $(row.insertCell(-1));
                    cell.html(data[2]);
                    cell = $(row.insertCell(-1));
                    cell.html(data[3]);
                    cell = $(row.insertCell(-1));
                    cell.html(data[4]);
                    var ActiveDate = moment(data[5]);
                    cell = $(row.insertCell(-1));
                    cell.html(ActiveDate.format("DD-MM-YYYY"));
                    cell = $(row.insertCell(-1));
                    //cell.html(data[6]);
                    if (data[18] == "1") {
                        cell.html("Stopped");
                        cell.css('color', 'red');
                        $("#imgpost_CS").hide();
                        $("#button_open_div_CS").hide();
                        $("#button_Close_div_CS").hide();

                        $("#ClaimForm_image_CS").hide();
                        $("#Provider_services_CS").hide();
                        //$("#Member_Info_Table").hide();

                        $("#Expended_services_CS").hide();
                        $("#Expended_services_Stoped_CS").hide();
                        $("#Expended_services_Done_CS").hide();

                    }
                    else {
                        if (data[6] == "Stopped") {
                            cell.html("Stopped");
                            cell.css('color', 'red');
                        }
                        else {
                            cell.html(data[6]);
                            cell.css('color', 'Green');
                        }
                    }
                    var DeActive_Date = moment(data[7]);
                    var Cancel_Date = moment(data[21]);

                    cell = $(row.insertCell(-1));
                    var aaaa = DeActive_Date.format("DD-MM-YYYY");
                    var bbbb = Cancel_Date.format("DD-MM-YYYY");;
                    if ((data[7] != null && aaaa != "01-01-0001") || (data[21] != null && bbbb != "01-01-0001") || (data[22] == "0")) {
                        if (data[7] != null && aaaa != "01-01-0001") {
                            cell.html(DeActive_Date.format("DD-MM-YYYY"));
                        }
                        else if (data[21] != null && bbbb != "01-01-0001") {
                            cell.html(Cancel_Date.format("DD-MM-YYYY"));
                        }
                        else {
                            cell.html("");
                        }
                        $("#imgpost_CS").hide();
                        $("#button_open_div_CS").hide();
                        $("#button_Close_div_CS").hide();

                        $("#ClaimForm_image_CS").hide();
                        $("#Provider_services_CS").hide();
                        //$("#Member_Info_Table").hide();

                        $("#Expended_services_CS").hide();
                        $("#Expended_services_Stoped_CS").hide();
                        $("#Expended_services_Done_CS").hide();

                    }
                    else {

                        if (data[18] == "1") {
                            var contractend_Date = moment(data[17]);
                            //cell = $(row.insertCell(-1));
                            var aaa2 = contractend_Date.format("DD-MM-YYYY");;
                            if (data[17] != null && aaa2 != "01-01-0001") {
                                cell.html(contractend_Date.format("DD-MM-YYYY"));
                                $("#imgpost_CS").hide();
                                $("#button_open_div_CS").hide();
                                $("#button_Close_div_CS").hide();

                                $("#ClaimForm_image_CS").hide();
                                $("#Provider_services_CS").hide();
                                //$("#Member_Info_Table").hide();

                                $("#Expended_services_CS").hide();
                                $("#Expended_services_Stoped_CS").hide();
                                $("#Expended_services_Done_CS").hide();

                            }
                        }
                        else {
                            cell.html('');
                        }
                        //cell.html('');

                    }


                    var memberbirth_Date = moment(data[8]);
                    cell = $(row.insertCell(-1));
                    var aaa = memberbirth_Date.format("DD-MM-YYYY");;
                    if (data[8] != null && aaa != "01-01-0001") {
                        cell.html(memberbirth_Date.format("DD-MM-YYYY"));
                    }
                    else {
                        cell.html('');

                    }

                    cell = $(row.insertCell(-1));
                    cell.html(data[9]);
                    cell = $(row.insertCell(-1));
                    cell.html(data[10]);
                }
            }

            else {

                var errortext = $('#Card_number_CS').val() + "  is not Correct <br> Please Enter Card Number Again";
                Swal.fire("Warning !", errortext, "warning");

                //alert($('#Card_number_CS').val() + " is not Correct Please Enter Card Number Again")
                $("#Member_Info_Table_CS").hide();
                $("#imgpost_CS").hide();
                $("#button_open_div_CS").hide();
                $("#button_Close_div_CS").hide();

                $("#ClaimForm_image_CS").hide();
                //$("#Expended_services_CS").hide();
                $("#Provider_services_CS").hide();
                $("#Expended_services_CS").hide();
                $("#Expended_services_Stoped_CS").hide();
                $("#Expended_services_Done_CS").hide();

            }
        })
        $.get("/ClaimForm/Get_MemberClaimForms", { id: $('#Card_number_CS').val() }, function (data) {

            var t = $('#ClaimFormTable_CS').DataTable();
            t.rows().remove().draw();
            if (data.length != 0) {

                serialll11 = 0;

                for (var i = 0; i < data.length; i++) {

                    serialll11++;
                    var btnshow = "<button type='button' class='btn btn-primary' style='text-align: center' onclick='show_CS(this);'>Show ClaimForm Image</button>";
                    //var btnEditClaimNum = "<button type='button' class='btn btn-success' style='text-align: center' onclick='Edit(this);'>Edit ClaimForm Number</button>";
                    var btndeleteClaimform = "<button type='button' class='btn btn-danger' style='text-align: center' onclick='Delete_CS(this);'>Delete ClaimForm Image</button>";

                    t.row.add([serialll11, data[i].ClaimFormNumber, btnshow, /*btnEditClaimNum,*/ btndeleteClaimform

                    ]).draw()
                        ;

                }
            }
            else {
                //$("#ClaimForm_image").hide();
                //$("#Expended_services_CS").hide();
                $("#imgpost_CS").hide();
                $("#button_open_div_CS").hide();
                $("#button_Close_div_CS").hide();

                $("#Provider_services_CS").hide();
                $("#Expended_services_CS").hide();
                $("#Expended_services_Stoped_CS").hide();
                $("#Expended_services_Done_CS").hide();

            }

        })

    });

    $("body").on("click", "#link1_CS", function () {
        var Card_numberee = $('#Card_number_CS').val();
        window.open('@Url.Action("UploadMemberClaim", "ClaimForm")' + '?Card_numbere=' + Card_numberee, '_self');
           //href="Url.Action("UploadMemberClaim","ClaimForm", new { id = ViewBag.CardNumber })"
        });


    $("#imgpost_CS").hide();
    $("#button_open_div_CS").hide();
    $("#button_Close_div_CS").hide();

    $("#ClaimForm_image_CS").hide();
    $("#Expended_services_CS").hide();
    $("#Expended_services_Stoped_CS").hide();
    $("#Expended_services_Done_CS").hide();
    $("#Provider_services_CS").hide();
    $("#Member_Info_Table_CS").hide();


    $("body").on("click", "#button_open_div_CS", function () {
        $("#imgpost_CS").show();
        $("#button_open_div_CS").hide();
        $("#button_Close_div_CS").show();
    });

    $("body").on("click", "#button_Close_div_CS", function () {
        $("#imgpost_CS").hide();
        $("#button_open_div_CS").show();
        $("#button_Close_div_CS").hide();
    });

</script>



<script type="text/javascript">
    $(document).ready(function () {


        $("#New_Claim_Service_CS").hide();
        $("#edit_Claim_Service_CS").hide();
        $("body").on("click", "#Add_New_Claim_Service_CS", function () {
            $("#Add_Claim_Serviceee_CS").show();
            $("#New_Claim_Service_CS").show();
            $("#edit_Claim_Service_CS").hide();

        });

        $('#Claim_Services_CS').DataTable({
            paging: false,
        });

        $('#Claim_Services2_CS').DataTable({
            paging: true,
        });
        $('#Claim_Services2_Stoped_CS').DataTable({
            //paging: false,
            //ordering: false,
        });
        $('#Claim_Services2_Done_CS').DataTable({
            //paging: false,
            //ordering: false,
        });
        $('#ClaimFormTable_CS').DataTable({
            paging: true,
        });
        //$("#ProviderBranch").select2();

        serial = 0;
        $("body").on("click", "#New_Claim_ServiceE_CS", function () {

            $.get("/ClaimForm/Check_ServiceName", { id: $('#selectServicelist_CS').val() }, function (data) {

                if (data != "") {
                    if (($('#selectServicelist_CS').val() == "")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else {

                        var isexist = 0;
                        $("#Claim_Services_CS TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_Services_CS').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectServicelist_CS').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });
                        //$("#Claim_Services2_CS TBODY TR").each(function () {
                        //    var row = $(this);
                        //    var dt = $('#Claim_Services2_CS').DataTable();
                        //    if (dt != null) {
                        //        if (dt.rows().count() > 0) {
                        //            var newService_Name = $('#selectServicelist_CS').val();
                        //            var Service_Name = row.find("TD").eq(1).html();

                        //            if (newService_Name == Service_Name) {
                        //                isexist = 2;
                        //            }

                        //        }
                        //    }
                        //});
                        if (isexist == 0) {
                            var t = $('#Claim_Services_CS').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal_CS' onclick='edited_CS(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='Removed_CS(this);'>Remove</button>";
                            serial++;
                            t.row.add([serial, $('#selectServicelist_CS').val()
                                , $('#SystemPrice_CS').val(), $('#quntity_CS').val(), $('#Requested_Price_CS').val(), btnEdit, btnRemove
                            ]).draw()
                                ;
                            Swal.fire("Success", "Claim Service is inserted to Services Successfully", "success");

                            //alert("Claim Service is inserted to Services.");
                        }
                        else/* if (isexist == 1)*/ {
                            //alert("Claim Service is Added Since while in Provider Services.");
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                        //else {
                        //    alert("Claim Service is Added Since while in Approval waiting.");

                        //}

                    }
                }
                else {

                    //alert("Select Correct Service Name");
                    Swal.fire("Warning !", "Select Correct Service Name", "warning");

                }

            });


        });

        $("body").on("click", "#edit_Claim_ServiceE_CS", function () {
            $.get("/ClaimForm/Check_ServiceName", { id: $('#selectServicelist_CS').val() }, function (data) {

                if (data != "") {
                    if (($('#selectServicelist_CS').val() == "")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else {

                        //var isexist = 0;
                        //$("#Claim_Services_CS TBODY TR").each(function () {
                        //    var row = $(this);
                        //    var dt = $('#Claim_Services_CS').DataTable();
                        //    if (dt != null) {
                        //        if (dt.rows().count() > 0) {
                        //            var newService_Name = $('#selectServicelist_CS').val();
                        //            var Service_Name = row.find("TD").eq(1).html();

                        //            if (newService_Name == Service_Name) {
                        //                isexist = 1;
                        //            }

                        //        }
                        //    }
                        //});
                        var Row_id = $('#edited_row_id_CS').val() - 1;
                        var t = $('#Claim_Services_CS').DataTable();
                        if ($('#selectServicelist_CS').val() != "") {
                            t.cell(Row_id, 1).data($('#selectServicelist_CS').val()).draw();
                        }
                        if ($('#SystemPrice_CS').val() != "") {
                            t.cell(Row_id, 2).data($('#SystemPrice_CS').val()).draw();
                        }
                        if ($('#quntity_CS').val() != "") {
                            t.cell(Row_id, 3).data($('#quntity_CS').val()).draw();
                        }
                        if ($('#Requested_Price_CS').val() != "") {
                            t.cell(Row_id, 4).data($('#Requested_Price_CS').val()).draw();

                        }
                        Swal.fire("success !", "Claim Service is updated.", "success");

                        //if (isexist == 0) {

                        //alert("Claim Service is inserted to Services.");
                        //}
                        //else/* if (isexist == 1)*/ {
                        //    //alert("Claim Service is Added Since while in Provider Services.");
                        //    Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        //}
                        //else {
                        //    alert("Claim Service is Added Since while in Approval waiting.");

                        //}

                    }
                }
                else {

                    //alert("Select Correct Service Name");
                    Swal.fire("Warning !", "Select Correct Service Name", "warning");

                }



            });

        });

    });

    function Removed_CS(button) {

        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();

        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                //if (confirm("Do you want to delete: " + name)) {
                //Get the reference of the Table.
                //var table = $("#Claim_Services_CS")[0];
                var table = $('#Claim_Services_CS').DataTable();
                //alert(row[0].rowIndex-1);

                //Delete the Table row using it's Index.
                //table.deleteRow(row[0].rowIndex);


                var rows = table
                    .rows(row[0].rowIndex - 1)
                    .remove()
                    .draw();
                //}
            }
        });

    };
    function edited_CS(button) {
        $("#Add_Claim_Serviceee_CS").show();
        $("#edit_Claim_Service_CS").show();
        $("#New_Claim_Service_CS").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[2].innerHTML;
        $('#edited_row_id_CS').val(rowindexx);
        var roww = $(button).closest("TR").find("td");

        $("#selectServicelist_CS").val(roww[1].innerHTML);
        $("#SystemPrice_CS").val(roww[2].innerHTML);
        $('#quntity_CS').val(roww[3].innerHTML);
        $('#Requested_Price_CS').val(roww[4].innerHTML);

    }

    function show_CS(button) {

        $("#imgpost_CS").hide();
        $("#button_open_div_CS").hide();
        $("#button_Close_div_CS").hide();

        $("#Expended_services_CS").hide();
        $("#Expended_services_Stoped_CS").hide();
        $("#Expended_services_Done_CS").hide();
        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();
        //if (confirm("Do you want to delete: " + name)) {
        //Get the reference of the Table.
        //var table = $("#Claim_Services_CS")[0];

        //var table = $('#ClaimFormTable_CS').DataTable();
        //var Claimform_number = table.cell(row[0].rowIndex - 1, 1).data();
        var Claimform_number = row[0].cells.item(1).innerHTML;
        //alert(Claimform_number);
        //alert($("TD", row).eq(1).html());

        // alert(Claimform_number);
        $('#ClaimForm_Number_CS').val(Claimform_number);

        var Cmc_Triger = 2;
        $.get("/ClaimForm/Get_ClaimFormImage", { id: Claimform_number, CmcTriger: Cmc_Triger }, function (data) {
            if (data != "") {
                let image = document.getElementById("image_CS");
                //src = "~/Images/medicalservices.jpg"
                //alert(data);
                //image.src = data[0];
                image.href = data[0];
                //"../Images/medicalservices.jpg";
                // "https://media.geeksforgeeks.org/wp-content/uploads/20210915115837/gfg3.png"

                //document.getElementById("btnID")
                //    .style.display = "none";
                //document.getElementById("image").style.display = "true";
                var t = $('#Claim_Services2_CS').DataTable();
                t.rows().remove().draw();
                if (data[1].length != 0) {

                    $("#Expended_services_CS").show();


                    serialll = 0;
                    for (var i = 0; i < data[1].length; i++) {

                        serialll++;
                        t.row.add([serialll, data[1][i].ServiceName
                            , data[1][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 })
                        ]).draw()
                            ;

                    }
                }
                var t1 = $('#Claim_Services2_Stoped_CS').DataTable();
                t1.rows().remove().draw();
                if (data[2].length != 0) {

                    $("#Expended_services_Stoped_CS").show();


                    serialll = 0;
                    for (var i = 0; i < data[2].length; i++) {

                        serialll++;
                        t1.row.add([serialll, data[2][i].ServiceName
                            , data[2][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 }), data[2][i].Refuse_Note
                        ]).draw()
                            ;

                    }

                }
                var t2 = $('#Claim_Services2_Done_CS').DataTable();
                t2.rows().remove().draw();
                if (data[3].length != 0) {

                    $("#Expended_services_Done_CS").show();


                    serialll = 0;
                    for (var i = 0; i < data[3].length; i++) {

                        serialll++;
                        t2.row.add([serialll, data[3][i].ServiceName
                            , data[3][i].ServiceQnt.toLocaleString('en-US', { minimumFractionDigits: 2 }), data[3][i].Refuse_Note
                        ]).draw()
                            ;

                    }

                }
                $("#imgpost_CS").show();
                $("#button_open_div_CS").hide();
                $("#button_Close_div_CS").show();



            }
            else {
                Swal.fire("Warning !", "ClaimForm Number is not Approved", "warning");

                //alert("ClaimForm Number is not Approved")
                //document.getElementById("image").style.display = "none";
                $("#imgpost_CS").hide();
                $("#button_open_div_CS").hide();
                $("#button_Close_div_CS").hide();

                $("#Expended_services_CS").hide();
                $("#Expended_services_Stoped_CS").hide();
                $("#Expended_services_Done_CS").hide();
                var t = $('#Claim_Services2_CS').DataTable();
                t.rows().remove().draw();



                var t1 = $('#Claim_Services2_Stoped_CS').DataTable();
                t1.rows().remove().draw();

                var t2 = $('#Claim_Services2_Done_CS').DataTable();
                t2.rows().remove().draw();
            }
        })


        //}
    };

    function Delete_CS(button) {
        Swal.fire({
            title: "Confirm",
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Are you Sure you want to Delete ClaimForm Number ?",
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"
        }).then((result) => {

            if (result.isConfirmed) {
                //Determine the reference of the Row using the Button.
                var row = $(button).closest("TR");
                var Claimform_number = row[0].cells.item(1).innerHTML;

                $.get("/ClaimForm/delete_ClaimFormImage", { id: Claimform_number }, function (data) {
                    if (data == "falsee") {
                        Swal.fire("error !", "ClaimForm Number Can not Deleted <br> Because Provider Make Approval For CLaimform <br> If You want Delete Claimform Call CMC In Tristar", "error");
                    }
                    else if (data == "falsee1") {
                        Swal.fire("error !", "ClaimForm Number Can not Deleted <br> Because Different Provider want Delete CLaimform And Provider not upload ClaimForm <br> If You want Delete Claimform Call CMC In Tristar", "error");

                    }
                    else {
                        Swal.fire("Success", "ClaimForm Number is Deleted Successfully", "success");
                        $('#Check_CardNumber_CS').click();
                    }
                })
            }
        });
    };


</script>


<script type="text/javascript">
    $(document).ready(function () {

        $("#selectServicelist").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            var incompleteTasks = document.getElementById('Service_List');
            incompleteTasks.innerHTML = '';
            $.get("/ClaimForm/select_Servicess", { id: value }, function (data) {

                for (var i = 0; i < data.length; i++) {
                    var li = document.createElement('option');

                    li.value = data[i];
                    incompleteTasks.appendChild(li);

                }
            })

        });

        $("#selectServicelist").change(function () {

            var ServiceNam = $('#selectServicelist').val();
            var LastServiceNam = $('#serv_name').val();
            if (ServiceNam != "" && LastServiceNam != "") {

                var isexist = 0;
                $("#Claim_Services2 TBODY TR").each(function () {
                    var row = $(this);
                    var dt = $('#Claim_Services2').DataTable();
                    if (dt != null) {
                        if (dt.rows().count() > 0) {
                            var newService_Name = $('#selectServicelist').val();
                            var Service_Name = row.find("TD").eq(3).text();

                            if (newService_Name == Service_Name) {
                                isexist = 1;
                            }

                        }
                    }
                });
                if (isexist == 0) {
                    $.get("/ClaimForm/Check_service_Modification", { selectServicelist: ServiceNam, LastService_Nam: LastServiceNam }, function (data) {
                        if (data[0] == 1) {
                            var quntityy = parseFloat(($('#quntity').val()).replace(/,/g, ''));
                            if ($('#quntity').val() == "" || isNaN($('#quntity').val())) {
                                quntityy = 1;
                            }

                            var price = data[1];

                            var serviceAmt = quntityy * price;
                            $('#serv_name').val(ServiceNam);
                            $('#SystemPrice').val(data[1].toLocaleString('en-US', { minimumFractionDigits: 2 }));
                            $('#Service_Amt').val(serviceAmt.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                            $('#Requested_Price').val(data[1].toLocaleString('en-US', { minimumFractionDigits: 2 }));
                            $('#Requested_Amt').val(serviceAmt.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                            $('#selectServicelist').val("");

                        }
                        else {

                            Swal.fire("warning !", data[1], "warning");
                            $('#selectServicelist').val("");

                        }

                    })
                }
                else {
                    Swal.fire("Warning !", "Service Modification Name is Exist in Approval waiting , You Can not Update Service Name To : ( " + ServiceNam + " ) .", "warning");
                    $('#selectServicelist').val("");

                }
            }

        });

        $("#selectServicelist_CS").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            var incompleteTasks = document.getElementById('Service_List_CS');
            incompleteTasks.innerHTML = '';
            $.get("/ClaimForm/select_Servicess", { id: value }, function (data) {

                for (var i = 0; i < data.length; i++) {
                    var li = document.createElement('option');

                    li.value = data[i];
                    incompleteTasks.appendChild(li);

                }
            })

        });

        $("#selectServicelist_CS").change(function () {

            var ServiceNam = $('#selectServicelist_CS').val();
            if (ServiceNam != "") {
                $.get("/ClaimForm/Get_service_data", { selectServicelist: ServiceNam }, function (data) {
                    if (data[0] == 1) {
                        $('#SystemPrice_CS').val(data[1].toLocaleString('en-US', { minimumFractionDigits: 2 }));
                        $('#Requested_Price_CS').val(data[1].toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        //alert(data[1]);
                        var pri = 0;
                        $('#SystemPrice_CS').val(pri.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                        $('#Requested_Price_CS').val(pri.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                        Swal.fire("warning !", data[1], "warning");

                    }

                })
            }

        });


        $("body").on("click", "#Doctor_Add_claim_CS", function () {


            Swal.fire({
                title: "Confirm",
                imageUrl: "/Images/Quationimg.jpg",
                imageWidth: 550,
                imageHeight: 225,
                text: "You Currently Sent Claim Form To Approve From Cmc . Are you Sure you want to Sent ClaimForm To Approved ?",
                showCancelButton: true,
                confirmButtonText: "Confirm",
                cancelButtonColor: "#700c0c"
            }).then((result) => {

                if (result.isConfirmed) {

                    //var result = confirm("You Currently Sent Claim Form To Approve From Cmc.\n Are you Sure you want to Sent ClaimForm To Approved ?");
                    //if (result == true) {

                    //Loop through the Table rows and build a JSON array.
                    var Claims_Services = new Array();
                    $("#Claim_Services_CS TBODY TR").each(function () {
                        var row = $(this);
                        var Claim_Service = {};
                        var dt = $('#Claim_Services_CS').DataTable();
                        if (dt != null) {
                            if (dt.rows().count() > 0) {
                                //parseFloat($(row.find("TD").eq(2).html()).replace(/,/g, ''))
                                Claim_Service.Service_Name = row.find("TD").eq(1).text();
                                Claim_Service.Service_Qnt = parseFloat((row.find("TD").eq(3).text()).replace(/,/g, ''));
                                Claim_Service.Requested_Price = parseFloat((row.find("TD").eq(4).text()).replace(/,/g, ''));

                                Claim_Service.Claim_Form_Number = $('#ClaimForm_Number_CS').val();
                                Claim_Service.Card_numberr = $('#Card_number_CS').val();

                                Claims_Services.push(Claim_Service);
                            }
                        }
                    });

                    //Send the JSON array to Controller using AJAX.
                    $.ajax({
                        type: "POST",
                        url: "/ClaimForm/InsertClaims_Servicess",
                        data: JSON.stringify(Claims_Services),
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (r) {
                            if (r[0] == 0) {
                                //$("#Claim_Services_CS").find("tr:not(:first)").remove();
                                $("#Expended_services_CS").show();
                                var tt2 = $('#Claim_Services2_CS').DataTable();
                                var coun = tt2.rows().count();

                                $("#Claim_Services_CS TBODY TR").each(function () {
                                    var row = $(this);
                                    var dt = $('#Claim_Services_CS').DataTable();
                                    if (dt != null) {
                                        if (dt.rows().count() > 0) {
                                            coun++;
                                            tt2.row.add([coun, row.find("TD").eq(1).text(), row.find("TD").eq(2).text()
                                            ]).draw()
                                                ;
                                        }
                                    }
                                });

                                var t = $('#Claim_Services_CS').DataTable();
                                t.rows().remove().draw();
                                serial = 0;


                                var t3 = $('#Claim_Services2_CS').DataTable();
                                t3.rows().remove().draw();

                                var t1 = $('#Claim_Services2_Stoped_CS').DataTable();
                                t1.rows().remove().draw();

                                var t2 = $('#Claim_Services2_Done_CS').DataTable();
                                t2.rows().remove().draw();
                                ////////alert("Claim Form is inserted. \n Member Deductable is :  " + r[1] + "      .");
                                //alert("Claim Form is Sent To Approve From Cmc.");
                                //$("#imgpost_CS").hide();
                                //$("#button_open_div_CS").hide();
                                //$("#button_Close_div_CS").hide();

                                //$("#ClaimForm_image_CS").hide();
                                //$("#Expended_services_CS").hide();
                                //$("#Expended_services_Stoped_CS").hide();
                                //$("#Expended_services_Done_CS").hide();
                                //$("#Provider_services_CS").hide();
                                //$('#Card_number_CS').val("");
                                //$("#Member_Info_Table_CS").hide();

                                Swal.fire("Success", "Claim Form is Sent To Approve From Cmc Successfully", "success").then(function () {

                                        var MemberReques = $('#ClaimForm_Number').val();
                                        if (MemberReques == "" || MemberReques == "whatever") {
                                            $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: $('#Card_number_CS').val(), Smart_CardRequestID: "" }, function (data) {
                                                window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                                            })
                                        }
                                        else {
                                            var myArray = MemberReques.split(" ## ");
                                            var CardNumber = myArray[0];
                                            var EntryDate = myArray[1];
                                            var SmartCardRequestID = myArray[2];

                                            $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: CardNumber, Smart_CardRequestID: SmartCardRequestID }, function (data) {
                                                window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                                            })


                                        }

                                });

                                //for (var i = 0; i < Claim_Service.count(); i++) {
                                //    tt2.row.add([coun, Claim_Service[i].Service_Name, Claim_Service[i].Service_Qnt
                                //    ]).draw()
                                //        ;
                                //    coun++;

                                //}

                            }
                            else if (r[0] == 1) {
                                //alert(r[1]);
                                Swal.fire("Error !", r[1], "error");

                            }
                            else {
                                //alert("Batch is Added Full Claims");
                                Swal.fire("Error !", "Batch is Added Full Claims", "error");

                            }
                        }
                    });
                }
            });

        });

        $("#quntity_CS").change(function () {
            var quntityy = parseFloat(($('#quntity_CS').val()).replace(/,/g, ''));
            if ($('#quntity_CS').val() == "" || isNaN($('#quntity_CS').val())) {
                quntityy = 1;
                $('#quntity_CS').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            }
            else {
                $('#quntity_CS').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            }
        });
        $("#SystemPrice_CS").change(function () {
            var quntityy = parseFloat(($('#SystemPrice_CS').val()).replace(/,/g, ''));
            if ($('#SystemPrice_CS').val() == "" || isNaN($('#SystemPrice_CS').val())) {
                quntityy = 1;
                $('#SystemPrice_CS').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            }
            else {
                $('#SystemPrice_CS').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            }
        });
        $("#Requested_Price_CS").change(function () {
            var quntityy = parseFloat(($('#Requested_Price_CS').val()).replace(/,/g, ''));
            if ($('#Requested_Price_CS').val() == "" || isNaN($('#Requested_Price_CS').val())) {
                quntityy = 1;
                $('#Requested_Price_CS').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            }
            else {
                $('#Requested_Price_CS').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            }
        });
    });



</script>



@*Doctor Section Scripts*@

<script type="text/javascript">
    $(document).ready(function () {

        $("#New_Claim_ServiceDoc_DC").hide();
        $("#edit_Claim_ServiceDoc_DC").hide();
        $("#New_Claim_Service_DC").hide();
        $("#edit_Claim_Service_DC").hide();
        $("#New_Claim_Service1_DC").hide();
        $("#edit_Claim_Service1_DC").hide();
        $("#New_Claim_Service2_DC").hide();
        $("#edit_Claim_Service2_DC").hide();
        $("#New_Claim_Service3_DC").hide();
        $("#edit_Claim_Service3_DC").hide();
        $("#New_Claim_Service4_DC").hide();
        $("#edit_Claim_Service4_DC").hide();

        $("#Member_Info_Table_DC").hide();
        $("#Add_Claim_Serviceee_DC").hide();
        $("#Add_Claim_Serviceee1_DC").hide();
        $("#Add_Claim_Serviceee2_DC").hide();
        $("#Add_Claim_Serviceee3_DC").hide();
        $("#Add_Claim_Serviceee4_DC").hide();




        $('#Claim_ServicesDoc_DC').DataTable({
            paging: false,
            //scrollX: true,
            // orderCellsTop: true,
            //fixedHeader: true,

        });

        $('#Claim_Services_DC').DataTable({
            paging: false,
            //scrollX: true,
            // orderCellsTop: true,
            //fixedHeader: true,

        });

        $('#Claim_Services1_DC').DataTable({
            paging: false,
            //scrollX: true,
            // orderCellsTop: true,
            //fixedHeader: true,

        });

        $('#Claim_Services3_DC').DataTable({
            paging: false,
            //scrollX: true,
            //fixedHeader: true,
        });

        $('#Claim_Services4_DC').DataTable({
            paging: false,
            //scrollX: true,
            // orderCellsTop: true,
            //fixedHeader: true,

        });

        $('#Claim_Services5_DC').DataTable({
            paging: false,
            //scrollX: true,
            // orderCellsTop: true,
            //fixedHeader: true,

        });

        $("#Card_number_DC").change(function () {

            $.get("/ClaimForm/Get_Member_info", { id: $('#Card_number_DC').val() }, function (data) {

                if (data.length != 0) {
                    if (data[1] == "Wellness Plus" || data[1] == "Wellness Plus DMV") {
                        //alert(data[1]);
                        Swal.fire("Warning !", $('#Card_number_DC').val() + " is not Correct <br> User Can not Accessed For this  Card Number <br> Please Contact With CMC", "warning");
                        $('#Member_name_DC').val("");
                        $('#Card_number_DC').val("");
                    }
                    else {
                        $("#Information").show();
                        $("#Member_Info_Table_DC").show();


                        $('#Member_name_DC').val(data[0]);
                        $('#contractNum_DC').val(data[3]);

                        $("#Member_Info_Table_DC").find("tr:not(:first)").remove();
                        //$("#Member_Info_Table_DC").empty();

                        var tBody = $("#Member_Info_Table_DC > TBODY")[0];

                        //Add Row.
                        var row = tBody.insertRow(-1);
                        var cell = $(row.insertCell(-1));
                        cell.html(data[0]);
                        //cell.css('color', 'red');
                        cell = $(row.insertCell(-1));
                        cell.html(data[1]);
                        //cell.css('color', 'red');
                        cell = $(row.insertCell(-1));
                        cell.html(data[2]);
                        //cell.css('color', 'red');
                        cell = $(row.insertCell(-1));
                        cell.html(data[3]);
                        //cell.css('color', 'red');
                        cell = $(row.insertCell(-1));
                        cell.html(data[4]);
                        //cell.css('color', 'red');
                        var ActiveDate = moment(data[5]);
                        cell = $(row.insertCell(-1));
                        cell.html(ActiveDate.format("DD-MM-YYYY"));
                        //cell.css('color', 'red');
                        cell = $(row.insertCell(-1));

                        if (data[18] == "1") {
                            cell.html("Stopped");
                            cell.css('color', 'red');

                        }
                        else {
                            if (data[6] == "Stopped") {
                                cell.html("Stopped");
                                cell.css('color', 'red');
                            }
                            else {
                                cell.html(data[6]);
                                cell.css('color', 'Green');
                            }
                        }
                        //cell.css('color', 'red');

                        var DeActive_Date = moment(data[7]);
                        var Cancel_Date = moment(data[21]);

                        cell = $(row.insertCell(-1));
                        //alert(data[0][i].DeActiveDate);
                        //alert(DeActive_Date.format("DD-MM-YYYY"));
                        var aaaa = DeActive_Date.format("DD-MM-YYYY");;
                        var bbbb = Cancel_Date.format("DD-MM-YYYY");;

                        if ((data[7] != null && aaaa != "01-01-0001") || (data[21] != null && bbbb != "01-01-0001") || (data[22] == "0")) {
                            if (data[7] != null && aaaa != "01-01-0001") {
                                cell.html(DeActive_Date.format("DD-MM-YYYY"));
                            }
                            else if (data[21] != null && bbbb != "01-01-0001") {
                                cell.html(Cancel_Date.format("DD-MM-YYYY"));
                            }
                            else {
                                cell.html("");
                            }

                        }
                        else {

                            if (data[18] == "1") {
                                var contractend_Date = moment(data[17]);
                                //cell = $(row.insertCell(-1));
                                var aaa2 = contractend_Date.format("DD-MM-YYYY");;
                                if (data[17] != null && aaa2 != "01-01-0001") {
                                    cell.html(contractend_Date.format("DD-MM-YYYY"));
                                }
                            }
                            else {
                                cell.html('');
                            }

                        }


                        //var memberbirth_Date = moment(data[8]);
                        //cell = $(row.insertCell(-1));
                        //var aaa = memberbirth_Date.format("DD-MM-YYYY");;
                        //if (data[8] != null && aaa != "01-01-0001") {
                        //    cell.html(memberbirth_Date.format("DD-MM-YYYY"));
                        //}
                        //else {
                        //    cell.html('');
                        //}

                        //cell = $(row.insertCell(-1));
                        //cell.html(data[9]);

                        var contractstart_Date = moment(data[16]);
                        cell = $(row.insertCell(-1));
                        var aaa1 = contractstart_Date.format("DD-MM-YYYY");;
                        if (data[16] != null && aaa1 != "01-01-0001") {
                            cell.html(contractstart_Date.format("DD-MM-YYYY"));
                        }
                        else {
                            cell.html('');
                        }

                        var contractend_Date = moment(data[17]);
                        cell = $(row.insertCell(-1));
                        var aaa2 = contractend_Date.format("DD-MM-YYYY");;
                        if (data[17] != null && aaa2 != "01-01-0001") {
                            cell.html(contractend_Date.format("DD-MM-YYYY"));
                        }
                        else {
                            cell.html('');
                        }
                        //cell.css('color', 'red');
                        cell = $(row.insertCell(-1));
                        cell.html(data[10]);
                        //cell.css('color', 'red');


                        if (data[11] == "1") {
                            //alert("Customer Used 100% of Premium Amount in Contract")
                            //$("#claim_services1_DC").hide();
                            //$("#claim_services1pharmacy").hide();
                            if (data[12] == 0) {
                                $("#claim_services1_DC").show();

                            }
                            else if (confirm("Customer Used 100% of Premium Amount in Contract , Customer Used : "
                                + data[13] + " And Premium Amount : " + data[12] + "\n Do you want to Add Services")) {
                                $("#claim_services1_DC").show();

                            }
                            else {
                                //$("#claim_services1_DC").hide();
                            }

                        }

                        else if (data[11] == "2") {
                            //alert("Member Used 100% of Annual Ceiling in Contract , Member Used : "
                            //    + data[15] + " And Annual Ceiling : " + data[14])

                            Swal.fire("information !", "Member Used 100% of Annual Ceiling in Contract <br> Member Used : "
                                + data[15] + " <br> Annual Ceiling : " + data[14], "info");

                            // alert("Member Used 100% of Annual Ceiling in Contract")
                            //$("#claim_services1_DC").hide();
                            //$("#claim_services1pharmacy").hide();
                        }
                        else if (data[11] == "11") {

                            if (data[12] == 0) {
                                $("#claim_services1_DC").show();

                            }
                            //alert("Customer Used More Than 90% of Premium Amount in Contract and The rest of the amount is less than 10%")
                            else {
                                //alert("Customer Used More Than 90% of Premium Amount in Contract and The rest of the amount is less than 10% , Customer Used : "
                                //    + data[13] + " And Premium Amount : " + data[12])
                                Swal.fire("information !", "Customer Used More Than 90% of Premium Amount in Contract and The rest of the amount is less than 10% <br> Customer Used : "
                                    + data[13] + " <br> Premium Amount : " + data[12], "info");

                                //$("#claim_services1_DC").show();
                                //$("#claim_services1pharmacy").show();
                                //if ($('#prov_cat_idd_DC').val() != 2) {
                                $("#claim_services1_DC").show();
                                //}
                                //else {
                                //    //$("#claim_services1pharmacy").show();
                                //}
                            }
                        }
                        else {
                            //if ($('#prov_cat_idd_DC').val() != 2) {
                            $("#claim_services1_DC").show();
                            //}
                            //else {
                            //    //$("#claim_services1pharmacy").show();
                            //}
                        }
                        $('#CustomerPremium_Amt_DC').val(data[12]);
                        $('#Customer_TotalDueAmt_DC').val(data[13]);
                        $('#AnnualCeilinggg_DC').val(data[14]);
                        $('#Member_TotalDueAmt_DC').val(data[15]);

                        $('#CheckCardNum_DC').val("0");

                        if (data[6] == "Stopped") {
                            //$("#diagnosis").show();
                            //alert("Member Activity Status is Stopped \n Deactive Date is : " + DeActive_Date.format("DD-MM-YYYY"));
                            Swal.fire("Warning !", "Member Activity Status is Stopped \n Deactive Date is : " + DeActive_Date.format("DD-MM-YYYY"), "warning");


                        }
                        if (data[18] == "1") {
                            //alert("The Contract Period Time has Ended \n End Date is : " + contractend_Date.format("DD-MM-YYYY"));
                            Swal.fire("Warning !", "The Contract Period Time has Ended \n End Date is : " + contractend_Date.format("DD-MM-YYYY"), "warning");

                        }
                        $('#Contract_TypeID_DC').val(data[19]);
                        $('#Is_OverCeiling_DC').val(data[20]);

                        $('#Member_DeductablePercentage_DC').val(data[23] + " %");
                        $('#Member_DeducPerc_DC').val(data[23]);
                        var count = 0;
                        var deduct = data[23];
                        $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                            var duepayment = $(this).find("TD").eq(4).text();
                            var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                            var Qnt = $(this).find("TD").eq(3).text();
                            var lastQnt = parseFloat((Qnt).replace(/,/g, ''));
                            if (lastDue == "" || isNaN(lastDue) || lastQnt == "" || isNaN(lastQnt)) {
                                //count = 0;
                                count = count + 0;
                            }
                            else {
                                var totAmt = lastDue * lastQnt;
                                count = count + totAmt;

                            }
                        });
                        var Member_Deductableamt = count * deduct / 100;
                        $('#Claim_FormAmt_DC').val(count.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                        $('#Member_Deductable_DC').val(Member_Deductableamt.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                    }
                }
                else {
                    //alert($('#Card_number_DC').val() + " is not Correct Please Enter Card Number Again")
                    Swal.fire("Warning !", $('#Card_number_DC').val() + " is not Correct <br> Please Enter Card Number Again", "warning");

                    $("#Member_Info_Table_DC").hide();
                    $('#Member_name_DC').val("");
                    $('#CheckCardNum_DC').val("1");
                    $('#contractNum_DC').val("");
                    $('#Member_DeductablePercentage_DC').val(0 + " %");
                    $('#Member_DeducPerc_DC').val(0);
                    $('#Claim_FormAmt_DC').val(0);
                    $('#Member_Deductable_DC').val(0);
                }

                $("#selectServicelistdiv_DC .select2-selection__rendered").text("----Select Service Name----");
                $("#drugs_namediv .select2-selection__rendered").text("----Select Drug Name----");


            })
        });
        serialdoc_dC = 0;
        $("body").on("click", "#New_Claim_ServiceEDoc_DC", function () {

            $.get("/ClaimForm/Check_ServiceName", { id: $('#selectServicelistDoc_DC').val() }, function (data) {

                if (data != "") {
                    if (($('#selectServicelistDoc_DC').val() == "")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else {

                        var isexist = 0;
                        $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_ServicesDoc_DC').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectServicelistDoc_DC').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });

                        if (isexist == 0) {
                            var t = $('#Claim_ServicesDoc_DC').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModaldoc_DC' onclick='editedDoc_DC(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='RemovedDoc_DC(this);'>Remove</button>";
                            serialdoc_dC++;
                            t.row.add([serialdoc_dC, $('#selectServicelistDoc_DC').val()
                                , $('#SystemPrice_DC').val(), $('#quntityDoc_DC').val(), $('#Requested_Price_DC').val(), btnEdit, btnRemove
                            ]).draw()
                                ;
                            Swal.fire("Success", "Claim Service is inserted to Services Successfully", "success");

                            //alert("Claim Service is inserted to Services.");

                            var count = 0;
                            var deduct = $('#Member_DeducPerc_DC').val();
                            $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                                var duepayment = $(this).find("TD").eq(4).text();
                                var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                                var Qnt = $(this).find("TD").eq(3).text();
                                var lastQnt = parseFloat((Qnt).replace(/,/g, ''));
                                if (lastDue == "" || isNaN(lastDue) || lastQnt == "" || isNaN(lastQnt)) {
                                    //count = 0;
                                    count = count + 0;
                                }
                                else {
                                    var totAmt = lastDue * lastQnt;
                                    count = count + totAmt;

                                }
                            });
                            var Member_Deductableamt = count * deduct / 100;
                            $('#Claim_FormAmt_DC').val(count.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                            $('#Member_Deductable_DC').val(Member_Deductableamt.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                        }
                        else/* if (isexist == 1)*/ {
                            //alert("Claim Service is Added Since while in Provider Services.");
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                        //else {
                        //    alert("Claim Service is Added Since while in Approval waiting.");

                        //}

                    }
                }
                else {

                    //alert("Select Correct Service Name");
                    Swal.fire("Warning !", "Select Correct Service Name", "warning");

                }

            });


        });

        $("body").on("click", "#edit_Claim_ServiceEDoc_DC", function () {
            $.get("/ClaimForm/Check_ServiceName", { id: $('#selectServicelistDoc_DC').val() }, function (data) {

                if (data != "") {
                    if (($('#selectServicelistDoc_DC').val() == "")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else {

                        var Row_id = $('#edited_row_idDoc_DC').val() - 1;
                        var t = $('#Claim_ServicesDoc_DC').DataTable();
                        if ($('#selectServicelistDoc_DC').val() != "") {
                            t.cell(Row_id, 1).data($('#selectServicelistDoc_DC').val()).draw();
                        }
                        if ($('#SystemPrice_DC').val() != "") {
                            t.cell(Row_id, 2).data($('#SystemPrice_DC').val()).draw();
                        }
                        if ($('#quntityDoc_DC').val() != "") {
                            t.cell(Row_id, 3).data($('#quntityDoc_DC').val()).draw();
                        }
                        if ($('#Requested_Price_DC').val() != "") {
                            t.cell(Row_id, 4).data($('#Requested_Price_DC').val()).draw();

                        }
                        Swal.fire("success !", "Claim Service is updated.", "success");
                        var count = 0;
                        var deduct = $('#Member_DeducPerc_DC').val();
                        $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                            var duepayment = $(this).find("TD").eq(4).text();
                            var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                            var Qnt = $(this).find("TD").eq(3).text();
                            var lastQnt = parseFloat((Qnt).replace(/,/g, ''));
                            if (lastDue == "" || isNaN(lastDue) || lastQnt == "" || isNaN(lastQnt)) {
                                //count = 0;
                                count = count + 0;
                            }
                            else {
                                var totAmt = lastDue * lastQnt;
                                count = count + totAmt;

                            }
                        });
                        var Member_Deductableamt = count * deduct / 100;
                        $('#Claim_FormAmt_DC').val(count.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                        $('#Member_Deductable_DC').val(Member_Deductableamt.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                    }
                }
                else {

                    //alert("Select Correct Service Name");
                    Swal.fire("Warning !", "Select Correct Service Name", "warning");

                }



            });

        });


        serial_DC = 0;
        $("body").on("click", "#New_Claim_ServiceE_DC", function () {

            //let ServiceNam = $('#selectServicelist_DC').val();
            //const myArray = ServiceNam.split(' $$ ( ');
            //var ServiceNamselect = myArray[0];
            var ServiceNamselect = $('#selectServicelist_DC').val();
            $.get("/ClaimForm/CheckServiceNam", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    var qntitt = parseFloat(($('#quntity_DC').val()).replace(/,/g, ''));
                    var Due_Serviceee = price * qntitt;
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");
                    }
                    else if ($('#Card_number_DC').val() == "") {
                        Swal.fire("Warning !", "Card Number is Required", "warning");
                    }
                    else {
                        var isexist = 0;
                        $("#Claim_Services_DC TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_Services_DC').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectServicelist_DC').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });

                        if (isexist == 0) {
                            var t = $('#Claim_Services_DC').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal_DC' onclick='edited_DC(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='Removed_DC(this);'>Remove</button>";
                            serial_DC++;
                            t.row.add([serial_DC, ServiceNamselect
                                , $('#quntity_DC').val(),
                                $('#Service_Note_DC').val(), btnEdit, btnRemove
                            ]).draw()
                                ;

                            Swal.fire("success !", "Claim Service is inserted to Services.", "success");
                        }
                        else {
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                    }
                }

                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })

        });
        serial_DC1 = 0;
        $("body").on("click", "#New_Claim_ServiceE1_DC", function () {
            var ServiceNamselect = $('#selectlabslist_DC').val();
            $.get("/ClaimForm/CheckServiceNamlab", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    var qntitt = parseFloat(($('#quntity1_DC').val()).replace(/,/g, ''));
                    var Due_Serviceee = price * qntitt;

                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        Swal.fire("Warning !", "Card Number is Required", "warning");
                    }
                    else {
                        var isexist = 0;
                        $("#Claim_Services1_DC TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_Services1_DC').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectlabslist_DC').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });

                        if (isexist == 0) {
                            var t = $('#Claim_Services1_DC').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal1_DC' onclick='edited1_DC(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='Removed1_DC(this);'>Remove</button>";
                            serial_DC1++;
                            t.row.add([serial_DC1, ServiceNamselect
                                , $('#quntity1_DC').val(),
                                $('#Service_Note1_DC').val(), btnEdit, btnRemove
                            ]).draw()
                                ;
                            Swal.fire("success !", "Claim Service is inserted to Services.", "success");
                        }
                        else {
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                    }

                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })

        });
        serial_DC2 = 0;
        $("body").on("click", "#New_Claim_ServiceE2_DC", function () {

            var ServiceNamselect = $('#selectscanlist_DC').val();
            $.get("/ClaimForm/CheckServiceNamscan", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    var qntitt = parseFloat(($('#quntity2_DC').val()).replace(/,/g, ''));
                    var Due_Serviceee = price * qntitt;
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        Swal.fire("Warning !", "Card Number is Required", "warning");
                    }
                    else {
                        var isexist = 0;
                        $("#Claim_Services3_DC TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_Services3_DC').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectscanlist_DC').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });

                        if (isexist == 0) {
                            var t = $('#Claim_Services3_DC').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal3_DC' onclick='edited2_DC(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='Removed2_DC(this);'>Remove</button>";
                            serial_DC2++;
                            t.row.add([serial_DC2, ServiceNamselect
                                , $('#quntity2_DC').val(),
                                $('#Service_Note2_DC').val(), btnEdit, btnRemove
                            ]).draw()
                                ;

                            Swal.fire("success !", "Claim Service is inserted to Services.", "success");
                        }
                        else {
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                    }

                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })

        });
        serial_DC3 = 0;
        $("body").on("click", "#New_Claim_ServiceE3_DC", function () {

            var ServiceNamselect = $('#selectopticalcenterlist_DC').val();
            $.get("/ClaimForm/CheckServiceNamoptical", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    var qntitt = parseFloat(($('#quntity3_DC').val()).replace(/,/g, ''));
                    var Due_Serviceee = price * qntitt;
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        Swal.fire("Warning !", "Card Number is Required", "warning");
                    }
                    else {
                        var isexist = 0;
                        $("#Claim_Services4_DC TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_Services4_DC').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectopticalcenterlist_DC').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });

                        if (isexist == 0) {
                            var t = $('#Claim_Services4_DC').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal4_DC' onclick='edited3_DC(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='Removed3_DC(this);'>Remove</button>";
                            serial_DC3++;
                            t.row.add([serial_DC3, ServiceNamselect
                                , $('#quntity3_DC').val(),
                                $('#Service_Note3_DC').val(), btnEdit, btnRemove
                            ]).draw()
                                ;
                            Swal.fire("success !", "Claim Service is inserted to Services.", "success");
                        }
                        else {
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                    }

                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })

        });
        serial_DC4 = 0;
        $("body").on("click", "#New_Claim_ServiceE4_DC", function () {


            var ServiceNamselect = $('#selectphysiothrapylist_DC').val();
            $.get("/ClaimForm/CheckServiceNamphysiothrapy", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    var qntitt = parseFloat(($('#quntity4_DC').val()).replace(/,/g, ''));
                    var Due_Serviceee = price * qntitt;
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever")) {
                        Swal.fire("Warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        Swal.fire("Warning !", "Card Number is Required", "warning");
                    }
                    else {
                        var isexist = 0;
                        $("#Claim_Services5_DC TBODY TR").each(function () {
                            var row = $(this);
                            var dt = $('#Claim_Services5_DC').DataTable();
                            if (dt != null) {
                                if (dt.rows().count() > 0) {
                                    var newService_Name = $('#selectphysiothrapylist_DC').val();
                                    var Service_Name = row.find("TD").eq(1).text();

                                    if (newService_Name == Service_Name) {
                                        isexist = 1;
                                    }

                                }
                            }
                        });

                        if (isexist == 0) {
                            var t = $('#Claim_Services5_DC').DataTable();
                            var btnEdit = "<button type='button' class='btn btn-success' data-bs-toggle='modal' data-bs-target='#myModal5_DC' onclick='edited4_DC(this);'>Edit</button>";
                            var btnRemove = "<button type='button' class='btn btn-danger' onclick='Removed4_DC(this);'>Remove</button>";
                            serial_DC4++;
                            t.row.add([serial_DC4, ServiceNamselect
                                , $('#quntity4_DC').val(),
                                $('#Service_Note4_DC').val(), btnEdit, btnRemove
                            ]).draw()
                                ;
                            Swal.fire("success !", "Claim Service is inserted to Services.", "success");
                        }
                        else {
                            Swal.fire("Warning !", "Claim Service is Added Since while in Provider Services.", "warning");

                        }
                    }

                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })

        });

        $("body").on("click", "#edit_Claim_ServiceE_DC", function () {

            //let ServiceNam = $('#selectServicelist_DC').val();
            //const myArray = ServiceNam.split(' $$ ( ');
            //var ServiceNamselect = myArray[0];
            var ServiceNamselect = $('#selectServicelist_DC').val();
            $.get("/ClaimForm/CheckServiceNam", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever") || ($('#NewClaimService').val() == "1")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        //alert("Card Number is Required");
                        Swal.fire("warning !", "Card Number is Required", "warning");


                    }
                    else {


                        var Row_id = $('#edited_row_id_DC').val();
                        var t = $('#Claim_Services_DC').DataTable();
                        if (ServiceNamselect != "") {
                            t.cell(Row_id, 1).data(ServiceNamselect).draw();
                        }
                        if ($('#quntity_DC').val() != "") {
                            t.cell(Row_id, 2).data($('#quntity_DC').val()).draw();
                        }

                        if ($('#Service_Note_DC').val() != "") {
                            t.cell(Row_id, 3).data($('#Service_Note_DC').val()).draw();
                        }
                        Swal.fire("success !", "Claim Service is updated.", "success");

                    }
                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })
        });

        $("body").on("click", "#edit_Claim_ServiceE1_DC", function () {

            var ServiceNamselect = $('#selectlabslist_DC').val();
            $.get("/ClaimForm/CheckServiceNamlab", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever") || ($('#NewClaimService').val() == "1")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        //alert("Card Number is Required");
                        Swal.fire("warning !", "Card Number is Required", "warning");


                    }
                    else {


                        var Row_id = $('#edited_row_id1_DC').val();

                        var t = $('#Claim_Services1_DC').DataTable();
                        if (ServiceNamselect != "") {
                            t.cell(Row_id, 1).data(ServiceNamselect).draw();
                        }
                        if ($('#quntity1_DC').val() != "") {
                            t.cell(Row_id, 2).data($('#quntity1_DC').val()).draw();
                        }
                        if ($('#Service_Note1_DC').val() != "") {
                            t.cell(Row_id, 3).data($('#Service_Note1_DC').val()).draw();
                        }

                        Swal.fire("success !", "Claim Service is updated.", "success");


                    }
                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })
        });

        $("body").on("click", "#edit_Claim_ServiceE2_DC", function () {


            var ServiceNamselect = $('#selectscanlist_DC').val();
            $.get("/ClaimForm/CheckServiceNamscan", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever") || ($('#NewClaimService').val() == "1")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        //alert("Card Number is Required");
                        Swal.fire("warning !", "Card Number is Required", "warning");


                    }
                    else {


                        var Row_id = $('#edited_row_id2_DC').val();

                        var t = $('#Claim_Services3_DC').DataTable();
                        if (ServiceNamselect != "") {
                            t.cell(Row_id, 1).data(ServiceNamselect).draw();
                        }
                        if ($('#quntity2_DC').val() != "") {
                            t.cell(Row_id, 2).data($('#quntity2_DC').val()).draw();
                        }
                        if ($('#Service_Note2_DC').val() != "") {
                            t.cell(Row_id, 3).data($('#Service_Note2_DC').val()).draw();
                        }


                        Swal.fire("success !", "Claim Service is updated.", "success");

                    }
                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })
        });

        $("body").on("click", "#edit_Claim_ServiceE3_DC", function () {


            var ServiceNamselect = $('#selectopticalcenterlist_DC').val();
            $.get("/ClaimForm/CheckServiceNamoptical", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {

                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever") || ($('#NewClaimService').val() == "1")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        //alert("Card Number is Required");
                        Swal.fire("warning !", "Card Number is Required", "warning");


                    }
                    else {
                        var Row_id = $('#edited_row_id3_DC').val();

                        var t = $('#Claim_Services4_DC').DataTable();
                        if (ServiceNamselect != "") {
                            t.cell(Row_id, 1).data(ServiceNamselect).draw();
                        }
                        if ($('#quntity3_DC').val() != "") {
                            t.cell(Row_id, 2).data($('#quntity3_DC').val()).draw();
                        }
                        if ($('#Service_Note3_DC').val() != "") {
                            t.cell(Row_id, 3).data($('#Service_Note3_DC').val()).draw();
                        }

                        Swal.fire("success !", "Claim Service is updated.", "success");

                    }
                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })
        });

        $("body").on("click", "#edit_Claim_ServiceE4_DC", function () {

            var ServiceNamselect = $('#selectphysiothrapylist_DC').val();
            $.get("/ClaimForm/CheckServiceNamphysiothrapy", { id: ServiceNamselect }, function (price) {
                if (price != "aa") {
                    if ((ServiceNamselect == "") || (ServiceNamselect == "whatever") || ($('#NewClaimService').val() == "1")) {
                        //alert("Select Service Name is Required");
                        Swal.fire("warning !", "Select Service Name is Required", "warning");

                    }
                    else if ($('#Card_number_DC').val() == "") {
                        //alert("Card Number is Required");
                        Swal.fire("warning !", "Card Number is Required", "warning");


                    }
                    else {


                        var Row_id = $('#edited_row_id4_DC').val();

                        var t = $('#Claim_Services5_DC').DataTable();
                        if (ServiceNamselect != "") {
                            t.cell(Row_id, 1).data(ServiceNamselect).draw();
                        }
                        if ($('#quntity4_DC').val() != "") {
                            t.cell(Row_id, 2).data($('#quntity4_DC').val()).draw();
                        }
                        if ($('#Service_Note4_DC').val() != "") {
                            t.cell(Row_id, 3).data($('#Service_Note4_DC').val()).draw();
                        }

                        Swal.fire("success !", "Claim Service is updated.", "success");

                    }
                }
                else {
                    Swal.fire("Warning !", "Service Name is Mistake Please Select Service Name Again ", "warning");
                }
            })
        });

        $("body").on("click", "#Add_New_Claim_ServiceDoc_DC", function () {
            $("#Add_Claim_ServiceeeDoc_DC").show();
            $("#New_Claim_ServiceDoc_DC").show();
            $("#edit_Claim_ServiceDoc_DC").hide();

        });

        $("body").on("click", "#Add_New_Claim_Service_DC", function () {
            $("#Add_Claim_Serviceee_DC").show();
            $("#New_Claim_Service_DC").show();
            $("#edit_Claim_Service_DC").hide();

        });

        $("body").on("click", "#Add_New_Claim_Service1_DC", function () {
            $("#Add_Claim_Serviceee1_DC").show();
            $("#New_Claim_Service1_DC").show();
            $("#edit_Claim_Service1_DC").hide();

        });

        $("body").on("click", "#Add_New_Claim_Service3_DC", function () {
            $("#Add_Claim_Serviceee2_DC").show();
            $("#New_Claim_Service2_DC").show();
            $("#edit_Claim_Service2_DC").hide();

        });
        $("body").on("click", "#Add_New_Claim_Service4_DC", function () {
            $("#Add_Claim_Serviceee3_DC").show();
            $("#New_Claim_Service3_DC").show();
            $("#edit_Claim_Service3_DC").hide();

        });
        $("body").on("click", "#Add_New_Claim_Service5_DC", function () {
            $("#Add_Claim_Serviceee4_DC").show();
            $("#New_Claim_Service4_DC").show();
            $("#edit_Claim_Service4_DC").hide();

        });

    });

    function RemovedDoc_DC(button) {

        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();

        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                //if (confirm("Do you want to delete: " + name)) {
                //Get the reference of the Table.
                //var table = $("#Claim_Services_DC")[0];
                var table = $('#Claim_ServicesDoc_DC').DataTable();
                //alert(row[0].rowIndex-1);

                //Delete the Table row using it's Index.
                //table.deleteRow(row[0].rowIndex);


                var rows = table
                    .rows(row[0].rowIndex - 1)
                    .remove()
                    .draw();


                var count = 0;
                var deduct = $('#Member_DeducPerc_DC').val();
                $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                    var duepayment = $(this).find("TD").eq(4).text();
                    var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                    var Qnt = $(this).find("TD").eq(3).text();
                    var lastQnt = parseFloat((Qnt).replace(/,/g, ''));
                    if (lastDue == "" || isNaN(lastDue) || lastQnt == "" || isNaN(lastQnt)) {
                        //count = 0;
                        count = count + 0;
                    }
                    else {
                        var totAmt = lastDue * lastQnt;
                        count = count + totAmt;

                    }
                });
                var Member_Deductableamt = count * deduct / 100;
                $('#Claim_FormAmt_DC').val(count.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                $('#Member_Deductable_DC').val(Member_Deductableamt.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                //}
            }
        });

    };
    function Removed_DC(button) {

        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();
        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                var table = $('#Claim_Services_DC').DataTable();

                var ServiceNamselect = table.cell(row[0].rowIndex - 1, 1).data();


                $.get("/ClaimForm/CheckServiceNam", { id: ServiceNamselect }, function (price) {
                    //if (price != "aa") {

                    //}
                    var rows = table
                        .rows(row[0].rowIndex - 1)
                        .remove()
                        .draw();
                })
            }
        });

    };
    function Removed1_DC(button) {

        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();
        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                var table = $('#Claim_Services1_DC').DataTable();


                var ServiceNamselect = table.cell(row[0].rowIndex - 1, 1).data();
                $.get("/ClaimForm/CheckServiceNamlab", { id: ServiceNamselect }, function (price) {
                    //if (price != "aa") {
                    //    var Due_Serviceee = price * qntt;
                    //    if (Claim_serv != "Exceed Limit" && Claim_serv != "Excluded Cost") {

                    //        $('#Customer_TotalDueAmt_DC').val(Customer_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_DC').val(Member_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_Service1_DC').val(Member_TotalDueAmt_Servicee - Due_Serviceee);
                    //    }
                    //}
                    var rows = table
                        .rows(row[0].rowIndex - 1)
                        .remove()
                        .draw();
                })
            }
        });

    };
    function Removed2_DC(button) {

        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();
        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                var table = $('#Claim_Services3_DC').DataTable();


                var ServiceNamselect = table.cell(row[0].rowIndex - 1, 1).data();
                $.get("/ClaimForm/CheckServiceNamscan", { id: ServiceNamselect }, function (price) {
                    //if (price != "aa") {
                    //    var Due_Serviceee = price * qntt;
                    //    if (Claim_serv != "Exceed Limit" && Claim_serv != "Excluded Cost") {

                    //        $('#Customer_TotalDueAmt_DC').val(Customer_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_DC').val(Member_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_Service2_DC').val(Member_TotalDueAmt_Servicee - Due_Serviceee);
                    //    }
                    //}
                    var rows = table
                        .rows(row[0].rowIndex - 1)
                        .remove()
                        .draw();
                })
            }
        });

    };
    function Removed3_DC(button) {
        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();
        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                var table = $('#Claim_Services4_DC').DataTable();

                var ServiceNamselect = table.cell(row[0].rowIndex - 1, 1).data();
                $.get("/ClaimForm/CheckServiceNamoptical", { id: ServiceNamselect }, function (price) {
                    //if (price != "aa") {
                    //    var Due_Serviceee = price * qntt;
                    //    if (Claim_serv != "Exceed Limit" && Claim_serv != "Excluded Cost") {

                    //        $('#Customer_TotalDueAmt_DC').val(Customer_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_DC').val(Member_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_Service3_DC').val(Member_TotalDueAmt_Servicee - Due_Serviceee);
                    //    }
                    //}
                    var rows = table
                        .rows(row[0].rowIndex - 1)
                        .remove()
                        .draw();
                })
            }
        });

    };
    function Removed4_DC(button) {
        //Determine the reference of the Row using the Button.
        var row = $(button).closest("TR");
        var name = $("TD", row).eq(0).html();
        Swal.fire({
            title: "Confirm",
            //icon: 'warning',
            imageUrl: "/Images/Quationimg.jpg",
            imageWidth: 550,
            imageHeight: 225,
            text: "Do you want to delete: " + name,
            showCancelButton: true,
            confirmButtonText: "Confirm",
            cancelButtonColor: "#700c0c"

        }).then((result) => {

            if (result.isConfirmed) {
                var table = $('#Claim_Services5_DC').DataTable();


                var ServiceNamselect = table.cell(row[0].rowIndex - 1, 1).data();

                //var Due_Serviceee = parseFloat((Due_Serv).replace(/,/g, ''));
                $.get("/ClaimForm/CheckServiceNamphysiothrapy", { id: ServiceNamselect }, function (price) {
                    //if (price != "aa") {
                    //    var Due_Serviceee = price * qntt;
                    //    if (Claim_serv != "Exceed Limit" && Claim_serv != "Excluded Cost") {

                    //        $('#Customer_TotalDueAmt_DC').val(Customer_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_DC').val(Member_TotalDueAmtt - Due_Serviceee);
                    //        $('#Member_TotalDueAmt_Service4_DC').val(Member_TotalDueAmt_Servicee - Due_Serviceee);
                    //    }
                    //}
                    var rows = table
                        .rows(row[0].rowIndex - 1)
                        .remove()
                        .draw();
                })
            }
        });

    };



    //////////////////////////
    function editedDoc_DC(button) {
        $("#Add_Claim_ServiceeeDoc_DC").show();
        $("#edit_Claim_ServiceDoc_DC").show();
        $("#New_Claim_ServiceDoc_DC").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[2].innerHTML;
        $('#edited_row_idDoc_DC').val(rowindexx);
        var roww = $(button).closest("TR").find("td");

        $("#selectServicelistDoc_DC").val(roww[1].innerHTML);
        $("#SystemPrice_DC").val(roww[2].innerHTML);
        $('#quntityDoc_DC').val(roww[3].innerHTML);
        $('#Requested_Price_DC').val(roww[4].innerHTML);

    }

    function edited_DC(button) {
        $("#Add_Claim_Serviceee_DC").show();
        $("#edit_Claim_Service_DC").show();
        $("#New_Claim_Service_DC").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[1].innerText;
        var Service_qntt = row1data[2].innerText;
        $('#edited_row_id_DC').val(rowindexx - 1);
        // $.get("/Approvals/Get_ServiceCode_row", { Service_Name: Service_Name, Providerid: $('#Provider_id_DC').val() }, function (data) {
        $.get("/ClaimForm/CheckServiceNam", { id: Service_Name }, function (price) {
            if (price == "aa") {
                price = 0;
            }
            var roww = $(button).closest("TR").find("td");

            $("#selectServicelist_DC").val(roww[1].innerText);
            $('#quntity_DC').val(roww[2].innerText);
            var duee = price * Service_qntt;
            //$('#EditDueAmt_Service_DC').val(roww[5].innerText.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            $('#EditDueAmt_Service_DC').val(duee);
            $('#Service_Note_DC').val(roww[3].innerText);

            //$('#Service_code').val(data);


            // })

        })


    }
    function edited1_DC(button) {
        $("#Add_Claim_Serviceee1_DC").show();
        $("#edit_Claim_Service1_DC").show();
        $("#New_Claim_Service1_DC").hide();


        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[1].innerText;
        var Service_qntt = row1data[2].innerText;
        $('#edited_row_id1_DC').val(rowindexx - 1);
        // $.get("/Approvals/Get_ServiceCode_row", { Service_Name: Service_Name, Providerid: $('#Provider_id_DC').val() }, function (data) {
        $.get("/ClaimForm/CheckServiceNamlab", { id: Service_Name }, function (price) {
            if (price == "aa") {
                price = 0;
            }
            var roww = $(button).closest("TR").find("td");

            $("#selectlabslist_DC").val(roww[1].innerText);
            $('#quntity1_DC').val(roww[2].innerText);

            var duee = price * Service_qntt;
            $('#EditDueAmt_Service_DC').val(duee);
            //$('#EditDueAmt_Service_DC').val(roww[5].innerText.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            $('#Service_Note1_DC').val(roww[3].innerText);

            //$('#Service_code').val(data);


            // })
        })



    }
    function edited2_DC(button) {
        $("#Add_Claim_Serviceee2_DC").show();
        $("#edit_Claim_Service2_DC").show();
        $("#New_Claim_Service2_DC").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[1].innerText;
        var Service_qntt = row1data[2].innerText;

        $('#edited_row_id2_DC').val(rowindexx - 1);
        // $.get("/Approvals/Get_ServiceCode_row", { Service_Name: Service_Name, Providerid: $('#Provider_id_DC').val() }, function (data) {
        $.get("/ClaimForm/CheckServiceNamscan", { id: Service_Name }, function (price) {
            if (price == "aa") {
                price = 0;
            }
            var roww = $(button).closest("TR").find("td");

            $("#selectscanlist_DC").val(roww[1].innerText);
            $('#quntity2_DC').val(roww[2].innerText);
            var duee = price * Service_qntt;
            $('#EditDueAmt_Service_DC').val(duee);
            //$('#EditDueAmt_Service_DC').val(roww[5].innerText.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            $('#Service_Note2_DC').val(roww[3].innerText);

            //$('#Service_code').val(data);


            // })

        })


    }
    function edited3_DC(button) {
        $("#Add_Claim_Serviceee3_DC").show();
        $("#edit_Claim_Service3_DC").show();
        $("#New_Claim_Service3_DC").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[1].innerText;
        var Service_qntt = row1data[2].innerText;

        $('#edited_row_id3_DC').val(rowindexx - 1);
        // $.get("/Approvals/Get_ServiceCode_row", { Service_Name: Service_Name, Providerid: $('#Provider_id_DC').val() }, function (data) {
        $.get("/ClaimForm/CheckServiceNamoptical", { id: Service_Name }, function (price) {
            if (price == "aa") {
                price = 0;
            }
            var roww = $(button).closest("TR").find("td");

            $("#selectopticalcenterlist_DC").val(roww[1].innerText);
            $('#quntity3_DC').val(roww[2].innerText);
            var duee = price * Service_qntt;
            $('#EditDueAmt_Service_DC').val(duee);
            //$('#EditDueAmt_Service_DC').val(roww[5].innerText.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            $('#Service_Note3_DC').val(roww[3].innerText);

            //$('#Service_code').val(data);


            // })
        })



    }
    function edited4_DC(button) {
        $("#Add_Claim_Serviceee4_DC").show();
        $("#edit_Claim_Service4_DC").show();
        $("#New_Claim_Service4_DC").hide();

        //Determine the reference of the Row using the Button.
        //var row = $(button).closest("TR");
        var row = $(button).closest("TR");
        //.find("td")
        //Delete the Table row using it's Index.
        var row1data = $(button).closest("TR").find("td");

        var rowindexx = row[0].rowIndex;
        var Service_Name = row1data[1].innerText;
        var Service_qntt = row1data[2].innerText;

        $('#edited_row_id4_DC').val(rowindexx - 1);
        // $.get("/Approvals/Get_ServiceCode_row", { Service_Name: Service_Name, Providerid: $('#Provider_id_DC').val() }, function (data) {
        $.get("/ClaimForm/CheckServiceNamphysiothrapy", { id: Service_Name }, function (price) {
            if (price == "aa") {
                price = 0;
            }
            var roww = $(button).closest("TR").find("td");

            $("#selectphysiothrapylist_DC").val(roww[1].innerText);
            $('#quntity4_DC').val(roww[2].innerText);
            var duee = price * Service_qntt;
            $('#EditDueAmt_Service_DC').val(duee);
            //$('#EditDueAmt_Service_DC').val(roww[5].innerText.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            $('#Service_Note4_DC').val(roww[3].innerText);

            //$('#Service_code').val(data);


            // })
        })



    }

</script>


<script type="text/javascript">
            $(document).ready(function () {


                $("#Diagnosis_DC").change(function () {




                    $.get("/ClaimForm/Get_Icd_code", { id: $('#Diagnosis_DC').val() }, function (data) {
                        $('#ICD_Number_DC').val(data.ICDCode1);

                    })


                });

                $("#ICD_Number_DC").change(function () {




                    $.get("/ClaimForm/Get_Diagnosis_Name", { id: $('#ICD_Number_DC').val() }, function (data) {
                        $('#Diagnosis_DC').val(data.ShortName);

                    })


                });




                //$("#quntity_DC").change(function () {
                //    myFunction();

                //});

                $("#quntityDoc_DC").change(function () {
                    var quntityy = parseFloat(($('#quntityDoc_DC').val()).replace(/,/g, ''));
                    if ($('#quntityDoc_DC').val() == "" || isNaN($('#quntityDoc_DC').val())) {
                        quntityy = 1;
                        $('#quntityDoc_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#quntityDoc_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#SystemPrice_DC").change(function () {
                    var quntityy = parseFloat(($('#SystemPrice_DC').val()).replace(/,/g, ''));
                    if ($('#SystemPrice_DC').val() == "" || isNaN($('#SystemPrice_DC').val())) {
                        quntityy = 1;
                        $('#SystemPrice_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#SystemPrice_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#Requested_Price_DC").change(function () {
                    var quntityy = parseFloat(($('#Requested_Price_DC').val()).replace(/,/g, ''));
                    if ($('#Requested_Price_DC').val() == "" || isNaN($('#Requested_Price_DC').val())) {
                        quntityy = 1;
                        $('#Requested_Price_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#Requested_Price_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#quntity_DC").change(function () {
                    var quntityy = parseFloat(($('#quntity_DC').val()).replace(/,/g, ''));
                    if ($('#quntity_DC').val() == "" || isNaN($('#quntity_DC').val())) {
                        quntityy = 1;
                        $('#quntity_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#quntity_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#quntity1_DC").change(function () {
                    var quntityy = parseFloat(($('#quntity1_DC').val()).replace(/,/g, ''));
                    if ($('#quntity1_DC').val() == "" || isNaN($('#quntity1_DC').val())) {
                        quntityy = 1;
                        $('#quntity1_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#quntity1_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#quntity2_DC").change(function () {
                    var quntityy = parseFloat(($('#quntity2_DC').val()).replace(/,/g, ''));
                    if ($('#quntity2_DC').val() == "" || isNaN($('#quntity2_DC').val())) {
                        quntityy = 1;
                        $('#quntity2_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#quntity2_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#quntity3_DC").change(function () {
                    var quntityy = parseFloat(($('#quntity3_DC').val()).replace(/,/g, ''));
                    if ($('#quntity3_DC').val() == "" || isNaN($('#quntity3_DC').val())) {
                        quntityy = 1;
                        $('#quntity3_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#quntity3_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#quntity4_DC").change(function () {
                    var quntityy = parseFloat(($('#quntity4_DC').val()).replace(/,/g, ''));
                    if ($('#quntity4_DC').val() == "" || isNaN($('#quntity4_DC').val())) {
                        quntityy = 1;
                        $('#quntity4_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#quntity4_DC').val(quntityy.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });
                $("#Deductible_amt").change(function () {
                    var Service_Deductuble = parseFloat(($('#Deductible_amt').val()).replace(/,/g, ''));
                    if (Service_Deductuble == "" || isNaN(Service_Deductuble)) {
                        Service_Deductuble = 0;
                        $('#Deductible_amt').val(Service_Deductuble.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                    else {
                        $('#Deductible_amt').val(Service_Deductuble.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    }
                });



                function myFunction() {
                    var Unit_pric = parseFloat(($('#Unit_price').val()).replace(/,/g, ''));
                    var quntit = parseFloat(($('#quntity_DC').val()).replace(/,/g, ''));
                    var Service_Deductuble_Per = parseFloat(($('#Service_Deductuble_Perc').val()).replace(/,/g, ''));

                    if (Unit_pric == "" || isNaN(Unit_pric)) {
                        Unit_pric = 0;

                    }
                    if (quntit == "" || isNaN(quntit)) {
                        quntit = 0;

                    }
                    //calculations
                    var Contrac_amt = Unit_pric * quntit;

                    var Deductibl_amt = Contrac_amt * Service_Deductuble_Per;
                    $('#quntity_DC').val(quntit.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    $('#Unit_price').val(Unit_pric.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    $('#Contract_amt').val(Contrac_amt.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                    $('#Deductible_amt').val(Deductibl_amt.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                }



                $("body").on("click", "#Doctor_Add_claim_DC", function () {

                    Swal.fire({
                        title: "Confirm",
                        //icon: 'warning',
                        imageUrl: "/Images/Quationimg.jpg",
                        imageWidth: 550,
                        imageHeight: 225,
                        text: "Are you Sure you want to Request ClaimForm ?",
                        showCancelButton: true,
                        confirmButtonText: "Confirm",
                        cancelButtonColor: "#700c0c"

                    }).then((result) => {

                        if (result.isConfirmed) {
                            var Claims_ServicesDoc = new Array();
                            var j = 0;
                            $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                                var row = $(this);
                                var Claim_Servicedoc = {};
                                var dt = $('#Claim_ServicesDoc_DC').DataTable();
                                if (dt != null) {
                                    if (dt.rows().count() > 0) {
                                        Claim_Servicedoc.Service_Name = row.find("TD").eq(1).text();
                                        Claim_Servicedoc.ServicePrice = parseFloat((row.find("TD").eq(2).text()).replace(/,/g, ''));
                                        Claim_Servicedoc.Service_Qnt = parseFloat((row.find("TD").eq(3).text()).replace(/,/g, ''));
                                        Claim_Servicedoc.RequestedPrice = parseFloat((row.find("TD").eq(4).text()).replace(/,/g, ''));
                                        Claims_ServicesDoc.push(Claim_Servicedoc);
                                            j = j + 1;

                                    }
                                }
                            });
                            if (j != 0) {
                            //if (($('#pharmacy_DC').is(":checked") != false) || ($('#labs_DC').is(":checked") != false) || ($('#scan_DC').is(":checked") != false) || ($('#opticalcenter_DC').is(":checked") != false) || ($('#physiothrapy_DC').is(":checked") != false)) {

                                var cardNumber = $('#Card_number_DC').val();
                                var Membername = $('#Member_name_DC').val();
                                var Diagnosi = $('#Diagnosis_DC').val();
                                var ICD_Numberrr = $('#ICD_Number_DC').val();

                                if (cardNumber == "") {
                                    Swal.fire("warning !", "Please Enter Card Number", "warning");

                                }
                                else {
                                    if (Membername == "") {
                                        Swal.fire("warning !", "Please Enter Member Name", "warning");

                                    }
                                    else {
                                        if (Diagnosi == "") {
                                            Swal.fire("warning !", "Please Enter Diagnosis", "warning");

                                        }
                                        else {
                                            if (ICD_Numberrr == "") {
                                                Swal.fire("warning !", "Please Enter ICD Code", "warning");

                                            }
                                            else {
                                                //Loop through the Table rows and build a JSON array.
                                                // Loop through the Table rows in pharmacy
                                                var Claims_Services = new Array();
                                                if ($('#pharmacy_DC').is(":checked") != false) {
                                                    $("#Claim_Services_DC TBODY TR").each(function () {
                                                        var row = $(this);
                                                        var Claim_Service = {};
                                                        var dt = $('#Claim_Services_DC').DataTable();
                                                        if (dt != null) {
                                                            if (dt.rows().count() > 0) {
                                                                Claim_Service.Service_Name = row.find("TD").eq(1).text();
                                                                Claim_Service.Service_Qnt = parseFloat((row.find("TD").eq(2).html()).replace(/,/g, ''));
                                                                Claim_Service.Service_Note = row.find("TD").eq(3).text();
                                                                Claims_Services.push(Claim_Service);
                                                            }
                                                        }
                                                    });
                                                }
                                                // Loop through the Table rows in labs
                                                var Claims_Serviceslabs = new Array();
                                                if ($('#labs_DC').is(":checked") != false) {
                                                    $("#Claim_Services1_DC TBODY TR").each(function () {
                                                        var row = $(this);
                                                        var Claim_Service = {};
                                                        var dt = $('#Claim_Services1_DC').DataTable();
                                                        if (dt != null) {
                                                            if (dt.rows().count() > 0) {
                                                                Claim_Service.Service_Name = row.find("TD").eq(1).text();
                                                                Claim_Service.Service_Qnt = parseFloat((row.find("TD").eq(2).html()).replace(/,/g, ''));
                                                                Claim_Service.Service_Note = row.find("TD").eq(3).text();
                                                                Claims_Serviceslabs.push(Claim_Service);
                                                            }
                                                        }
                                                    });
                                                }
                                                // Loop through the Table rows in scan
                                                var Claims_Servicesscan = new Array();
                                                if ($('#scan_DC').is(":checked") != false) {
                                                    $("#Claim_Services3_DC TBODY TR").each(function () {
                                                        var row = $(this);
                                                        var Claim_Service = {};
                                                        var dt = $('#Claim_Services3_DC').DataTable();
                                                        if (dt != null) {
                                                            if (dt.rows().count() > 0) {
                                                                Claim_Service.Service_Name = row.find("TD").eq(1).text();
                                                                Claim_Service.Service_Qnt = parseFloat((row.find("TD").eq(2).html()).replace(/,/g, ''));
                                                                Claim_Service.Service_Note = row.find("TD").eq(3).text();
                                                                Claims_Servicesscan.push(Claim_Service);
                                                            }
                                                        }
                                                    });
                                                }
                                                // Loop through the Table rows in opticalcenter
                                                var Claims_Servicesopticalcenter = new Array();
                                                if ($('#opticalcenter_DC').is(":checked") != false) {
                                                    $("#Claim_Services4_DC TBODY TR").each(function () {
                                                        var row = $(this);
                                                        var Claim_Service = {};
                                                        var dt = $('#Claim_Services4_DC').DataTable();
                                                        if (dt != null) {
                                                            if (dt.rows().count() > 0) {
                                                                Claim_Service.Service_Name = row.find("TD").eq(1).text();
                                                                Claim_Service.Service_Qnt = parseFloat((row.find("TD").eq(2).html()).replace(/,/g, ''));
                                                                Claim_Service.Service_Note = row.find("TD").eq(3).text();
                                                                Claims_Servicesopticalcenter.push(Claim_Service);
                                                            }
                                                        }
                                                    });
                                                }
                                                // Loop through the Table rows in physiothrapy
                                                var Claims_Servicesphysiothrapy = new Array();
                                                if ($('#physiothrapy_DC').is(":checked") != false) {
                                                    $("#Claim_Services5_DC TBODY TR").each(function () {
                                                        var row = $(this);
                                                        var Claim_Service = {};
                                                        var dt = $('#Claim_Services5_DC').DataTable();
                                                        if (dt != null) {
                                                            if (dt.rows().count() > 0) {
                                                                Claim_Service.Service_Name = row.find("TD").eq(1).text();
                                                                Claim_Service.Service_Qnt = parseFloat((row.find("TD").eq(2).html()).replace(/,/g, ''));
                                                                Claim_Service.Service_Note = row.find("TD").eq(3).text();
                                                                Claims_Servicesphysiothrapy.push(Claim_Service);
                                                            }
                                                        }
                                                    });
                                            }

                                                var formData = new FormData();
                                                formData.append("imgfile_DC", $("#imgfile_DC")[0].files[0]);
                                                var fileUpload = $("#imgfile_DC").get(0);
                                                var files = fileUpload.files;
                                                var fileData = new FormData();
                                                fileData.append("imgfile_DC", files[0]);


                                            //Send the JSON array to Controller using AJAX.
                                            $.ajax({
                                                type: "POST",
                                                url: "/ClaimForm/addpdffiles",
                                                data: fileData,
                                                contentType: false,
                                                dataType: "json",
                                                processData: false,
                                                async: false,
                                                success: function (qq) {

                                                //Send the JSON array to Controller using AJAX.
                                                $.ajax({
                                                    type: "POST",
                                                    url: "/ClaimForm/InsertApproval_Servicess",
                                                    data: JSON.stringify({ Claims_ServicesDoc: Claims_ServicesDoc, Claim_Servicese: Claims_Services, Claims_Serviceslabs: Claims_Serviceslabs, Claims_Servicesscan: Claims_Servicesscan, Claims_Servicesopticalcenter: Claims_Servicesopticalcenter, Claims_Servicesphysiothrapy: Claims_Servicesphysiothrapy, Card_numberr: $('#Card_number_DC').val(), Diagnosiss: $('#Diagnosis_DC').val(), ICD_Numberr: $('#ICD_Number_DC').val()}),
                                                    contentType: "application/json; charset=utf-8",
                                                    dataType: "json",
                                                    success: function (r) {
                                                        if (r[0] == 0) {
                                                            //$("#Claim_Services_DC").find("tr:not(:first)").remove();
                                                            var t = $('#Claim_ServicesDoc_DC').DataTable();
                                                            t.rows().remove().draw();
                                                            serialdoc_dC = 0;

                                                            var t = $('#Claim_Services_DC').DataTable();
                                                            t.rows().remove().draw();
                                                            serial_DC = 0;

                                                            var t1 = $('#Claim_Services1_DC').DataTable();
                                                            t1.rows().remove().draw();
                                                            serial_DC1 = 0;

                                                            var t2 = $('#Claim_Services3_DC').DataTable();
                                                            t2.rows().remove().draw();
                                                            serial_DC2 = 0;

                                                            var t3 = $('#Claim_Services4_DC').DataTable();
                                                            t3.rows().remove().draw();
                                                            serial_DC3 = 0;

                                                            var t4 = $('#Claim_Services5_DC').DataTable();
                                                            t4.rows().remove().draw();
                                                            serial_DC4 = 0;
                                                            //alert("Approval Form is inserted.\n Approval Number is : " + r[1] + "    .");

                                                            //if (confirm("Approval Form is inserted.\n Approval Number is : " + r[1] + "    ." + "\n Do you want to Print Approval")) {
                                                            //window.open('Url.Action("GenerateReport_PrintBatchApproval", "Approvals", new { typeOfReport = "PDF" })', '_blank');
                                                            //alert("Approval Form is inserted.\n Approval Number is : " + r[1] + "    .");
                                                            //Swal.fire("Success !", "Approval Form is inserted.<br> Approval Number is : " + r[1] + "    .", "success");
                                                            @*.then(function () {

                                                                var Approval_numberee = r[1];

                                                                window.open('@Url.Action("GenerateReport_PrintBatchApproval", "Approvals")?typeOfReport=PDF' + '&Approval_numberr=' + Approval_numberee, '_blank');
                                                            });*@

                                                            // }
                                                            //$("#select_all_DC").prop('checked', false).change();
                                                            //$('#Card_number_DC').val('');
                                                            //$('#Member_name_DC').val('');
                                                            //$("#Member_Info_Table_DC").hide();
                                                            //$('#ICD_Number_DC').val('');
                                                            //$('#Diagnosis_DC').val('');
                                                            //$('#imgfile_DC').val('');
                                                            //$('#CheckCardNum_DC').val("1");
                                                            //$('#contractNum_DC').val("");

                                                            Swal.fire("Success", "Claim Form is inserted.<br> Claim Form Number is : " + r[1] + "    .", "success").then(function () {

                                                                    var MemberReques = $('#ClaimForm_Number').val();
                                                                    if (MemberReques == "" || MemberReques == "whatever") {
                                                                        $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: $('#Card_number_DC').val(), Smart_CardRequestID: "" }, function (data) {
                                                                             var Approval_ID = r[2];

                                                                            window.open('@Url.Action("GenerateReport_PrintClaimForm", "ClaimForm")?typeOfReport=PDF' + '&ApprovalID=' + Approval_ID, '_blank');

                                                                            window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                                                                        })
                                                                    }
                                                                    else {
                                                                        var myArray = MemberReques.split(" ## ");
                                                                        var CardNumber = myArray[0];
                                                                        var EntryDate = myArray[1];
                                                                        var SmartCardRequestID = myArray[2];

                                                                        $.get("/ClaimForm/updatemembersmartRequest", { Card_Number: CardNumber, Smart_CardRequestID: SmartCardRequestID }, function (data) {
                                                                             var Approval_ID = r[2];

                                                                            window.open('@Url.Action("GenerateReport_PrintClaimForm", "ClaimForm")?typeOfReport=PDF' + '&ApprovalID=' + Approval_ID, '_blank');

                                                                            window.open('@Url.Action("MemberSmartCardRequests", "ClaimForm")', '_self');

                                                                        })


                                                                    }

                                                            });

                                                        }
                                                        else if (r[0] == 1) {
                                                            //alert(r[1]);
                                                            Swal.fire("warning !", r[1], "warning");

                                                        }

                                                    }
                                                    });
                                                }
                                            });


                                        }
                                        }
                                    }
                                }
                                }
                            else {
                                //Swal.fire("warning !", "Please Select At Least One Provider Service", "warning");
                                Swal.fire("Warning !", "Please Select At Least One Service To Request ClaimForm. ", "warning");

                            }

                            }
                                });

                });


                $("#Member_name_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('Members_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_members", { id: value }, function (data) {

                        for (var i = 0; i < data[0].length; i++) {
                            var li = document.createElement('option');

                            li.value = data[0][i];
                            incompleteTasks.appendChild(li);

                        }
                        if (data[1] == "a") {

                            $('#Card_number_DC').val("");
                            $("#Information").hide();
                            $("#Member_Info_Table_DC").hide();
                            $('#CheckCardNum_DC').val("1");


                        }
                        else {
                            $('#Card_number_DC').val(data[1]);

                            $.get("/ClaimForm/Get_Member_info", { id: data[1] }, function (data) {


                                if (data.length != 0) {
                                    if (data[1] == "Wellness Plus" || data[1] == "Wellness Plus DMV") {
                                        //alert(data[1]);
                                        Swal.fire("Warning !", $('#Card_number_DC').val() + " is not Correct <br> User Can not Accessed For this  Card Number <br> Please Contact With CMC", "warning");
                                        $('#Member_name_DC').val("");
                                        $('#Card_number_DC').val("");
                                    }
                                    else {
                                        $("#Information").show();
                                        $("#Member_Info_Table_DC").show();


                                        $('#Member_name_DC').val(data[0]);
                                        $('#contractNum_DC').val(data[3]);

                                        $("#Member_Info_Table_DC").find("tr:not(:first)").remove();
                                        //$("#Member_Info_Table_DC").empty();

                                        var tBody = $("#Member_Info_Table_DC > TBODY")[0];

                                        //Add Row.
                                        var row = tBody.insertRow(-1);
                                        var cell = $(row.insertCell(-1));
                                        cell.html(data[0]);
                                        //cell.css('color', 'red');
                                        cell = $(row.insertCell(-1));
                                        cell.html(data[1]);
                                        //cell.css('color', 'red');
                                        cell = $(row.insertCell(-1));
                                        cell.html(data[2]);
                                        //cell.css('color', 'red');
                                        cell = $(row.insertCell(-1));
                                        cell.html(data[3]);
                                        //cell.css('color', 'red');
                                        cell = $(row.insertCell(-1));
                                        cell.html(data[4]);
                                        //cell.css('color', 'red');
                                        var ActiveDate = moment(data[5]);
                                        cell = $(row.insertCell(-1));
                                        cell.html(ActiveDate.format("DD-MM-YYYY"));
                                        //cell.css('color', 'red');
                                        cell = $(row.insertCell(-1));

                                        if (data[18] == "1") {
                                            cell.html("Stopped");
                                            cell.css('color', 'red');

                                        }
                                        else {
                                            cell.html(data[6]);
                                            cell.css('color', 'Green');

                                        }
                                        //cell.css('color', 'red');

                                        var DeActive_Date = moment(data[7]);
                                        cell = $(row.insertCell(-1));
                                        //alert(data[0][i].DeActiveDate);
                                        //alert(DeActive_Date.format("DD-MM-YYYY"));
                                        var aaaa = DeActive_Date.format("DD-MM-YYYY");;
                                        //alert(aaaa);
                                        if (data[7] != null && aaaa != "01-01-0001") {
                                            //alert(DeActive_Date.format("DD-MM-YYYY"));
                                            cell.html(DeActive_Date.format("DD-MM-YYYY"));
                                            //cell.css('color', 'red');

                                        }
                                        else {
                                            cell.html('');

                                        }


                                        //var memberbirth_Date = moment(data[8]);
                                        //cell = $(row.insertCell(-1));
                                        //var aaa = memberbirth_Date.format("DD-MM-YYYY");;
                                        //if (data[8] != null && aaa != "01-01-0001") {
                                        //    cell.html(memberbirth_Date.format("DD-MM-YYYY"));
                                        //}
                                        //else {
                                        //    cell.html('');
                                        //}

                                        //cell = $(row.insertCell(-1));
                                        //cell.html(data[9]);

                                        var contractstart_Date = moment(data[16]);
                                        cell = $(row.insertCell(-1));
                                        var aaa1 = contractstart_Date.format("DD-MM-YYYY");;
                                        if (data[16] != null && aaa1 != "01-01-0001") {
                                            cell.html(contractstart_Date.format("DD-MM-YYYY"));
                                        }
                                        else {
                                            cell.html('');
                                        }

                                        var contractend_Date = moment(data[17]);
                                        cell = $(row.insertCell(-1));
                                        var aaa2 = contractend_Date.format("DD-MM-YYYY");;
                                        if (data[17] != null && aaa2 != "01-01-0001") {
                                            cell.html(contractend_Date.format("DD-MM-YYYY"));
                                        }
                                        else {
                                            cell.html('');
                                        }
                                        //cell.css('color', 'red');
                                        cell = $(row.insertCell(-1));
                                        cell.html(data[10]);
                                        //cell.css('color', 'red');


                                        if (data[11] == "1") {
                                            //alert("Customer Used 100% of Premium Amount in Contract")
                                            //$("#claim_services1_DC").hide();
                                            //$("#claim_services1pharmacy").hide();
                                            if (data[12] == 0) {
                                                $("#claim_services1_DC").show();

                                            }
                                            else if (confirm("Customer Used 100% of Premium Amount in Contract , Customer Used : "
                                                + data[13] + " And Premium Amount : " + data[12] + "\n Do you want to Add Services")) {
                                                $("#claim_services1_DC").show();

                                            }
                                            else {
                                                //$("#claim_services1_DC").hide();
                                            }

                                        }

                                        else if (data[11] == "2") {
                                            //alert("Member Used 100% of Annual Ceiling in Contract , Member Used : "
                                            //    + data[15] + " And Annual Ceiling : " + data[14])

                                            Swal.fire("information !", "Member Used 100% of Annual Ceiling in Contract <br> Member Used : "
                                                + data[15] + " <br> Annual Ceiling : " + data[14], "info");

                                            // alert("Member Used 100% of Annual Ceiling in Contract")
                                            //$("#claim_services1_DC").hide();
                                            //$("#claim_services1pharmacy").hide();
                                        }
                                        else if (data[11] == "11") {

                                            if (data[12] == 0) {
                                                $("#claim_services1_DC").show();

                                            }
                                            //alert("Customer Used More Than 90% of Premium Amount in Contract and The rest of the amount is less than 10%")
                                            else {
                                                //alert("Customer Used More Than 90% of Premium Amount in Contract and The rest of the amount is less than 10% , Customer Used : "
                                                //    + data[13] + " And Premium Amount : " + data[12])
                                                Swal.fire("information !", "Customer Used More Than 90% of Premium Amount in Contract and The rest of the amount is less than 10% <br> Customer Used : "
                                                    + data[13] + " <br> Premium Amount : " + data[12], "info");

                                                //$("#claim_services1_DC").show();
                                                //$("#claim_services1pharmacy").show();
                                                //if ($('#prov_cat_idd_DC').val() != 2) {
                                                $("#claim_services1_DC").show();
                                                //}
                                                //else {
                                                //    //$("#claim_services1pharmacy").show();
                                                //}
                                            }
                                        }
                                        else {
                                            //if ($('#prov_cat_idd_DC').val() != 2) {
                                            $("#claim_services1_DC").show();
                                            //}
                                            //else {
                                            //    //$("#claim_services1pharmacy").show();
                                            //}
                                        }
                                        $('#CustomerPremium_Amt_DC').val(data[12]);
                                        $('#Customer_TotalDueAmt_DC').val(data[13]);
                                        $('#AnnualCeilinggg_DC').val(data[14]);
                                        $('#Member_TotalDueAmt_DC').val(data[15]);

                                        $('#CheckCardNum_DC').val("0");

                                        if (data[6] == "Stopped") {
                                            //$("#diagnosis").show();
                                            //alert("Member Activity Status is Stopped \n Deactive Date is : " + DeActive_Date.format("DD-MM-YYYY"));
                                            Swal.fire("Warning !", "Member Activity Status is Stopped \n Deactive Date is : " + DeActive_Date.format("DD-MM-YYYY"), "warning");


                                        }
                                        if (data[18] == "1") {
                                            //alert("The Contract Period Time has Ended \n End Date is : " + contractend_Date.format("DD-MM-YYYY"));
                                            Swal.fire("Warning !", "The Contract Period Time has Ended \n End Date is : " + contractend_Date.format("DD-MM-YYYY"), "warning");

                                        }
                                        $('#Contract_TypeID_DC').val(data[19]);
                                        $('#Is_OverCeiling_DC').val(data[20]);

                                        $('#Member_DeductablePercentage_DC').val(data[23] + " %");
                                        $('#Member_DeducPerc_DC').val(data[23]);
                                        var count = 0;
                                        var deduct = data[23];
                                        $("#Claim_ServicesDoc_DC TBODY TR").each(function () {
                                            var duepayment = $(this).find("TD").eq(4).text();
                                            var lastDue = parseFloat((duepayment).replace(/,/g, ''));
                                            var Qnt = $(this).find("TD").eq(3).text();
                                            var lastQnt = parseFloat((Qnt).replace(/,/g, ''));
                                            if (lastDue == "" || isNaN(lastDue) || lastQnt == "" || isNaN(lastQnt)) {
                                                //count = 0;
                                                count = count + 0;
                                            }
                                            else {
                                                var totAmt = lastDue * lastQnt;
                                                count = count + totAmt;

                                            }
                                        });
                                        var Member_Deductableamt = count * deduct / 100;
                                        $('#Claim_FormAmt_DC').val(count.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                                        $('#Member_Deductable_DC').val(Member_Deductableamt.toLocaleString('en-US', { minimumFractionDigits: 2 }));


                                    }
                                }
                                else {
                                    //alert($('#Card_number_DC').val() + " is not Correct Please Enter Card Number Again")
                                    Swal.fire("warning !", $('#Card_number_DC').val() + " is not Correct <br> Please Enter Card Number Again", "warning");


                                    $("#Member_Info_Table_DC").hide();
                                    $('#Member_name_DC').val("");
                                    $('#CheckCardNum_DC').val("1");
                                    $('#contractNum_DC').val("");
                                    $('#Member_DeductablePercentage_DC').val(0 + " %");
                                    $('#Member_DeducPerc_DC').val(0);
                                    $('#Claim_FormAmt_DC').val(0);
                                    $('#Member_Deductable_DC').val(0);
                                }

                                $("#selectServicelistdiv_DC .select2-selection__rendered").text("----Select Service Name----");
                                $("#drugs_namediv .select2-selection__rendered").text("----Select Drug Name----");


                            })

                        }
                    })

                });


                $("#Diagnosis_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('Diagnosis_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_diagnosis", { id: value }, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });


                $("#selectServicelistDoc_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('Service_Listdoc_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_Servicess", { id: value }, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });

                $("#selectServicelistDoc_DC").change(function () {

                    var ServiceNam = $('#selectServicelistDoc_DC').val();
                    if (ServiceNam != "") {
                        $.get("/ClaimForm/Get_service_data", { selectServicelist: ServiceNam }, function (data) {
                            if (data[0] == 1) {
                                $('#SystemPrice_DC').val(data[1].toLocaleString('en-US', { minimumFractionDigits: 2 }));
                                $('#Requested_Price_DC').val(data[1].toLocaleString('en-US', { minimumFractionDigits: 2 }));
                            }
                            else {
                                //alert(data[1]);
                                var pri = 0;
                                $('#SystemPrice_DC').val(pri.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                                $('#Requested_Price_DC').val(pri.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                                Swal.fire("warning !", data[1], "warning");

                            }

                        })
                    }

                });

                $("#selectServicelist_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('drugs_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_Servicesspharmacy", { id: value}, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });



                $("#selectlabslist_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('labs_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_Servicesslab", { id: value }, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });

                $("#selectscanlist_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('scan_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_Servicessscan", { id: value }, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });

                $("#selectopticalcenterlist_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('opticalcenter_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_ServicessOptical", { id: value }, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });


                $("#selectphysiothrapylist_DC").on("keyup", function () {
                    var value = $(this).val().toLowerCase();
                    var incompleteTasks = document.getElementById('physiothrapy_List_DC');
                    incompleteTasks.innerHTML = '';
                    $.get("/ClaimForm/select_Servicessphysiothrapy", { id: value }, function (data) {

                        for (var i = 0; i < data.length; i++) {
                            var li = document.createElement('option');

                            li.value = data[i];
                            incompleteTasks.appendChild(li);

                        }
                    })

                });




                $("body").on("click", "#Medical_History_DC", function () {


                    if ($('#CheckCardNum_DC').val() != "1") {

                        if ($('#Card_number_DC').val()=="") {

                            //alert("Please Select Card Number");
                            Swal.fire("warning !", "Please Select Card Number", "warning");

                        }
                        if ($('#contractNum_DC').val() == "") {
                            Swal.fire("warning !", "Please Select Contract Number", "warning");

                            //alert("Please Select Contract Number");
                        }
                        else {
                            var cardNumber = $('#Card_number_DC').val();
                            var contractNumber = $('#contractNum_DC').val();
                            //alert(cardNumber);
                            //alert(contractNumber);
                            window.open('@Url.Action("MedicalHistory", "ClaimForm")?card_Number=' + cardNumber/* + '&contract_Number=' + contractNumber*/, '_blank');
                        }
                    }
                    else {
                        //alert("Please Select Card Number");
                        Swal.fire("warning !", "Please Select Card Number", "warning");

                    }

                })







            });



</script>


<script type="text/javascript">
    $(document).on('select2:open', () => {
        document.querySelector('.select2-search__field').focus();
    });
</script>


<script>
    $("#pharmacy_role_DC").hide();
    $("#labs_role_DC").hide();
    $("#scan_role_DC").hide();
    $("#opticalcenter_role_DC").hide();
    $("#physiothrapy_role_DC").hide();

    $("#select_all_DC").change(function () {

        if ($('#select_all_DC').is(":checked") != false) {

            $("#pharmacy_DC").prop('checked', true);
            $("#labs_DC").prop('checked', true);
            $("#scan_DC").prop('checked', true);
            $("#opticalcenter_DC").prop('checked', true);
            $("#physiothrapy_DC").prop('checked', true);


            $("#pharmacy_role_DC").show();
            $("#labs_role_DC").show();
            $("#scan_role_DC").show();
            $("#opticalcenter_role_DC").show();
            $("#physiothrapy_role_DC").show();


        }
        else {
            $("#pharmacy_DC").prop('checked', false);
            $("#labs_DC").prop('checked', false);
            $("#scan_DC").prop('checked', false);
            $("#opticalcenter_DC").prop('checked', false);
            $("#physiothrapy_DC").prop('checked', false);

            $("#pharmacy_role_DC").hide();
            $("#labs_role_DC").hide();
            $("#scan_role_DC").hide();
            $("#opticalcenter_role_DC").hide();
            $("#physiothrapy_role_DC").hide();

        }
    });

    $("#pharmacy_DC").change(function () {

        if ($('#pharmacy_DC').is(":checked") != false) {
            $("#pharmacy_role_DC").show();
        }
        else {
            $("#pharmacy_role_DC").hide();
        }
    });
    $("#labs_DC").change(function () {

        if ($('#labs_DC').is(":checked") != false) {
            $("#labs_role_DC").show();
        }
        else {
            $("#labs_role_DC").hide();
        }
    });
    $("#scan_DC").change(function () {

        if ($('#scan_DC').is(":checked") != false) {
            $("#scan_role_DC").show();
        }
        else {
            $("#scan_role_DC").hide();
        }
    });
    $("#opticalcenter_DC").change(function () {

        if ($('#opticalcenter_DC').is(":checked") != false) {
            $("#opticalcenter_role_DC").show();
        }
        else {
            $("#opticalcenter_role_DC").hide();
        }
    });
    $("#physiothrapy_DC").change(function () {

        if ($('#physiothrapy_DC').is(":checked") != false) {
            $("#physiothrapy_role_DC").show();
        }
        else {
            $("#physiothrapy_role_DC").hide();
        }
    });

</script>

